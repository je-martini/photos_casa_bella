"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[7978],{77361:(e,i,t)=>{t.d(i,{Z:()=>h});var o=t(46933),a=t(91931),r=t(47986),n=t(52246),l=t(94813),d=t(7646),s=t(33535),u=t(16797),c=t(24316),m=t(85907),p=t(33990);const g=(0,a.w1)(d.Bi,(e=>{let{$theme:i,$isHovering:t}=e;return{transition:"opacity 0.3s ease-in-out",opacity:t?1:0,background:i.colors.backgroundPrimary,":hover":{background:i.colors.backgroundSecondary},color:i.colors.contentPrimary,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",pointerEvents:"auto",border:`1px solid ${i.colors.borderOpaque}`,whiteSpace:"nowrap",textOverflow:"ellipsis"}})),h=e=>{const i=(0,l.TH)(),{currentStoreDraftOrderUUID:t}=(0,c.Z)(),{primaryDraftOrderUUID:a}=(0,r.RAN)(i,["primaryDraftOrderUUID"]),d=a||(t||void 0),h=(0,s.ZP)();return(0,p.tZ)(g,{$as:n.rU,onClick:i=>{h("eats:quick_view_pill_click",{storeCatalog:{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.itemUuid,sourceType:e.surface,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData}}),e.item.itemAd&&h("ads:ads_click",{adsAnalyticsEvent:{adEventType:u.J.CLICK,adImpressionUUID:e.item.itemAd.impressionId||"",adData:e.item.itemAd.adData||"",bidderUUID:e.storeUuid}}),i.stopPropagation()},to:(0,r.f_e)(i,{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.itemUuid,...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:d,entryPoint:(0,m.F)(e.surface)}}),$isHovering:e.isHovering,children:(0,p.tZ)(o.v,{id:"catalog_item.quick_view"})})}},28942:(e,i,t)=>{t.d(i,{Z:()=>J});var o=t(36151),a=t(43193),r=t(81149),n=t(91931),l=t(62091),d=t(24217),s=t(71110),u=t(67206),c=t(89400),m=t(31913),p=t(87763),g=t(77361),h=t(2403),y=t(6479),U=t(90644),b=t(63036),f=t(47986),Z=t(94813),I=t(10400),x=t(11849),v=t(4868),S=t("__fusion__968"),A=t(36278),$=t(57578),P=t(79250),w=t(87444),D=t(79640),_=t(32762),C=t(56174),k=t(7432),T=t(20487),B=t(33990);const E=188,O=(0,n.zo)("div",(()=>({width:"100%",display:"flex",flexFlow:"column nowrap",position:"relative"}))),R=(0,n.zo)("div",(e=>{let{$quickAddPosition:i}=e;return{position:"absolute",...i===I.oN.BOTTOM_TRAILING?{right:"8px",top:"8px"}:{left:"50%",transform:"translate(-50%, 0)",bottom:"8px"}}})),L=(0,n.zo)("div",(e=>{let{$theme:i,$imageDimensions:t,$catalogConfigImageDimensions:o,$isStoreOfdRedesignXpEnabled:a}=e;return{height:`${t?.height?t.height:o?o.height:E}px`,width:t?.width?`${t.width}px`:"100%",flexShrink:0,position:"relative",...a?{borderRadius:i.borders.radius400}:null}})),z=(0,n.zo)("div",(e=>{let{$cornerRadius:i}=e;return{borderRadius:`${i}px`,position:"relative",height:"100%",overflow:"hidden"}})),F=(0,n.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),X=(0,n.zo)(l.Z,(e=>{let{$isAvailable:i,$isHovering:t,$objectFit:o,$height:a,$loaded:r,$isCanonical:n}=e;return{opacity:r?i||n?1:.5:0,height:`${a}px`,width:"100%",objectFit:o,flexShrink:0,transition:"transform 0.5s ease-in-out",transform:t?"scale(1.1)":"scale(1)"}})),M=(0,n.zo)("div",(e=>{let{$theme:i}=e;return{...i.typography.LabelXSmall,height:"24px",color:i.colors.buttonSecondaryText,background:i.colors.buttonSecondaryFill,boxSizing:"border-box",padding:"4px 8px",marginTop:"4px",borderRadius:"12px",width:"fit-content",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%",display:"flex",alignItems:"center"}})),N=(0,n.zo)("div",(e=>{let{$theme:i,$isStoreOfdRedesignXpEnabled:t}=e;return{...i.typography.LabelXSmall,position:"absolute",background:i.colors.signpost,color:i.colors.onSignpost,boxSizing:"border-box",height:i.sizing.scale800,top:i.sizing.scale300,borderRadius:`0 ${i.sizing.scale500} ${i.sizing.scale500} 0`,padding:`${i.sizing.scale100} ${i.sizing.scale500}`,textOverflow:"ellipsis",maxWidth:"90%",whiteSpace:"nowrap",overflow:"hidden"}})),q=(0,n.zo)("div",(e=>{let{$isBorderPresent:i}=e;return{paddingTop:"4px",display:"flex",flexDirection:"column",height:"100%",...i&&{padding:"4px 8px 8px 8px"}}})),G=(0,n.zo)("div",(e=>{let{$theme:i}=e;return{...(0,u.Z)({$theme:i,height:E})}})),H=(0,n.zo)("div",{paddingTop:"2px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),V=(0,n.zo)("p",{display:"flex",alignItems:"center",flexWrap:"wrap"}),Q=(0,n.zo)("div",{paddingTop:"4px",display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),W=(0,n.zo)("div",(e=>{let{$promoBadgePosition:i}=e;return{display:"flex",alignItems:"flex-start",flexWrap:"wrap",...i===v.u.OVER_IMAGE_TOP_LEADING?{position:"absolute",top:"8px",left:"8px"}:{marginTop:"4px"}}})),Y=(0,n.zo)("div",(e=>{let{$theme:i}=e;return i.typography.LabelMedium})),K=(0,s.pZ)(t(19702)),j=e=>{let{item:i,children:t,isHovering:a,showQuickViewEntryPoint:n,storeUuid:l,sectionUuid:s,subsectionUuid:u,itemStyle:I,isGrocery:j,primaryBundledStoreUuid:J,catalogSectionAnalyticsData:ee,hasLazyloadOverflowContainer:ie,surface:te,imageDimensions:oe,clampItemTitle:ae=!1,isCanonical:re=!1,consumerItemFulfillmentViewType:ne}=e;const[le,de]=(0,o.useState)(!1),se=Boolean(i.imageUrl),{promotionComponentRef:ue}=(0,h.P)({catalogItem:i,storeUuid:l}),{adsViewableImpressionRef:ce}=(0,y.Z)({itemAd:i.itemAd}),me=(0,Z.TH)(),{modalName:pe}=(0,f.RAN)(me,["modalName"]),ge=i.quickAddConfig?.position,he=Boolean(i.promoInfo?.promoBadge),{itemRatingTreatmentName:ye}=(0,P.F)(),Ue=(0,o.useMemo)((()=>(0,$.xZ)(i,ye)),[i,ye]),be=(0,w.Z)("cpg_ads_storefront_sponsored_items_enabled"),fe=i.isAvailable??!0,Ze=(0,D.JG)({itemStyle:I,isGrocery:j}),{isStoreOfdRedesignXpEnabled:Ie}=(0,_.Z)(),xe=(0,b.lU)(I?.cornerRadius??U.p.SPACING_UNIT_1_5X),ve=I?.headingPrimaryMaxLines,Se=I?.labelPrimaryMaxLines;return(0,B.BX)(O,{"data-testid":`store-menu-item--${i.uuid}`,ref:ce,children:[(0,B.BX)(L,{$catalogConfigImageDimensions:oe,$isStoreOfdRedesignXpEnabled:Ie,children:[(0,B.BX)(z,{$cornerRadius:xe,children:[(e=>{let{cornerRadius:t}=e;const o=(0,B.tZ)(X,{$isCanonical:re,$isHovering:!1,$objectFit:Ze,$hasImage:se,$isAvailable:fe,$height:oe?oe.height:E,$loaded:le,src:i.imageUrl||K,alt:i.title||"","aria-hidden":!0,loading:"lazy",decoding:"async",onLoad:()=>de(!0)}),a="magicUpsell"===pe?'[data-test="desktop-dialog"]':void 0;return i.imageUrl?(0,B.tZ)(r.ZP,{height:oe?oe.height:E,placeholder:(0,B.tZ)(G,{}),once:!0,scrollContainer:a,...ie?{overflow:!0,offset:[1200,300]}:{offset:oe?oe.height:E},children:(0,B.tZ)(d.Z,{src:i.imageUrl,children:o})}):o})({cornerRadius:xe}),i.imageOverlayElements?(0,B.tZ)(k.Z,{elements:i.imageOverlayElements}):(0,B.tZ)(F,{})]}),i.imageOverlayElements?null:(0,B.tZ)(B.HY,{children:he&&i.promoInfo?.promoBadge&&i.promoInfo?.badgePosition===v.u.OVER_IMAGE_TOP_LEADING?(0,B.tZ)(W,{$promoBadgePosition:v.u.OVER_IMAGE_TOP_LEADING,children:(0,B.tZ)(x.Z,{viewModel:i.promoInfo?.promoBadge})}):i.endorsement?.textBorder?(0,B.tZ)(N,{$isStoreOfdRedesignXpEnabled:Ie,children:i.endorsement.text}):null}),n&&i.uuid?(0,B.tZ)(R,{$quickAddPosition:ge,children:(0,B.tZ)(g.Z,{isHovering:a,item:i,itemUuid:i.uuid,storeUuid:l,sectionUuid:s,subsectionUuid:u,surface:te,primaryBundledStoreUuid:J,catalogSectionAnalyticsData:ee})}):null,t]}),(0,B.BX)(q,{ref:ue,$isBorderPresent:Boolean(I?.borderColor),children:[i.itemThumbnailElements?(0,B.tZ)(C.Z,{elements:i.itemThumbnailElements}):(0,B.BX)(B.HY,{children:[(0,B.tZ)(p.Z,{clamp:3,children:i.headingPrimary&&ve?(0,B.tZ)(p.Z,{clamp:ve,children:(0,B.tZ)(m.ZP,{text:i.headingPrimary})}):i.headingPrimary&&ae?(0,B.tZ)(p.Z,{clamp:2,children:(0,B.tZ)(m.ZP,{text:i.headingPrimary})}):i.headingPrimary?(0,B.tZ)(m.ZP,{text:i.headingPrimary}):i.titleBadge?(0,B.tZ)(c.Z,{badge:i.titleBadge,baseFont:"LabelMedium"}):i.title&&!i.labelPrimary?(0,B.tZ)(Y,{children:i.title}):null}),i.labelPrimary&&Se?(0,B.tZ)(H,{children:(0,B.tZ)(p.Z,{clamp:Se,children:(0,B.tZ)(m.ZP,{text:i.labelPrimary})})}):i.labelPrimary?j?(0,B.tZ)(H,{children:(0,B.tZ)(p.Z,{clamp:3,children:(0,B.tZ)(m.ZP,{text:i.labelPrimary})})}):(0,B.tZ)(V,{children:(0,B.tZ)(m.ZP,{text:i.labelPrimary})}):i.priceTagline?(0,B.tZ)(c.Z,{badge:i.priceTagline,baseFont:"ParagraphSmall"}):null,he&&i.promoInfo?.promoBadge&&i.promoInfo?.badgePosition===v.u.OFF_IMAGE_BELOW_TEXT?(0,B.tZ)(W,{$promoBadgePosition:v.u.OFF_IMAGE_BELOW_TEXT,children:(0,B.tZ)(x.Z,{viewModel:i.promoInfo?.promoBadge})}):null,!he&&i.promoInfo?.promoInfoLabel?(0,B.tZ)(Q,{children:(0,B.tZ)(m.ZP,{text:i.promoInfo?.promoInfoLabel})}):null,i?.labelTertiary&&be?(0,B.tZ)(Q,{children:(0,B.tZ)(m.ZP,{text:i.labelTertiary})}):null,i.endorsement&&!i.endorsement.textBorder&&Ue?(0,B.BX)(M,{children:["confidence_builders_eater_endorsed"===i.endorsementAnalyticsTag?(0,B.BX)(B.HY,{children:[(0,B.tZ)(S.default,{}),(0,B.tZ)(A.Q3,{})]}):null,(0,B.tZ)(A.Q3,{}),Ue]}):null]}),ne?(0,B.tZ)(T.E,{consumerItemFulfillmentViewType:ne}):null]})]})},J=a.memo(j)},7978:(e,i,t)=>{t.d(i,{C:()=>T,Z:()=>O});var o=t(43193),a=t(91931),r=t(28942),n=t(29217),l=t(47986),d=t(91631),s=t(94813),u=t(29495),c=t(29194),m=t(33535),p=t(32562),g=t(78979),h=t(10400),y=t(8639),U=t(63036),b=t(85907),f=t(16797),Z=t(40416),I=t(75514),x=t(24316),v=t(4864),S=t(74031),A=t(52246),$=t(55365),P=t(19912),w=t(91377),D=t(72439),_=t(70329),C=t(33990);const k=(0,a.zo)("div",(e=>{let{$isMenuItemLink:i}=e;return{display:"flex",flex:1,textDecoration:"none",cursor:i?"pointer":"default"}})),T=(0,a.w1)(n.bL,(e=>{let{$spanCount:i,$theme:t,$borderColor:o,$cornerRadius:a,$isStoreOfdRedesignXpEnabled:r}=e;const n=(0,y.Lq)(o),l=(0,U.lU)(a);return{position:"relative",gridColumn:`span ${i}`,...n&&{border:`1px solid ${t.colors[n]}`,borderRadius:`${l}px`},...r?null:{":hover":{margin:"-8px",padding:"8px",boxShadow:t.shadows.filterCard,transition:"box-shadow 0.3s ease-in-out"}}}})),B=(0,a.zo)("div",(e=>{let{$quickAddPosition:i}=e;return{position:"absolute",right:"8px",display:"flex",alignItems:"center",flexDirection:"row",...i===h.oN.BOTTOM_TRAILING?{bottom:"8px"}:{top:"8px"}}})),E=e=>{const i=(0,d.UO)(),t=(0,d.k6)(),a=(0,s.TH)(),{setRestoreScrollPosition:n}=(0,Z.Z)(),y=(0,m.ZP)(),U=o.useRef(null),E=(0,p.Z)(U),O=(0,b.F)(e.surface),R=(0,_.Z)(),{primaryDraftOrderUUID:L,storeCatalogSections:z}=(0,l.RAN)(a,["primaryDraftOrderUUID","storeCatalogSections"]),{currentStoreDraftOrderUUID:F}=(0,x.Z)(),{consumerItemFulfillmentViewType:X,isFulfilled:M,showBlockedItemSnackbar:N}=(0,D.g)(e.item.uuid??""),q=M,G=!q&&Boolean(e.showQuickViewEntryPoint)&&R.hasQuickAdd,H=L||(F||void 0),V="link"===R.menuItem,Q=e.itemUrl??(0,l.yz4)({location:a,args:{...(0,l.WxO)(i),sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.item.uuid||"",...e.primaryBundledStoreUuid&&{primaryBundledStoreUuid:e.primaryBundledStoreUuid,primaryDraftOrderUUID:H,entryPoint:O}},previousContext:O}),W={storeCatalog:{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.item.uuid||"",itemPosition:e.item.catalogItemAnalyticsData?.catalogSectionItemPosition??void 0,endorsementAnalyticsTag:e.item.endorsementAnalyticsTag||"",itemDisplayType:e.item.displayType||"",catalogSectionType:e.catalogSectionType,sourceType:e.surface,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData,analyticsLabel:e.item.analyticsLabel||"",...z?{originalCatalogSectionUuid:z}:null}},Y={storeUuid:e.item.storeUuid||"",sectionUuid:e.item.sectionUuid||"",subsectionUuid:e.item.subsectionUuid||"",itemUuid:e.item?.uuid||"",source:"search",position:String(e.position),carouselPosition:e.position,feedItemUuid:e.item?.uuid||"",trackingCode:e.trackingCode},K=(0,P.Z)({eventName:"eats:single_catalog_item_impression",intersectionObserverProps:{threshold:.75},eventPayload:Y}),j=e.trackingCode?(0,w.Z)(K,U):U,J=o.useMemo((()=>({catalogSection:e.catalogSectionAnalyticsData})),[e.catalogSectionAnalyticsData]),ee=e.item.quickAddConfig,ie=ee?.position,te=(0,g.Z)()&&(ee?.shouldShow??!0)&&!e.shouldHideQuickAdd&&R.hasQuickAdd,oe=te&&e.isOpen&&Boolean(e.item.isAvailable??!0),ae=(0,c.gm)(),re=e.item?.itemAvailabilityState===h.F8.LIKELY_UNAVAILABLE,ne=(0,v.ZP)(e.item.uuid||""),le=e.cartItemCount??ne,de=(0,$.Z)(W);return o.useEffect((()=>{re&&y("eats:item_availability_store_carousel_low_availability_impression",{itemAvailabilityStoreAndItem:{lowAvailabilityItemUuid:e.item?.uuid||"",catalogSectionUuid:e.sectionUuid||""}})}),[y,re,e.item?.uuid,e.sectionUuid]),(0,C.tZ)(T,{$as:"li",$spanCount:1,ref:j,$borderColor:e.itemStyle?.borderColor,$cornerRadius:e.itemStyle?.cornerRadius,$isStoreOfdRedesignXpEnabled:R.isStoreOfdRedesignXpEnabled,children:(0,C.tZ)(k,{...V?{ref:de,tabIndex:0,to:Q,onContextMenu:e=>{q&&e.preventDefault()}}:{},onClick:i=>{q&&V?(i.preventDefault(),i.stopPropagation(),N?.(X,e.item.title)):(i=>{V?i.metaKey||i.ctrlKey||(i.preventDefault(),y("eats:store_catalog_item_tap",W),I.Z&&n(I.Z.scrollY),e.item.itemAd&&y("ads:ads_click",{adsAnalyticsEvent:{adEventType:f.J.CLICK,adImpressionUUID:e.item.itemAd.impressionId||"",adData:e.item.itemAd.adData||"",bidderUUID:null===e.storeUuid?void 0:e.storeUuid}}),e.emitPickedForYouSectionItemEvent?.(W),e.onCatalogItemClickEvent?.({storeUuid:e.storeUuid,itemUuid:e.item.uuid||""}),e.onLowAvailabilityAlternateItemClick?.({alternateItemUuid:e.item.uuid||"",storeUuid:e.storeUuid}),t.push(Q)):y("eats:lost_store_catalog_item_tap",{storeCatalog:{storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,itemUuid:e.item.uuid||""}})})(i)},$as:V?A.rU:"div",$isMenuItemLink:V,children:(0,C.tZ)(r.Z,{item:e.item,quickAdd:oe,cartItemCount:e.cartItemCount,direction:ae,isHovering:E,storeUuid:e.storeUuid,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,showQuickViewEntryPoint:G,itemStyle:e.itemStyle,isGrocery:e.isGrocery,primaryBundledStoreUuid:e.primaryBundledStoreUuid,catalogSectionAnalyticsData:e.catalogSectionAnalyticsData,hasLazyloadOverflowContainer:e.hasLazyloadOverflowContainer,surface:e.surface,imageDimensions:e.imageDimensions,consumerItemFulfillmentViewType:X,children:(0,C.BX)(B,{$quickAddPosition:ie,children:[oe?(0,C.tZ)(u.Z,{isInteractionEnabled:ee?.isInteractionEnabled??!0,storeUUID:e.storeUuid,sectionUUID:e.sectionUuid,subsectionUUID:e.subsectionUuid,item:e.item,cartItemCount:e.cartItemCount,cartItemDecimalCount:e.cartItemDecimalCount,syncItemQuantity:e.syncItemQuantity,quickAddCount:e.quickAddCount,disabled:e.quickAddDisabled,itemUrl:e.itemUrl,quickAddSource:e.quickAddSource,itemAvailabilityState:e.item.itemAvailabilityState,sourceType:e.surface,analytics:J}):null,le&&!te?(0,C.tZ)(S.Z,{count:le}):null]})})})})},O=o.memo(E)}}]);