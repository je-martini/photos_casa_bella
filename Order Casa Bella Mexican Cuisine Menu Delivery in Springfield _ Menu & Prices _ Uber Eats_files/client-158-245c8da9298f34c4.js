"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[158],{57994:(e,t,l)=>{l.d(t,{$t:()=>S,ZP:()=>C,vs:()=>_});var i=l(36151),r=l(52246),n=l(91931),a=l(89400),o=l(47986),E=l(90981),c=l(69287),s=l(38379),d=l(45474),R=l(94813),O=l(25227),T=l(60849),p=l(97763),u=l(85218),N=l(35207),h=l(33990);const A=(0,n.w1)(d.b,{marginTop:0,left:"auto",right:`-${d.BY/2}px`}),_=(0,n.zo)("div",{display:"block"}),S=(0,n.zo)("div",(e=>{let{$theme:t,$isLeadingIconEnabled:l}=e;return{display:"flex",alignItems:"center",gap:l?t.sizing.scale300:"0px"}})),I=(0,h.tZ)("div",{}),g=(0,n.zo)(r.rU,{pointerEvents:"auto"}),C=e=>{let{header:t,headerTypography:l}=e;const{rankingBottomSheet:n}=(0,E.Z)(),{showEuDisclaimer:C}=(0,c.Z)(),D=(0,R.TH)(),L=Boolean(l),{title:y,subtitle:b,leadingIcon:Z}=((0,u.Z)(),t??{}),f="DisplayBold4XSmall",U=L&&l||f,m=(0,T.ip)({...p.J.carousel_header_title_clickable_flag,defaultValue:!1}),v=(0,i.useMemo)((()=>t?.callToAction&&m&&(0,O.o)(t?.callToAction,D)),[t?.callToAction,D,m]);if(!t)return I;let P;switch(Z?.type){case"icon":P=Z?.icon}const B=Boolean(P);return(0,h.BX)(_,{children:[(0,h.BX)(S,{$isLeadingIconEnabled:B,children:[B?(0,N.q7)(P):null,!y||C&&y.actionUrl?null:v?(0,h.tZ)(r.rU,{to:v,children:(0,h.tZ)(a.Z,{badge:y,baseFont:U,removeServerDrivenColor:L,removeServerDrivenFont:L})}):(0,h.tZ)(a.Z,{badge:y,baseFont:U,removeServerDrivenColor:L,removeServerDrivenFont:L}),y&&C&&y.actionUrl?(0,h.tZ)(d.ZP,{id:"carousel-eu-disclaimer",children:e=>{let{isHovering:t}=e;return(0,h.BX)(h.HY,{children:[(0,h.tZ)(a.Z,{badge:y,baseFont:U}),n?(0,h.tZ)(A,{$isVisible:t,children:(0,h.tZ)(s.y,{bottomSheet:n})}):null]})}}):null]}),b?b.actionUrl?(0,h.tZ)(g,{to:(0,o.n2t)(D,b.actionUrl),onClick:e=>e.stopPropagation(),children:(0,h.tZ)(a.Z,{badge:b,baseFont:"ParagraphSmall",baseColor:"contentSecondary"})}):(0,h.tZ)(a.Z,{badge:b,baseFont:"ParagraphSmall",baseColor:"contentSecondary"}):null]})}},36337:(e,t,l)=>{l.d(t,{Z:()=>d});var i=l(36151),r=l(71692),n=l(30768),a=l(55758),o=l(24236),E=l(91377),c=l(75785),s=l(33990);const d=i.forwardRef(((e,t)=>{let{carouselTitle:l,entityUuids:d,analyticsLabel:R,numItems:O,children:T,carouselLayoutType:p,position:u,trackingCode:N,pageType:h,carouselUuid:A,storeUuid:_,onImpression:S}=e;const I=(0,c.w)(),g=(0,a.d)(),C=(0,n.Z)(),D=i.useRef(!1),{elementRef:L,isElementHidden:y}=(0,o.Z)({initialHidden:!0,waitTime:0,shouldListen:!D.current});return i.useEffect((()=>{R&&!y&&(D.current=!0,I("eats:carousel_metadata",{label:R,numItems:d?d.length:O,carouselLayoutType:p,entityUuids:d,trackingCode:N,pageType:h,carouselTitle:l,carouselPosition:u,feedContext:(0,r.P)(h),carouselContext:(0,r.g)(p),carouselUuid:A,vertical:C,diningMode:g,storeUuid:_}),S&&S())}),[I,R,d,y,p,O,u,N,l,h,A,C,g,_,S]),(0,s.tZ)("div",{ref:(0,E.Z)(L,t),children:T})}))},64189:(e,t,l)=>{l.d(t,{ZP:()=>_,ex:()=>A});var i=l(43193),r=l(36151),n=l(46933),a=l(14966),o=l(91931),E=l(47986),c=l(33660),s=l(55758),d=l(94813),R=l(85218),O=l(25227),T=l(33535),p=l(63300),u=l(54326),N=l(33990);const h=(0,o.w1)(a.hh,(e=>{let{$theme:t,$feedRefreshEnabled:l}=e;return{...t.typography.LabelMedium,...l?{...t.typography.LabelSmall,textDecoration:"none"}:{}}})),A=e=>function(t){let{onViewAllClick:l,callToAction:a,showArrow:o,analyticsLabel:h}=t;const A=(0,d.TH)(),_=(0,s.d)(),S=(0,s.g)(),{diningMode:I}=(0,E.ubZ)(a?.actionUrl||"",["diningMode"]),g=(0,c.Ee)(I),C=(0,R.Z)(),D=a?.text||(0,N.tZ)(n.v,{id:"carousel.view_all"}),L=(0,T.ZP)(),{onSeeAllClick:y}=(0,p.v)({seeAllTapEventName:"see_all_carousel_tap",payload:(0,u.vZ)({diningMode:_,analyticsLabel:h})}),b=i.useCallback((()=>{L("eats:stores_carousel_see_all_click",{analyticsLabel:h}),y(),"function"==typeof l&&l(),g&&g!==_&&S(g)}),[L,h,y,l,g,_,S]),Z=(0,r.useMemo)((()=>(0,O.o)(a,A)),[a,A]);return(0,N.tZ)(e,{"data-testid":"view-all-button",onClick:b,to:Z,$feedRefreshEnabled:C,children:D})},_=(0,o.Le)(h,A)},89402:(e,t,l)=>{l.d(t,{Z:()=>o});var i=l(91931);const r=(0,i.zo)("figcaption",(e=>{let{$theme:t}=e;return{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"8px",...t.overlays.full}})),n=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,color:t.colors.contentOnColor,textAlign:"center"}}));var a=l(33990);const o=e=>e.isOpen?null:(0,a.tZ)(r,{children:(0,a.tZ)(n,{children:e.closedMessage})})},44504:(e,t,l)=>{l.d(t,{Z:()=>m});var i=l(91631),r=l(14016),n=l(91931),a=l(36278),o=l(192),E=l(62091),c=l(94579),s=l(33990);const d=(0,n.zo)(E.Z,{width:"16px",height:"16px"}),R=(0,n.zo)("div",{display:"flex",alignItems:"center"}),O=(0,n.zo)("div",{height:"22px"}),T=(0,n.zo)("span",c.E2);function p(e){let{badge:t}=e;return t.textFormat?(0,s.BX)(s.HY,{children:[t.accessibilityText?(0,s.tZ)(T,{children:t.accessibilityText}):null,(0,s.tZ)(O,{"aria-hidden":!!t.accessibilityText||void 0,children:(0,s.tZ)(o.Z,{lines:t.textFormat})})]}):(0,s.BX)(s.HY,{children:[t.accessibilityText?(0,s.tZ)(T,{children:t.accessibilityText}):null,(0,s.BX)(R,{"aria-hidden":!!t.accessibilityText||void 0,children:[t.iconUrl?(0,s.BX)(s.HY,{children:[(0,s.tZ)(d,{src:t.iconUrl}),(0,s.tZ)(a.ZP,{$width:"4px"})]}):null,t.text]})]})}var u=l(25750),N=l(79908),h=l(47986),A=l(22395),_=l(94813);const S=(0,n.zo)("div",(e=>{let{$padding:t="12px 0"}=e;return{padding:t,display:"flex",alignItems:"flex-start"}})),I=(0,n.zo)("div",{display:"flex",flex:1,flexDirection:"column",minWidth:0}),g=(0,n.zo)("p",(e=>{let{$theme:t,$storeTitleTypography:l="LabelLarge"}=e;return{...t.typography[l],textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",marginBottom:"2px",cursor:"pointer"}})),C=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,display:"flex",whiteSpace:"nowrap",alignItems:"center",overflow:"hidden"}})),D=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,display:"flex",alignItems:"center",marginBottom:"2px"}})),L=(0,n.zo)("div",{marginLeft:"4px"}),y=(0,n.zo)("div",{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}),b=(0,n.zo)("div",(e=>{let{$theme:t,$isPositive:l}=e;return{...t.typography.LabelXSmall,height:"28px",width:"28px",flex:"0 0 28px",...l?{background:t.colors.positive50,color:t.colors.positive}:{background:t.colors.backgroundTertiary},borderRadius:t.borders.radiusFull,display:"flex",alignItems:"center",justifyContent:"center"}})),Z=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,display:"flex"}})),f=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,display:"flex",paddingRight:"16px"}})),U=()=>(0,s.tZ)(A.Z,{spaces:2,color:"contentTertiary"}),m=e=>{let{title:t,deliveryFee:l,pickupDistance:n,etaRange:o,priceBucket:E,rating:c,categories:d,endorsement:R,storeUrl:O,storeAdBadge:T,styleOverrides:A,attributeBadgeList:m}=e;const v=(0,_.TH)(),P=(0,i.k6)(),B=Boolean(n||l||o||m?.length),x=(0,r.T)()("shared.new"),H=Boolean(m?.length);let M;if(c&&"EATS"===c.type){const e=c.feedback?.rating;M=(0,s.tZ)(b,{$isPositive:(e||0)>4.5,children:"number"==typeof e?e.toFixed(1):(0,s.tZ)(Z,{children:x})})}else c||(M=x.length>5?(0,s.tZ)(f,{children:x}):(0,s.tZ)(Z,{children:x}));return(0,s.tZ)(s.HY,{children:(0,s.BX)(S,{$padding:A?.storeItemMetaTopRowPadding,children:[(0,s.BX)(I,{children:[(0,s.tZ)(g,{$storeTitleTypography:A?.storeTitleTypography,children:t}),T?(0,s.BX)(D,{children:[(0,s.tZ)(p,{badge:T}),(0,s.tZ)(L,{onClick:e=>(e=>{e.preventDefault(),e.stopPropagation(),P.push((0,h.vN_)(v,"adsInfo",t))})(e),children:(0,s.tZ)(N.Z,{type:"Information",color:"contentTertiary",width:"12",height:"12"})})]}):null,(0,s.BX)(C,{children:[(0,s.tZ)(u.Z,{separator:U,children:H?(m||[]).map(((e,t)=>(0,s.tZ)(p,{badge:e},t))):[n?(0,s.tZ)(p,{badge:n},"pickupDistance"):null,l?(0,s.tZ)(p,{badge:l},"deliveryFee"):null,o?(0,s.tZ)(p,{badge:o},"etaRange"):null]}),E?(0,s.BX)(y,{children:[B?(0,s.tZ)(U,{}):null,E]}):null,"Â "]})]}),(0,s.tZ)(a.ZP,{$width:"16px"}),M]})})}},71692:(e,t,l)=>{l.d(t,{g:()=>a,P:()=>n});const i=Object.freeze({ITEM:"ITEM",STORE:"STORE",SHORTCUT:"SHORTCUT",UNKNOWN:"UNKNOWN"}),r=Object.freeze({HOME:"HOME",SEARCH:"SEARCH",CATEGORY_PAGE:"CATEGORY_PAGE",DELIVERY_COUNTDOWN_HUB:"DELIVERY_COUNTDOWN_HUB",FAVORITES:"FAVORITES",RESTAURANT_REWARDS_HUB:"RESTAURANT_REWARDS_HUB",TOP_EATS:"TOP_EATS",VALUE_HUB:"VALUE_HUB",HYBRID_MAP:"HYBRID_MAP",PREORDER:"PREORDER",MARKETING:"MARKETING",ADVERTISING:"ADVERTISING",ORDER_STATE:"ORDER_STATE",BROWSE:"BROWSE",ALL_STORES:"ALL_STORES",VERTICAL:"VERTICAL",ADD_ON_OFFER_OVERVIEW:"ADD_ON_OFFER_OVERVIEW",ADD_ON_OFFER_DETAIL_VIEW:"ADD_ON_OFFER_DETAIL_VIEW",MARKETPLACE_AISLES:"MARKETPLACE_AISLES",REORDER_SPACE:"REORDER_SPACE",COLLECTIONS_PAGE:"COLLECTIONS_PAGE",UNKNOWN:"UNKNOWN",DISCOVERY:"DISCOVERY",FEED_BY_ID_CONTAINER:"FEED_BY_ID_CONTAINER"});Object.freeze({SEE_RECEIPT:"SEE_RECEIPT",UNKNOWN:"UNKNOWN"}),Object.freeze({CORNERSHOP:"CORNERSHOP",DRIZLY:"DRIZLY",UNKNOWN:"UNKNOWN"}),Object.freeze({CALL_COURIER:"CALL_COURIER",INTERCOM:"INTERCOM",UNKNOWN:"UNKNOWN"}),Object.freeze({HIT:"HIT",MISSED:"MISSED",EXPIRED:"EXPIRED",UNKNOWN:"UNKNOWN"}),Object.freeze({REORDER:"REORDER",UNKNOWN:"UNKNOWN"}),Object.freeze({REORDER_FEED:"REORDER_FEED",UNKNOWN:"UNKNOWN",ADD_ON_OFFER_MINI_STORE_FEED:"ADD_ON_OFFER_MINI_STORE_FEED"}),Object.freeze({HIT:"HIT",MISSED:"MISSED",EXPIRED:"EXPIRED",UNKNOWN:"UNKNOWN"}),Object.freeze({UNKNOWN:"UNKNOWN",ALL:"ALL",RESTAURANTS:"RESTAURANTS",GROCERY:"GROCERY",CONVENIENCE:"CONVENIENCE",ALCOHOL:"ALCOHOL",PHARMACY:"PHARMACY",PRESCRIPTIONS:"PRESCRIPTIONS",PERSONAL_CARE:"PERSONAL_CARE",BABY:"BABY",SPECIALITY_FOODS:"SPECIALITY_FOODS",PET_SUPPLIES:"PET_SUPPLIES",FLOWERS:"FLOWERS",RETAIL:"RETAIL",BEAUTY:"BEAUTY",ELECTRONICS:"ELECTRONICS",SHOP:"SHOP"}),Object.freeze({UNKNOWN:"UNKNOWN",ORDER_TRACKING:"ORDER_TRACKING",MARKETPLACE:"MARKETPLACE",WEB_BRIDGE_DEFAULT_THEME:"WEB_BRIDGE_DEFAULT_THEME",WEB_BRIDGE_CUSTOM_THEME:"WEB_BRIDGE_CUSTOM_THEME"}),Object.freeze({UNKNOWN:"UNKNOWN",DEFAULT_THEME:"DEFAULT_THEME",CUSTOM_THEME:"CUSTOM_THEME"});function n(e){switch(e){case"search":return r.SEARCH;case"aisle":return r.MARKETPLACE_AISLES;case"pickup_map":return r.HYBRID_MAP;case"collection":return r.COLLECTIONS_PAGE;case"vertical":return r.VERTICAL;default:return r.HOME}}function a(e){switch(e){case"item-carousel":case"canonical-items-carousel":case"single-catalog-items-carousel":return i.ITEM;default:return i.STORE}}},94672:(e,t,l)=>{l.d(t,{Z:()=>r});var i=l(57045);const r=e=>"native"!==(0,i.Z)(e)}}]);