(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[85434],{27145:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Z});var a=i(91931),r=i(34567),o=i(47986),n=i(52246),l=i(71110),s=i(62091),d=i(8655),c=i(94813),u=i(33990);const p=(0,a.zo)("div",{display:"flex",flexDirection:"column",padding:"56px 16px 80px",alignItems:"center",maxWidth:"624px",margin:"0 auto"}),g=(0,a.zo)("div",{width:"226px",paddingBottom:"56px",transition:"transform 50ms ease-in-out",":hover":{transform:"scale(1.05)"}}),h=(0,a.zo)(s.Z,{width:"100%",height:"100%"}),m=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,textAlign:"center",paddingBottom:"8px"}})),y=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,textAlign:"center",maxWidth:"410px",paddingBottom:"24px"}})),f=(0,a.w1)(r.Z,{width:"410px"}),Z=e=>{const t=(0,c.TH)(),{getSeoFeed:a}=(0,d.Z)(e.pageType||"home");return(0,u.BX)(p,{children:[(0,u.tZ)(g,{$as:n.rU,to:(0,o.$9J)(t),children:(0,u.tZ)(h,{src:(0,l.pZ)(i(44764))})}),(0,u.tZ)(m,{children:e.emptyState.title}),(0,u.tZ)(y,{children:e.emptyState.subtitle}),(0,u.tZ)(f,{onClick:()=>{a()},children:e.emptyState.linkText})]})}},75441:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var a=i(97763),r=i(60849),o=i(40841),n=i(86065),l=i(33990);const s=e=>{let{shortcut:t,...i}=e;const s=(0,r.qp)({...a.J.grocery_shortcut_path,defaultValue:"cornershop"}),d={...t};return"cornershop"===s?d.webUrl=o.q:"native"===s&&(d.webUrl="category-feed/Grocery",d.isExternal=!1),(0,l.tZ)(n.Z,{shortcut:d,isXLB:!0,...i})}},86065:(e,t,i)=>{"use strict";i.d(t,{Z:()=>A});var a=i(43193),r=i(36151),o=i(87763),n=i(91931),l=i(62091),s=i(52246),d=i(94813),c=i(47986),u=i(33535),p=i(52298),g=i(32562),h=i(91650),m=i(58197),y=i(19354),f=i(74185),Z=i(83118),b=i(91892),x=i(33990);const v=(0,n.zo)("div",(e=>{let{$backgroundColor:t,$theme:i,$isHovering:a}=e,r=t;return a&&(r=i.colors.buttonSecondaryHover),{borderRadius:"30px",...r?{backgroundColor:r}:{},height:"100%",overflow:"hidden",transform:"rotate(0)"}})),S=e=>{let{animation:t,isHovering:i}=e;const{animationUrl:a,fallbackImageUrl:r,loopAnimation:o,backgroundColor:n}=t,l=(0,b.Z)();return(0,x.tZ)(v,{$backgroundColor:l({color:n}),$isHovering:i,children:(0,x.tZ)(Z.Z,{animationUrl:a||"",placeholderImageUrl:r||"",loop:o||!1,preserveAspectRatio:"xMidYMax slice"})})};var I=i(15070),C=i(67672),w=i(16372);const T=(0,n.zo)("div",{position:"relative",width:"60px",height:"60px"}),_=(0,n.zo)(l.Z,(e=>{let t,{$theme:i,$isHovering:a,$alwaysShowBackground:r}=e;return r?t=a?i.colors.buttonSecondaryHover:i.colors.buttonSecondaryFill:a&&(t=i.colors.buttonSecondaryHover),{width:"100%",height:"100%",borderRadius:"50%",backgroundColor:t}})),L=(0,n.zo)("div",(e=>{let{$hasSpacing:t}=e;return{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",width:"100%",bottom:""+(t?"-4px":"4px"),height:"24px",flexDirection:"column"}})),U=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelXSmall,backgroundColor:t.colors.positive,color:t.colors.onPositive,borderRadius:"20px",height:"100%",padding:"0 8px",display:"flex",alignItems:"center",justifyContent:"center",border:`2px solid ${t.colors.white}`}})),k=(0,n.zo)("span",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,width:"100%",textAlign:"center"}})),E={display:"flex",flexDirection:"column",alignItems:"center",minWidth:`${h.pR}px`,maxWidth:"fit-content",position:"relative"},$=(0,n.zo)(s.rU,E),P=(0,n.zo)("a",E),A=a.forwardRef(((e,t)=>{const i=(0,u.XL)(),{userQuery:l,carouselId:s}=(0,c.ubZ)(e.shortcut.webUrl,["userQuery","carouselId"]),h="eyJwbHVnaW4iOiJyZWNvbW1lbmRhdGlvbkZlZWRQbHVnaW4iLCJyZWNvbW1UeXBlIjoicHJvbW90ZWRfcmVzdGF1cmFudHMifQ=="===s||"/deals"===e.shortcut.webUrl,Z="/top-eats"===e.shortcut.webUrl,b=a.useRef(null),v=(0,g.Z)(b),E=(0,m.Z)(),A=(0,m.J)(e.shortcut.analyticsLabel),z=(0,y.ZP)(),B=(0,d.TH)(),R=Boolean(e.shortcut.isExternal),D=Boolean(e.shortcut.webUrl.startsWith("/alcohol")),O=R&&!e.isXLB?z(e.shortcut.webUrl):e.shortcut.webUrl,[M,H,N]=R?[P,"href",O]:[$,"to",O],F={APP_DEEPLINK_FALLBACK_REDIRECT:N},[X,W]=(0,r.useState)(!1),V=(0,r.useCallback)((()=>Z?"TOP_EATS_SHORTCUT":h?"DEALS_SHORTCUT":l?"QUERY_SHORTCUT":s?"CAROUSEL_SHORTCUT":"UNKNOWN"),[Z,h,l,s]),G=(0,r.useCallback)((()=>{const e=[];return l?e.push({QUERY_SLUG:l}):s&&e.push({CAROUSEL_ID:s}),[...e,F]}),[l,s,F]),{onLinkClick:j}=(0,f.i)({universalLinkKey:V(),xpKey:"universal_link_feed_page",urlsMapKey:"universal_link_feed_page_url_map",urlProps:G()}),Y=(0,I.v)((e=>{let{device:t}=e;return t.isIOS})),[,J]=(0,n.hQ)(),K=e.shortcut.tracking?JSON.stringify(e.shortcut.tracking):"",{triggerTooltip:Q,tooltipTarget:q}=e;return(0,r.useEffect)((()=>{"function"==typeof Q&&X&&q&&Q(b)}),[X,q,Q]),(0,x.tZ)("li",{ref:t,style:{position:"relative",maxWidth:"95px"},children:(0,x.BX)(M,{"data-testid":"shortcut-button",ref:b,onClick:async t=>{if(t.preventDefault(),E.set(A),await i("eats:shortcut_click",{shortcutMeta:{label:e.shortcut.analyticsLabel,horizontalPosition:e.shortcut.horizontalPosition},trackingCode:K}),R)(0,C.Z)(N);else if(D)await j({fallbackUrl:N,isRolledOut:Y});else{const e={},t=(0,c.U8Z)(B.search,["place"]);e[c.FSm.searchSource]=w.xH.SHORTCUTS,t?.place&&(e[c.FSm.place]=t.place),await j({fallbackUrl:N,isRolledOut:Y,additionalQueryParams:e})}},[H]:N,children:[(0,x.BX)(T,{children:[e.animationEnabled&&e.shortcut.animatedBackground&&e.shortcut.animatedBackground?.animationUrl?(0,x.tZ)(S,{animation:e.shortcut.animatedBackground,isHovering:v}):(0,x.tZ)(_,{loading:"eager",decoding:"sync",onLoad:()=>W(!0),src:e.shortcut.imageUrl,$isHovering:v,$alwaysShowBackground:J.miscellaneous.alwaysShowShortcutBackground}),e.shortcut.pillText?(0,x.tZ)(L,{$hasSpacing:e.includeSpacer,children:(0,x.tZ)(U,{children:e.shortcut.pillText})}):null]}),e.includeSpacer?(0,x.tZ)(p.ZP,{$height:e.isMobile?4:8}):null,(0,x.tZ)(k,{children:(0,x.tZ)(o.Z,{clamp:2,children:e.shortcut.label})})]})})}))},15836:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var a=i(8639),r=i(6751),o=i(33990);const n=e=>{let{trailingCTA:t,dismissAction:i}=e;const{action:n,trailingIcon:l,trailingIconColor:s}=t,d=(0,a.Lq)(s),c=d?{color:d}:{};let u;return l?(n&&"dismissView"===n?.type&&(u=i),(0,o.tZ)(r.Z,{icon:l,onClickHandler:u,iconOptions:c})):null}},11056:(e,t,i)=>{"use strict";i.d(t,{iZ:()=>o,v_:()=>n});var a=i(94131);const r={cardCarousel:"BILLBOARD",cardItemPayload:"INFEED_BANNER"},o=e=>{let{payload:t,surfaceId:i}=e;if(!t||!i)return"";switch(i){case a.cx.HOME_FEED_COLLECTION_CARD:return"COLLECTION_CARD";case a.cx.VERTICAL_FEED_BILLBOARD:case a.cx.HOME_FEED_ITEM:return r[t.type]||"";case a.cx.AISLE_FEED_BILLBOARD:return"AISLE_FEED_BILLBOARD";case a.cx.AISLE_FEED_MANUAL_CAROUSEL:return"MANUAL_CAROUSEL";case a.cx.HOME_FEED_GR_PROMO:return"HOME_FEED_GR_PROMO"}return""},n=e=>e.toUpperCase()===a.xf.CCC?a.xf.CCC:null},99015:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>C});var a=i(36151),r=i(91931),o=i(57101),n=i(94813),l=i(19912),s=i(62091),d=i(27759),c=i(91374),u=i(24217),p=i(73448),g=i(75785),h=i(63300),m=i(91377),y=i(33990);const f=(0,r.zo)("div",(e=>{let{$width:t}=e;return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",width:`${t}px`}})),Z=(0,r.zo)(s.Z,(e=>{let{$theme:t,$diameter:i}=e;return{width:`${i}px`,height:`${i}px`,borderRadius:"100%",outline:`2px solid ${t.colors.borderTransparent}`,outlineOffset:"-2px"}})),b=(0,r.zo)("span",(e=>{let{$theme:t,$isDesktop:i}=e;return{...t.typography.LabelMedium,width:"100%",textAlign:"center",marginTop:i?t.sizing.scale500:t.sizing.scale300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),x=(0,r.zo)(s.Z,(e=>{let{$theme:t}=e;return{height:t.sizing.scale550,width:t.sizing.scale550,objectFit:"contain",verticalAlign:"top"}})),v=(0,r.zo)("div",(e=>{let{$theme:t,$color:i,$backgroundColor:a,$isDesktop:r}=e;return{...r?{...t.typography.LabelSmall}:{...t.typography.LabelXSmall},color:i??t.colors.signpost,marginTop:`-${t.sizing.scale600}`,marginBottom:`-${t.sizing.scale300}`,backgroundColor:a||t.colors.backgroundPrimary,borderRadius:"4px",display:"inline-block",whiteSpace:"nowrap",boxShadow:"0px 4px 16px 0px rgba(0, 0, 0, 0.12)",textOverflow:"ellipsis",overflow:"hidden",padding:"0 4px",height:"24px",lineHeight:"24px"}})),S={DEFAULT:"",HOME_FEED:"home",VERTICAL_FEED:"vertical"},I={width:"100%",display:"inline-block"},C=e=>{let{store:t,analyticsInfo:i,imageSettings:r,metadata:s}=e;const C=(0,n.TH)(),w=(0,o.HX)(C,t.actionUrl),T=(0,g.w)(),_=S[t?.trackingCode?.metaInfo?.surfaceAreaV2??"DEFAULT"]??"",L=(0,a.useMemo)((()=>({analyticsLabel:t?.trackingCode?.metaInfo?.analyticsLabel??"",verticalType:t?.trackingCode?.metaInfo?.verticalType??"",feedItemType:i?.feedItemType??"",feedContext:_??"",feedItemUuid:i?.feedItemUuid??"",storeTitle:t.title??"",storeUuid:t.storeUuid??"",displayItemUuid:t.storeUuid??"",displayItemType:t?.trackingCode?.metaInfo?.displayItemType??"",trackingCode:JSON.stringify(t?.trackingCode??""),horizontalPosition:String(i?.customEventMetadata?.position??""),carouselPosition:String(i?.positionOnCarousel??""),carouselSize:String(i?.carouselSize??""),isEmptySearchState:String(i?.customEventMetadata?.isEmptySearchState??"false"),flush_time_ms:Date.now()})),[i,t,_]),U=(0,l.Z)({eventName:"eats:featured_stores_carousel_item_impression",eventPayload:L,intersectionObserverProps:{threshold:.75}},g.w),k={analyticsLabel:t?.trackingCode?.metaInfo?.analyticsLabel,verticalType:t?.trackingCode?.metaInfo?.verticalType,feedItemType:i?.feedItemType,feedContext:_,feedItemUuid:i?.feedItemUuid??"",storeTitle:t.title??"",storeUuid:t.storeUuid??"",trackingCode:JSON.stringify(t?.trackingCode??""),horizontalPosition:parseInt(i?.customEventMetadata?.position??"0"),carouselPosition:i?.positionOnCarousel,carouselSize:i?.carouselSize},{onClick:E,impressionRef:$}=(0,h.v)({impressionEventName:"feed_item_card_scrolled",tapEventName:"feed_item_card_tapped",payload:k}),P=t.title??"",A=t.meta?.find((e=>{let{badgeType:t}=e;return"ETD"===t})),z=t.signposts?.find((e=>{let{badgeType:t}=e;return"SIGNPOSTS"===t})),B=t.image?.items?.[0]?.url||"";return(0,y.tZ)(d.Z,{ref:(0,m.Z)(U,$),storeUuid:t.storeUuid||"",storeUrl:w,storeTitle:P,analyticsLabel:i?.customEventMetadata?.analyticsLabel??"",trackingCode:i?.trackingCode,position:i?.positionOnCarousel,meta:i?.customEventMetadata,onClick:()=>{E(),T("eats:featured_stores_carousel_item_tap",L)},children:(0,y.BX)(f,{$width:r.diameter,children:[(0,y.tZ)(p.Z,{condition:r.useWebP??!1,wrapper:e=>(0,y.tZ)(u.Z,{src:B,height:200,width:200,children:e}),children:(0,y.tZ)(Z,{$diameter:r.diameter,loading:r?.useLazyLoad?"lazy":"eager",decoding:r?.useLazyLoad?"async":"sync",alt:`${P} logo`,src:B})}),z?(0,y.BX)(v,{$backgroundColor:String(z.backgroundColor?.color??""),$color:String(z.textColor?.color??""),$isDesktop:s?.isDesktop,children:[z.iconUrl?(0,y.tZ)(x,{src:z.iconUrl}):null,z.text]}):null,P?(0,y.tZ)(b,{$isDesktop:s?.isDesktop,"aria-label":P,children:P}):null,A?(0,y.tZ)(c.Z,{meta:[A],wrapText:!0,customStyleObject:I}):null]})})}},20211:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var a=i(81149),r=i(91931),o=i(36278),n=i(62091),l=i(24217),s=i(38631),d=i(33990);const c=112,u=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",boxSizing:"border-box",padding:"12px",border:`1px solid ${t.colors.borderOpaque}`}})),p=(0,r.zo)("div",(e=>{let{$imageWidth:t}=e;return{height:`${t||c}px`,flex:1,minWidth:0}})),g=(0,r.zo)("div",(e=>{let{$imageWidth:t}=e;const i=t||c;return{height:`${i}px`,width:`${i+8}px`,display:"flex",flexShrink:0}})),h=(0,r.zo)("p",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}})),m=(0,r.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,paddingTop:"4px"}})),y=(0,r.zo)(n.Z,(e=>{let{$imageWidth:t,$theme:i}=e;const a=t||c;return{height:`${a}px`,width:`${a}px`,objectFit:"cover",outline:`1px solid ${i.colors.contentPrimary}08`,outlineOffset:"-1px"}})),f=e=>{let{dish:t,storeSlug:i,position:r,actionUrl:n,imageWidth:f}=e;return(0,d.tZ)(s.Z,{dish:t,storeSlug:i,position:r,actionUrl:n,children:(0,d.BX)(u,{children:[(0,d.BX)(p,{$imageWidth:f,children:[(0,d.tZ)(h,{children:t.title}),(0,d.tZ)(m,{children:t.price})]}),t.imageUrl?(0,d.BX)(g,{$imageWidth:f,children:[(0,d.tZ)(o.ZP,{$width:"8px"}),(0,d.tZ)(a.ZP,{height:f||c,once:!0,children:(0,d.tZ)(l.Z,{src:t.imageUrl,children:(0,d.tZ)(y,{src:t.imageUrl,alt:t.title,"aria-hidden":!0,$imageWidth:f})})})]}):null]})})}},1963:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>P,gK:()=>E});var a=i(36151),r=i(71454),o=i.n(r),n=i(60849),l=i(46933),s=i(73970),d=i(97763),c=i(7760),u=i(17020),p=i(94813),g=i(91931),h=i(66931),m=i(24557),y=i(58531),f=i(36337),Z=i(38381),b=i(12655),x=i(8109),v=i(34274),S=i(96911),I=i(54192),C=i(69744),w=i(9868),T=i(54326),_=i(75785),L=i(63300),U=i(55758),k=i(33990);const E=4,$=(0,g.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,background:t.colors.backgroundSecondary,height:"240px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"16px"}})),P=e=>{const{feedItemUuids:t}=(0,x.Z)(),i=(0,p.TH)(),r=(0,m.Z)(),g=(0,U.d)(),{containerRef:E,getPageChunks:P,getPageProps:A,isPreviousPageDisabled:z,isNextPageDisabled:B,handlePageChange:R,supportsScrollSnapping:D,textDirection:O}=(0,S.Z)({scrollOffset:24}),{onScroll:M}=(0,I.Z)(E,e.carouselUuid),H=(0,v.Z)({feedItemUuid:e.feedItemUuid||""}),N=(0,_.w)(),F=(0,n.ip)({...d.J.web_feed_carousel_icon_removal,defaultValue:!1}),X="regular-store",W=e.carousel.header,V=e.analyticsLabel,G=F||!e.carousel.header?.endIcon&&!H?4:3,[j,Y]=a.useMemo((()=>{const t=e.carousel.stores||[],i=t.map((e=>e?.storeUuid)).filter(Boolean);return[t,i]}),[e.carousel.stores]),{onScroll:J}=(0,c.g)(),K=(0,U.d)(),{onSeeAllClick:Q}=(0,L.v)({seeAllTapEventName:"see_all_carousel_tap",payload:(0,T.vZ)({feedItemUuid:e.feedItemUuid,diningMode:K,feedContext:e.pageType,analyticsLabel:e.analyticsLabel})}),q=a.useCallback((()=>{"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=V&&(Q(),N("eats:carousel_cta_click",{label:V,numItems:Y?Y.length:0,carouselLayoutType:X,entityUuids:Y,...e.customEventMetadata||{}}))}),[V,N,Q,e,Y]),ee=(0,n.ip)({...d.J.web_feed_refresh_store_card,defaultValue:!1}),te=e.carousel.stores?.[0],ie=a.useMemo((()=>({trackingCodeUuid:e.analyticsUuid,trackingCodeAnalyticsLabel:V,feed:{feedContext:e.pageType||"unknown",feedItemType:e.itemType,feedItemUuid:e.feedItemUuid||"",feedItemPosition:e.position},store:(0,u.R)(te)})),[e.analyticsUuid,V,e.pageType,e.itemType,e.feedItemUuid,e.position,te]),ae=(0,w.iJ)(),{impressionRef:re}=(0,L.v)({impressionEventName:"feed_item_scrolled",payload:{...ae((0,w.SF)(ie)),...(0,T.GS)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem})}}),oe=(0,n.rj)({...d.J["carousel.scroll.throttling_interval"],defaultValue:500}),ne=o()((e=>{M(e),J()}),oe);if(e.feedItemUuid&&t.includes(e.feedItemUuid))return(0,k.tZ)(f.Z,{analyticsLabel:V,entityUuids:Y,carouselLayoutType:X,carouselUuid:e.feedItemUuid,ref:re,children:(0,k.tZ)("section",{children:(0,k.tZ)(y.Z,{header:W,onPageChange:C.Z,showPaginationButtons:!0,backwardEnabled:!1,forwardEnabled:!1,analyticsLabel:V,customEventMetadata:e.customEventMetadata,onViewAllClick:()=>{"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=V&&N("eats:carousel_cta_click",{label:V,numItems:Y?Y.length:0,carouselLayoutType:X,entityUuids:Y})},children:(0,k.tZ)(s.gC,{hideHeader:!0,colCount:G,heroImageHeight:r})})})});const le=ee?Z.Z:b.Z,se=P(j.map(((t,a)=>(0,k.tZ)(h.Mi,{"data-testid":"carousel-slide",$textDirection:O,$margin:e.pageMargin??24,$pageSize:G,children:(0,k.tZ)(le,{store:t,location:i,showFavorite:e.showFavorite,position:a,titleTypography:"LabelLarge",heroImageHeight:r,heroImageSizes:"25vw",analyticsLabel:e.analyticsLabel,meta:e.customEventMetadata??{},analyticsOverride:{tapEventName:"feed_item_card_tapped",impressionEventName:"feed_item_card_scrolled",payload:{...ae((0,w.e7)(ie,(0,u.R)(t))),...(0,T.KR)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem,feedStore:t,diningMode:g,collectionIndex:a})}}})},a))).filter(Boolean),G);return(0,k.tZ)(f.Z,{analyticsLabel:V,entityUuids:Y,carouselLayoutType:X,carouselUuid:e.feedItemUuid,ref:re,children:(0,k.tZ)("section",{children:(0,k.tZ)(y.Z,{header:W,analyticsLabel:V,customEventMetadata:e.customEventMetadata,onPageChange:R,showPaginationButtons:j.length>G,backwardEnabled:!z,forwardEnabled:!B,onViewAllClick:q,hideEndIcon:F,children:0===j.length?(0,k.tZ)($,{children:(0,k.tZ)(l.v,{id:"bandwagon.no_restaurants"})}):(0,k.tZ)(h.im,{ref:E,$supportsScrollSnapping:D,onScroll:ne,children:se.map(((t,i,a)=>(0,k.tZ)(h.T3,{$pageMargin:e.pageMargin??24,...A(i,a.length),children:t},i)))})})})})}},39131:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var a=i(91931),r=i(45474),o=i(38379),n=i(89400),l=i(94579),s=i(33990);const d=(0,a.zo)("h1",(e=>{let{$theme:t,$titleTypography:i}=e;return{...t.typography[i],margin:"16px 0px 0px 0px"}})),c=(0,a.zo)("h2",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),u=(0,a.zo)("div",{display:"flex",flexDirection:"row",margin:"8px 0px 0px 0px",alignItems:"center"}),p=(0,a.zo)("div",{left:"168px",position:"absolute"}),g=(0,a.w1)(r.b,{maxWidth:`calc(${.25*(l.B7-2*l.Jy)}px)`}),h=e=>{let{title:t,subtitle:i,bottomSheet:a,titleTypography:l}=e;return!t&&!i||"string"==typeof i?null:(0,s.BX)(s.HY,{children:[t?(0,s.tZ)(d,{$titleTypography:l,children:t}):null,i?(0,s.tZ)(u,{children:(0,s.tZ)(r.ZP,{id:"eu-disclaimer",children:e=>{let{isHovering:t}=e;return(0,s.BX)(s.HY,{children:[(0,s.tZ)(c,{children:(0,s.tZ)(n.Z,{badge:i})}),a?(0,s.tZ)(p,{children:(0,s.tZ)(g,{$isVisible:t,children:(0,s.tZ)(o.y,{bottomSheet:a})})}):null]})}})}):null]})}},92282:(e,t,i)=>{"use strict";i.d(t,{Z:()=>Uo});var a=i(36151),r=i(91631),o=i(94813),n=i(12655),l=i(21519),s=i(14016),d=i(46933),c=i(91931),u=i(35212),p=i(76498),g=i(34567),h=i(43193),m=i(71110),y=i(83118),f=i(93964),Z=i(29194),b=i(81149),x=i(75785),v=i(63300),S=i(33990);const I=(0,c.zo)("div",{display:"inline-flex",flexDirection:"row",width:"100%"}),C=(0,c.zo)("div",(e=>{let{$direction:t}=e;return{left:0,..."ltr"===t?{transform:"scale(1.5)"}:{marginRight:"-40px",transform:"scale(-1.5, 1.5)"},height:"196px",width:"200px"}})),w=(0,c.zo)("div",{margin:"auto",width:"100%",position:"relative"}),T=(0,c.zo)("div",{margin:"auto",textAlign:"center",alignItems:"center"}),_=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBold3XSmall,marginBottom:"8px",width:"100%"}})),L=e=>{const{title:t,linkText:a}=e,r=(0,Z.gm)(),o=(0,x.w)(),{impressionRef:n,onClick:l}=(0,v.v)({impressionEventName:"give_get_storefront_view",payload:{}});return h.useEffect((()=>{o("eats:give_get_entry_view",{type:"feed"})}),[o]),(0,S.BX)(I,{ref:n,children:[(0,S.tZ)(C,{$direction:r,children:(0,S.tZ)(b.ZP,{once:!0,style:{height:"100%"},children:(0,S.tZ)(y.Z,{loop:1,animationUrl:(0,m.pZ)(i(15893))})})}),(0,S.tZ)(w,{children:(0,S.BX)(T,{children:[(0,S.tZ)(_,{children:t}),(0,S.tZ)(f.Z,{eventType:"feed",linkText:a,onClick:l})]})})]})};var U=i(29217),k=i(52692),E=i(1795),$=i(75514),P=i(70401),A=i(36278),z=i(25750),B=i(86065),R=i(75441);var D=i(91650),O=i(33535),M=i(60849),H=i(97763),N=i(65717),F=i(87444),X=i(32650),W=i(58092),V=i(79406),G=i(94131),j=i(91892),Y=i(76e3),J=i(15836),K=i(71041);const Q=(0,c.zo)("div",{display:"flex",alignItems:"center",width:"292px",height:"64px"}),q=(0,c.zo)("img",{width:"40px",height:"auto",padding:"12px"}),ee=(0,c.zo)("div",{padding:"0 10px"}),te=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,maxWidth:"192px"}})),ie=e=>{let{uuid:t,inlineTooltip:i,metadata:r,children:o}=e;const[n,l]=(0,a.useState)(!0),s=(0,O.ZP)(),d=(0,j.Z)(),{shouldShowMessage:c}=(0,Y.Z)("inline-tooltip"),{getEaterMessageInterstitialSessionCapper:u,setEaterMessageInterstitialSessionCapper:p}=(0,K.Z)(),g=u(G.cx.LAUNCHPAD_HOME_FEED_PUSH_INLINE_TOOLTIP,t),h=n&&c&&!g,{title:m,textColor:y,backgroundColor:f,badgeArtworkUrl:Z,trailingCTA:b}=i||{},x=(0,a.useMemo)((()=>({eaterMessage:{surface:G.cx.LAUNCHPAD_HOME_FEED_PUSH_INLINE_TOOLTIP,uuid:t||"",trackingID:r?.trackingID||"",itemType:"inlineTooltip"}})),[t,r?.trackingID]),v=(0,a.useCallback)((()=>{s("eats:eater_message_dismiss",x),l(!1)}),[s,x]),I=(0,a.useCallback)((()=>{v(),p(G.cx.LAUNCHPAD_HOME_FEED_PUSH_INLINE_TOOLTIP,t)}),[v,p,t]);(0,a.useEffect)((()=>{const e=()=>{$.Z&&$.Z?.scrollY>=$.Z?.innerHeight/2&&(v(),$.Z.removeEventListener("scroll",e))};return h&&$.Z&&$.Z.addEventListener("scroll",e),()=>{$.Z&&$.Z.removeEventListener("scroll",e)}}),[v,h]),(0,a.useEffect)((()=>{h&&s("eats:eater_message_view",x)}),[s,x,h]);const C=d({color:y}),w=d({color:f}),T=(0,S.BX)(Q,{children:[Z?(0,S.tZ)(q,{src:Z}):null,(0,S.tZ)(te,{children:m}),b?(0,S.tZ)(ee,{children:(0,S.tZ)(J.Z,{trailingCTA:b,dismissAction:I})}):null]});return(0,S.tZ)(W.Z,{popoverMargin:8,content:T,ignoreBoundary:!0,placement:V.r4.bottom,showArrow:!0,isOpen:h,overrides:{Body:{style:e=>{let{$theme:t}=e;return{boxShadow:t.lighting.shallowBelow}}},Inner:{style:{padding:"0px",backgroundColor:w,color:C}},Arrow:{style:{width:"16px",height:"16px",backgroundColor:w}}},children:o})};var ae=i(53467);const re=e=>{let{shortcut:t,children:i}=e;const{eaterMessage:a}=(0,X.Z)(G.cx.LAUNCHPAD_HOME_FEED_PUSH_INLINE_TOOLTIP);if(!(0,M.ip)({key:H.J.enable_launchpad_inline_tooltip.key,namespace:H.J.enable_launchpad_inline_tooltip.namespace,defaultValue:!1})||!a)return(0,S.tZ)(S.HY,{children:i});const{uuid:r,metadata:o,inlineTooltip:n,targetVertical:l}=(0,ae.Ew)(a);return l!==t.type?(0,S.tZ)(S.HY,{children:i}):(0,S.tZ)(ie,{uuid:r||"",inlineTooltip:n,metadata:o,children:i})};var oe=i(70971);const ne=(0,c.zo)("ul",{display:"flex",alignItems:"flex-start",justifyContent:"center"}),le=(0,c.zo)("nav",(e=>{let{$alignment:t="center"}=e;return{display:"flex",justifyContent:t}})),se=e=>{const t=h.useRef(null),[i,a]=h.useState(e.shortcuts.length),r=(0,O.ZP)(),o=(0,N.Z)(),n=(0,oe.T)(),l=(0,F.Z)("can_enable_cs_entrypoint_xlb"),s=(0,M.ip)({...H.J.cs_shortcut_entrypoint_xlb,defaultValue:!1}),d=(0,M.ip)({...H.J.enable_animated_shortcut,defaultValue:!1}),c=o&&(!s||!l),u=c?e.shortcuts.filter((e=>"shortcut.cornershop_grocery"!==e.analyticsLabel)):e.shortcuts,p=h.useCallback((()=>{if(t.current&&u.length){const e=((e,t,i)=>{if(t<=0)throw new Error("Item size must be positive");if(i<0)throw new Error("Spacer must be non-negative");return Math.floor((e+i)/(i+t))})(t.current.clientWidth-24,D.pR,16);a(e)}}),[u.length]),g=(0,P.Z)(p,50);if(h.useEffect((()=>{if(c){const t=JSON.stringify(JSON.parse(e.shortcutsMeta).filter((e=>"shortcut.cornershop_grocery"!==e.label)));r("eats:shortcuts_view",{shortcutsMeta:t})}else r("eats:shortcuts_view",{shortcutsMeta:e.shortcutsMeta})}),[r,e.shortcutsMeta,c]),h.useLayoutEffect((()=>(p(),$.Z&&$.Z.addEventListener("resize",g),()=>{$.Z&&$.Z.removeEventListener("resize",g)})),[p,g]),!u.length||n&&1===u.length)return null;const m=u.slice(0,i);return(0,S.tZ)(le,{"data-testid":"shortcut-bar",ref:t,$alignment:e.alignment,children:(0,S.tZ)(ne,{children:(0,S.tZ)(z.Z,{separator:()=>(0,S.tZ)(A.KG,{$as:"li",$width:"16px"}),children:m.map((e=>(0,S.tZ)(re,{shortcut:e,children:e.isExternal&&o?(0,S.tZ)(R.Z,{shortcut:e,includeSpacer:!0,animationEnabled:d},e.uuid):(0,S.tZ)(B.Z,{shortcut:e,includeSpacer:!0,animationEnabled:d},e.uuid)},`${e.uuid}-${i}-${u.length}`)))})})})};var de=i(47986),ce=i(62091),ue=i(14966),pe=i(82471),ge=i(38998),he=i(91044),me=i(54326);const ye=(0,c.zo)(ce.Z,(e=>{let{$theme:t}=e;return{width:"90px",height:"83px",marginRight:t.sizing.scale800}})),fe=(0,c.zo)("div",(e=>{let{$backgroundColor:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center",...t?{backgroundColor:t}:{}}})),Ze=(0,c.zo)("div",{display:"flex",flexDirection:"row",alignItems:"center"}),be=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBold3XSmall,marginBottom:t.sizing.scale300,color:t.colors.contentPrimary}})),xe=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,whiteSpace:"pre-line"}})),ve=(0,c.w1)(ue.hh,(e=>{let{$theme:t,$color:i,$typography:a,$removeUnderline:r}=e;return{...a?t.typography[a]:t.typography.LabelMedium,...i?{color:t.colors[i]}:{},...r?{textDecoration:"none"}:{}}})),Se=(0,c.w1)(ue.UA,(e=>{let{$theme:t,$color:i,$typography:a,$removeUnderline:r}=e;return{...a?t.typography[a]:t.typography.LabelMedium,...i?{color:t.colors[i]}:{},...r?{textDecoration:"none"}:{}}})),Ie=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),Ce=(0,c.zo)("span",(e=>{let{$theme:t}=e;return{textDecoration:"underline",whiteSpace:"nowrap",marginLeft:t.sizing.scale0}})),we=e=>{let{item:t,feedIndex:i,pageType:a}=e;const r=(0,o.TH)(),[n,l]=(0,c.hQ)(),s=t.title&&t.message?t.title:t.message,d=t.title&&t.message?t.message:null,u=t.messageCTA,p=t.url,g=(0,M.ip)({...pe.k.web_feed_announcement_redesign_enabled,defaultValue:!1}),{impressionRef:h}=(0,v.v)({impressionEventName:"marketplace_scrolled",payload:(0,me.GS)({feedContext:a,feedIndex:i,feedItem:t})});if(t?.style===he.nB.CENTER_STACK_BOTTOM_IMAGE&&t.bottomImageUrl)return(0,S.tZ)("div",{ref:h,children:(0,S.tZ)(ge.Z,{bottomImageUrl:t.bottomImageUrl,title:s,message:d})});if(g){const e=Boolean(t.bottomSheet),i=Boolean(p),a=(0,S.BX)("div",{className:n({display:"flex",alignItems:"center"}),children:[t.iconUrl&&t.title?(0,S.tZ)(ye,{src:t.iconUrl}):null,(0,S.BX)("div",{children:[t.title?(0,S.tZ)(be,{children:t.title}):null,(0,S.BX)("div",{className:n({color:l.colors.contentTertiary}),children:[t.message,u?(0,S.tZ)(Ce,{children:u}):null]})]})]}),o=()=>e?(0,S.tZ)(ve,{to:(0,de.vN_)(r,"feedAnnouncement"),$color:"contentTertiary",$typography:"ParagraphSmall",$removeUnderline:!0,children:a}):i?(0,S.tZ)(Se,{href:p,target:"_blank",$color:"contentTertiary",$typography:"ParagraphSmall",$removeUnderline:!0,children:a}):(0,S.tZ)(Ie,{children:a});return(0,S.tZ)(Ze,{ref:h,children:o()})}return(0,S.BX)(fe,{$backgroundColor:t.backgroundColor,ref:h,children:[t.iconUrl?(0,S.tZ)(ye,{src:t.iconUrl}):null,(0,S.BX)("div",{children:[(0,S.tZ)(be,{children:s}),(0,S.tZ)(xe,{children:d}),t.url?(0,S.tZ)(Se,{href:t.url,target:"_blank",children:t.linkText}):(0,S.tZ)(ve,{to:(0,de.vN_)(r,"feedAnnouncement"),children:t.linkText})]})]})};var Te=i(79810),_e=i(52246),Le=i(96911),Ue=i(45257),ke=i(58197),Ee=i(36337),$e=i(66931),Pe=i(87763),Ae=i(34911),ze=i(8639),Be=i(19773),Re=i(48510),De=i(65862),Oe=i(16372);const Me=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{marginBottom:t.sizing.scale800,display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"}})),He=(0,c.zo)("div",(e=>{let{$theme:t}=e;return t.typography.HeadingLarge})),Ne=(0,c.zo)("div",{display:"flex",alignItems:"center",justifyContent:"flex-end"}),Fe=(0,c.w1)($e.im,{overflowY:"hidden"}),Xe=(0,c.w1)($e.T3,{display:"block"}),We=(0,c.zo)("div",(e=>{let{$backgroundColor:t}=e;return{display:"block",position:"relative",height:"80px",backgroundColor:t,overflow:"hidden",borderRadius:"12px"}})),Ve=(0,c.zo)(ce.Z,(e=>{let{$textDirection:t}=e;return{position:"absolute",top:0,..."rtl"===t?{left:0,transform:"scaleX(-1)"}:{right:0},height:"100%"}})),Ge=(0,c.zo)("div",(e=>{let{$color:t,$hasCuisineImage:i,$theme:a}=e;return{boxSizing:"border-box",position:"relative",...a.typography.LabelLarge,color:a.colors[t],padding:"16px",width:i?"60%":"100%",minWidth:"120px"}})),je=(0,c.w1)(ue.hh,(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),Ye=e=>{const t=(0,o.TH)(),[,i]=(0,Te.hQ)(),{containerRef:a,getPageChunks:r,getPageProps:n,isPreviousPageDisabled:l,isNextPageDisabled:c,handlePageChange:u,supportsScrollSnapping:p,textDirection:g}=(0,Le.Z)(),h=(0,ke.Z)(),m=(0,O.ZP)(),y=(0,s.T)(),{show:f}=(0,Re.ZP)(),Z=f?4:6,b=2*Z,x=(0,M.ip)({...De.P.enable_top_eats_landing_page,defaultValue:!1}),v=e.items.map(((a,r)=>{const o=a.backgroundColor!==i.colors.backgroundSecondary?i.colors.backgroundSecondary:a.backgroundColor||"#F6F0EA",n=!/\s/g.test(a.title);return(0,S.tZ)(Ue.bL,{span:Ue.Ug/Z,children:(0,S.BX)(We,{$as:_e.rU,$direction:g,onClick:()=>{h.set(a.trackingCode||""),m("eats:click_cuisine",{label:a.title||"",trackingCode:a.trackingCode||"",position:String(r),...e.customEventMetadata||{}})},to:(0,Be.N)({url:a.url,type:a.type,title:a.title,keyName:a.keyName,searchSource:Oe.xH.HOME_FEED_ITEM},t,{isTopEatsLandingPageEnabled:x}),$backgroundColor:o,children:[a.iconUrl?(0,S.tZ)(Ve,{src:a.iconUrl,alt:a.title,"aria-hidden":!0,$textDirection:g}):null,(0,S.tZ)(Ge,{$color:(0,ze.RQ)(o)?"black":"white",$hasCuisineImage:Boolean(a.responsiveImagesByFormat||a.iconUrl),children:n?a.title:(0,S.tZ)(Pe.Z,{clamp:2,children:a.title})})]})},r)})),I=r(v,b),C=I.length>1;return(0,S.BX)(Ee.Z,{analyticsLabel:e.analyticsLabel,numItems:v.length,carouselUuid:e.feedItemUuid,children:[(0,S.BX)(Me,{children:[(0,S.tZ)(He,{children:y("cuisine_carousel.title")}),(0,S.BX)(Ne,{children:[e.viewAllLocation?(0,S.tZ)(je,{to:e.viewAllLocation,children:(0,S.tZ)(d.v,{id:"carousel.view_all"})}):null,e.viewAllLocation&&C?(0,S.tZ)(A.ZP,{$width:"40px"}):null,C?(0,S.tZ)(Ae.Z,{backwardEnabled:!l,forwardEnabled:!c,analyticsLabel:e.analyticsLabel,onPageChange:u,customEventMetadata:e.customEventMetadata}):null]})]}),(0,S.tZ)(Fe,{ref:a,$supportsScrollSnapping:p,children:I.map(((e,t,i)=>(0,S.tZ)(Xe,{$pageMargin:24,...n(t,i.length),children:(0,S.tZ)(Ue.rj,{gridGutter:24,wrap:!0,children:e})},t)))})]})};var Je=i(79515);const Ke=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{position:"relative",display:"inline-flex",flexDirection:"row",background:"#FFF2D9",color:t.colors.contentPrimary,width:"100%",minHeight:"160px",alignItems:"center"}})),Qe=(0,c.zo)("div",{position:"relative",margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",padding:"12px"}),qe=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBold3XSmall,color:t.colors.contentOnColorInverse,marginBottom:"16px"}})),et=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,color:t.colors.contentOnColorInverse,marginBottom:"16px"}})),tt=(0,c.zo)(ce.Z,{objectFit:"cover",position:"absolute",top:0,left:0,bottom:0}),it=e=>{let{title:t,subtitle:a,buttonText:r,position:o,pageType:n,feedItem:l}=e;const{impressionRef:s}=(0,v.v)({impressionEventName:"marketplace_scrolled",payload:(0,me.GS)({feedContext:n,feedIndex:o,feedItem:l})});return(0,S.BX)(Ke,{ref:s,children:[(0,S.tZ)(tt,{src:(0,m.pZ)(i(98742)),loading:"lazy",decoding:"async"}),(0,S.BX)(Qe,{children:[(0,S.tZ)(qe,{children:t}),a?(0,S.tZ)(et,{children:a}):null,(0,S.tZ)(Je.Z,{buttonText:r})]})]})};var at=i(92060),rt=i(55758),ot=i(23366),nt=i(28226),lt=i(93035);const st=(0,c.zo)("div",{display:"flex",flexDirection:"column",padding:"56px 16px 80px",alignItems:"center",maxWidth:"624px",margin:"0 auto"}),dt=(0,c.zo)("div",{width:"226px",paddingBottom:"56px",transition:"transform 50ms ease-in-out",":hover":{transform:"scale(1.05)"}}),ct=(0,c.zo)(ce.Z,{width:"100%",height:"100%"}),ut=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,textAlign:"center",paddingBottom:"8px"}})),pt=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,textAlign:"center",maxWidth:"410px",paddingBottom:"24px"}})),gt=(0,c.w1)(g.Z,{width:"410px"}),ht=e=>{const t=(0,O.ZP)(),a=(0,o.TH)(),r=(0,rt.d)(),n=(0,lt.k6)();(0,ot.Z)(),h.useEffect((()=>{t("eats:feed_empty_state_view")}),[t]);const l="PICKUP"===r,s="search_in_all"!==e.emptyState.linkDirection||l?(0,de.N0q)(a):(0,de.Xqq)(a,{vertical:at.g,searchSource:Oe.xH.SEARCH_SUGGESTION});return(0,S.BX)(st,{children:[(0,S.tZ)(dt,{$as:_e.rU,to:(0,de.$9J)(a),children:(0,S.tZ)(ct,{src:(0,m.pZ)(i(44764))})}),(0,S.tZ)(ut,{children:e.emptyState.title}),(0,S.tZ)(pt,{children:e.emptyState.subtitle}),[nt.l2,nt.Rr].includes(e.emptyState.uuid)?(0,S.tZ)(gt,{onClick:()=>{const e=(0,de.CiO)(a,["searchCategoryQuery","sortAndFilters"]);t("eats:home_feed_refresh_not_found_reset"),n.replace(e)},children:e.emptyState.linkText}):(0,S.tZ)(gt,{$as:_e.rU,to:s,onClick:()=>{t("eats:view_all_restaurants_cta_click_search_null_results")},children:e.emptyState.linkText})]})};var mt=i(17020),yt=i(49405),ft=i(8109),Zt=i(69744),bt=i(58531),xt=i(73970),vt=i(91168),St=i(47144),It=i(9868),Ct=i(91377);const wt=(0,c.w1)($e.im,{overflowY:"hidden"}),Tt=(0,c.w1)($e.T3,{display:"block"});const _t=e=>{let{carousel:t,feedItemUuid:i,showFavorite:r,trackingSource:o,onViewAllClick:n,analyticsLabel:l,analyticsUuid:s,pageType:d,itemType:c,position:u,feedItem:p}=e;const{feedItemUuids:g}=(0,ft.Z)(),{containerRef:h,getPageChunks:m,getPageProps:y,isPreviousPageDisabled:f,isNextPageDisabled:Z,handlePageChange:b,supportsScrollSnapping:x}=(0,Le.Z)({scrollOffset:24}),I=(0,rt.d)(),C=t.header?.endIcon?"DESKTOP_MINI":"DESKTOP_SMALL",{carouselNumberOfRows:w,chunkPerPage:T,headerTypography:_}=function(e){switch(e){case 1:return{chunkPerPage:St.VW,carouselNumberOfRows:e,headerTypography:"DisplayBold5XSmall"};default:return{chunkPerPage:St.cu,carouselNumberOfRows:St.qL}}}(t.numberOfRows),[L,U]=a.useMemo((()=>{const e=t.stores||[],i=e.map((e=>e?.storeUuid)).filter(Boolean);return[e,i]}),[t.stores]),k=L?.[0],E=a.useMemo((()=>({trackingCodeUuid:s,trackingCodeAnalyticsLabel:l,feed:{feedContext:d||"unknown",feedItemType:c,feedItemUuid:i||"",feedItemPosition:u},store:(0,mt.R)(k)})),[s,l,d,c,i,u,k]),$=(0,It.iJ)(),{impressionRef:P}=(0,v.v)({impressionEventName:"feed_item_scrolled",payload:{...$((0,It.SF)(E)),...(0,me.GS)({feedContext:d,feedIndex:u,feedItem:p})}});if(i&&g.includes(i))return(0,S.tZ)(Ee.Z,{analyticsLabel:l,entityUuids:U,carouselLayoutType:"list-store",carouselUuid:i,children:(0,S.tZ)("section",{ref:P,children:(0,S.tZ)(bt.Z,{header:t.header,onPageChange:Zt.Z,showPaginationButtons:!0,backwardEnabled:!1,forwardEnabled:!1,onViewAllClick:n,headerTypography:_,children:(0,S.tZ)(xt.AI,{hideHeader:!0,miniStoreItemSize:C})})})});const A=m(L.map(((e,t)=>(0,S.tZ)(Ue.bL,{span:12/(T/w),children:"REGULAR_CIRCLE_IMAGE_LAYOUT"===e.layout?(0,S.tZ)(yt.Z,{size:"DESKTOP_CIRCLE",store:e,analyticsLabel:l,analyticsOverride:{tapEventName:"feed_item_card_tapped",impressionEventName:"feed_item_card_scrolled",payload:{...$((0,It.e7)(E,(0,mt.R)(e))),...(0,me.KR)({feedContext:d,feedIndex:u,feedItem:p,feedStore:e,diningMode:I,collectionIndex:t})}}}):(0,S.tZ)(vt.Z,{store:e,showFavorite:r,size:C,position:t,trackingSource:o,analyticsLabel:l,feedItem:p,analyticsOverride:{tapEventName:"feed_item_card_tapped",impressionEventName:"feed_item_card_scrolled",payload:{...$((0,It.e7)(E,(0,mt.R)(e))),...(0,me.KR)({feedContext:d,feedIndex:u,feedItem:p,feedStore:e,diningMode:I,collectionIndex:t})}}})},e.storeUuid||""))),T);return(0,S.tZ)(Ee.Z,{analyticsLabel:l,entityUuids:U,carouselLayoutType:"list-store",children:(0,S.tZ)(bt.Z,{header:t.header,showPaginationButtons:L.length>T,backwardEnabled:!f,forwardEnabled:!Z,onPageChange:b,onViewAllClick:n,headerTypography:_,children:(0,S.tZ)(wt,{ref:(0,Ct.Z)(h,P),$supportsScrollSnapping:x,children:A.map(((e,t,i)=>(0,S.tZ)(Tt,{$pageMargin:24,...y(t,i.length),children:(0,S.tZ)(Ue.rj,{$as:"ul",wrap:!0,children:e})},t)))})})})};var Lt=i(15208),Ut=i(76173);const kt=(0,c.zo)("div",(()=>({position:"relative",overflow:"hidden",height:"280px",backgroundColor:"#FFF8F5"}))),Et=(0,c.zo)("div",(()=>({position:"absolute",bottom:"0px",right:"0px",width:"100%"}))),$t=(0,c.zo)("ul",(()=>({width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px",display:"flex",flexShrink:0,flexGrow:0,flexBasis:"100%",overflow:"hidden",marginTop:"64px"}))),Pt=(0,c.zo)("li",(e=>{let{$storesCount:t,$index:i,$animationDuration:a}=e;return{position:"absolute",right:"-50%",animationDuration:t*a/2+"s",animationDelay:i*(a/2)+"s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationPlayState:"inherit",animationName:{from:{right:"calc(17% - 255px)"},to:{right:100*t/2+"%"}}}})),At=(0,c.zo)("div",(e=>{let{$storesCount:t,$index:i,$animationDuration:a}=e;const r=t*a/2;return{opacity:0,animationDuration:`${r}s`,animationDelay:`${i*(a/2)}s`,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationPlayState:"inherit",animationName:{"0%":{opacity:0,marginTop:"64px"},[.3/r*100+"%"]:{opacity:1,marginTop:0},"100%":{opacity:1,marginTop:0}}}})),zt=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",backgroundColor:t.colors.backgroundPrimary,color:t.colors.contentPrimary,boxShadow:"0 4px 16px hsla(0, 0%, 0%, 0.16)",border:"3px solid white",minWidth:"255px",maxWidth:"450px",height:"84px",paddingRight:"12px",overflow:"hidden"}})),Bt=()=>{const e=(0,O.ZP)();return a.useEffect((()=>{e("eats:orders_near_you_carousel_impression")}),[e]),null},Rt=e=>{let{title:t,subtitle:a,stores:r,isDaytime:o,backupImageUrl:n,analyticsLabel:l}=e;const s=(0,m.pZ)(i(6990)),d=(0,m.pZ)(i(97134));return(0,S.BX)("section",{children:[(0,S.tZ)(Ut.Z,{$as:"h2",title:t,subtitle:a}),(0,S.tZ)(Lt.b,{$ignorePadding:!0,children:(0,S.tZ)(kt,{children:(0,S.BX)(b.ZP,{height:280,offset:280,unmountIfInvisible:!0,children:[(0,S.tZ)(Bt,{}),(0,S.tZ)(Et,{children:n?(0,S.tZ)(ce.Z,{src:n}):(0,S.tZ)(y.Z,{animationUrl:o?s:d,preserveAspectRatio:"xMidYMax",loop:!0})}),(0,S.tZ)($t,{children:r.map(((e,t)=>(0,S.tZ)(Pt,{$storesCount:r.length,$index:t,$animationDuration:20,children:(0,S.tZ)(At,{$storesCount:r.length,$index:t,$animationDuration:20,children:(0,S.tZ)(zt,{children:(0,S.tZ)(vt.Z,{size:"MOBILE",store:e,position:t+1,analyticsLabel:l})})})},(e.storeUuid||"feed-desktop-orders-near-you_store-item-marquee-")+t)))})]})})})]})};var Dt=i(20688),Ot=i(52298),Mt=i(45288),Ht=i(20150),Nt=i("__fusion__942"),Ft=i(15649),Xt=i(49201),Wt=i(11788),Vt=i(79528),Gt=i(81957),jt=i(54880),Yt=i(17050),Jt=i(54461),Kt=i(57045),Qt=i(85191),qt=i(94579),ei=i(97167);const ti=(0,c.zo)("div",{width:"325px"}),ii=(0,c.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:"24px",width:"calc(75% - 296px - 24px)"}),ai=(0,c.zo)("div",(e=>{let{$theme:t,$isLastStore:i}=e;return{position:"relative",width:"100%",display:"flex",cursor:"pointer",wordBreak:"break-word",borderBottom:i?"0px":`1px solid ${t.colors.borderOpaque}`,marginBottom:i?"0px":"32px"}})),ri=(0,c.w1)(Dt.Z,{width:"100%",position:"relative",height:"128px",overflow:"hidden",marginTop:"8px"}),oi=(0,c.zo)("div",(e=>{let{$theme:t,$shouldHide:i}=e;return{width:"100%",display:i?"none":"flex",alignItems:"center",marginTop:`${Wt.ci}px`,lineHeight:t.typography.ParagraphSmall.lineHeight,flexFlow:"row wrap",color:t.colors.contentSecondary}})),ni=(0,c.zo)("span",(e=>{let{$theme:t}=e;return{...t.typography[Wt.Rn],color:t.colors.contentPrimary,maxWidth:"100%",lineHeight:"20px",whiteSpace:"nowrap"}})),li=(0,c.zo)("h3",(e=>{let{$theme:t,$typography:i}=e;return{...t.typography[i],color:t.colors.contentPrimary,width:"100%",marginTop:"8px",lineHeight:"20px"}})),si=(0,c.zo)("div",(e=>{let{$theme:t,$textDirection:i}=e;const a=t.typography.LabelSmallRegularButton,r=a.lineHeight,o="ltr"===i?{left:"0px"}:{right:"0px"},n=o.left?`0 ${r} ${r} 0 `:`${r} 0 0 ${r}`;return{...a,position:"absolute",background:t.colors.signpost,color:t.colors.onSignpost,padding:"4px 12px",boxShadow:"inset 0px 0px 1px rgba(0, 0, 0, 0.08)",zIndex:qt.I_.surface,top:"12px",...o,borderRadius:n}}));const di=function(e){let{store:t,location:i,pageType:r,position:o,maxIndex:n,trackingCode:l,analyticsLabel:s,seoContent:c,heroImageSizes:u,heroImageHeight:p,titleTypography:g,seoSearchEnabled:h}=e;const m=t.storeUrl||(0,de.gfM)(i,{storeSlug:t.slug,storeUuid:t.uuid}),y=a.useRef(null),[f,b]=a.useState(!1),x=(0,Ft.Z)(),v=(0,O.ZP)(),I=(0,rt.d)(),C=(0,Kt.Z)(m),w=t.promotion?.promotionUuid,T=t.promotion?.text,_=(0,Z.gm)(),L=o===n,U=c?.storeContent?.description?c?.storeContent?.description:Array.isArray(c?.content)&&c?.content[0]?.text,k=a.useMemo((()=>{if(!t)return null;const{fareInfo:e}=t;if(e?.fareBadge?.text)return(0,S.tZ)(ni,{children:e.fareBadge.text},"deliveryFee");if(e?.serviceFee){const t=(0,Xt.xG)(x,"USD",100*e.serviceFee);return(0,S.tZ)(ni,{children:(0,S.tZ)(d.v,{id:"feed.component.delivery_fee",data:{fee:t}})},"deliveryFee")}return null}),[x,t]),E=a.useMemo((()=>[t.meta.priceBucket?(0,S.tZ)(ni,{children:t.meta.priceBucket},"priceBucket"):null,t.rating?.feedback?.rating&&t.rating?.feedback?.ratingCount?(0,S.BX)(a.Fragment,{children:[(0,S.tZ)(Nt.default,{size:14}),(0,S.tZ)(A.ZP,{$width:"4px"}),(0,S.tZ)(ni,{children:(0,S.tZ)(d.v,{id:"shared.ratings",data:{rating:t.rating?.feedback?.rating,ratingsCount:t.rating?.feedback?.ratingCount}})})]},"ratings"):null,k,t.etaRange?.text?(0,S.tZ)(ni,{children:t.etaRange.text},"etaRange"):null].filter(Boolean)),[k,t.etaRange?.text,t.meta.priceBucket,t.rating?.feedback?.rating,t.rating?.feedback?.ratingCount]),$=a.useMemo((()=>[]),[]);a.useMemo((()=>E.forEach(((e,t)=>{0!==t&&$.push((0,S.tZ)(ni,{children:" • "},`bullet-${t}`)),$.push(e)}))),[E,$]);const P=a.useMemo((()=>{let e=0;const i=t=>!(!t||(e+=1,!f))||t&&e<=4;return{ratingElements:i(Array.isArray(E)&&0!==E.length),address:i(t.location?.formattedAddress),modalities:i(Array.isArray(t.modalities)&&0!==t.modalities.length),categories:i(Array.isArray(t.meta.categories)&&0!==t.meta.categories.length),storeDescription:i(U),structuredTags:i(Array.isArray(c?.storeContent?.structuredTags)&&0!==c?.storeContent?.structuredTags.length),reviews:i(Array.isArray(c?.storeContent?.reviews)&&0!==c?.storeContent?.reviews.length),popularDishes:i(c?.storeContent?.dishes?.dishesDescription),numElements:e}}),[f,E,c?.storeContent?.dishes?.dishesDescription,c?.storeContent?.reviews,c?.storeContent?.structuredTags,t.location?.formattedAddress,t.meta.categories,t.modalities,U]),z=Boolean(P.numElements>4&&(Array.isArray(E)&&0!==E.length||Array.isArray(c?.content)&&0!==c?.content.length||Array.isArray(c?.storeContent?.structuredTags)&&0!==c?.storeContent?.structuredTags.length||Array.isArray(c?.storeContent?.reviews)&&0!==c?.storeContent?.reviews.length||c?.storeContent?.dishes?.dishesDescription)),B=!(Array.isArray(E)&&0!==E.length||U||c?.storeContent?.structuredTags||c?.storeContent?.reviews||c?.storeContent?.dishes?.dishesDescription),R=!(t.heroImage&&t.title&&t.meta.priceBucket&&t.rating?.feedback?.rating&&t.rating?.feedback?.ratingCount&&t.deliveryFee&&t.etaRange?.text&&t.location?.formattedAddress&&Array.isArray(t.modalities)&&0!==t.modalities.length&&Array.isArray(t.meta.categories)&&0!==t.meta.categories.length);a.useEffect((()=>{R&&v("eats:city_meta_data_availability",{storeUuid:t.uuid,hasImage:Boolean(t.heroImage),hasTitle:Boolean(t.title),hasPriceBucket:Boolean(t.meta.priceBucket),hasRating:Boolean(t.rating?.feedback?.rating),hasRatingCount:Boolean(t.rating?.feedback?.ratingCount),hasDeliveryFee:Boolean(t.deliveryFee),hasEtaRange:Boolean(t.etaRange?.text),hasAddress:Boolean(t.location?.formattedAddress),hasModalities:Array.isArray(t.modalities)&&0!==t.modalities.length,hasCategories:Array.isArray(t.meta.categories)&&0!==t.meta.categories.length})}),[v,R,t.deliveryFee,t.etaRange?.text,t.heroImage,t.location?.formattedAddress,t.meta.categories,t.meta.priceBucket,t.modalities,t.rating?.feedback?.rating,t.rating?.feedback?.ratingCount,t.title,t.uuid]),a.useEffect((()=>{v("eats:city_typewriter_data_availability",{storeUuid:t.uuid,hasStoreDescription:Boolean(U),hasStructuredTags:Array.isArray(c?.storeContent?.structuredTags)&&0!==c?.storeContent?.structuredTags.length,hasReviews:Array.isArray(c?.storeContent?.reviews)&&0!==c?.storeContent?.reviews.length,hasPopularDishes:Boolean(c?.storeContent?.dishes?.dishesDescription)})}),[v,c?.storeContent?.dishes?.dishesDescription,c?.storeContent?.reviews,c?.storeContent?.structuredTags,t.uuid,U]);const[D,M]=(0,Qt.Z)({root:null,threshold:.75});return a.useEffect((()=>{M&&M.isIntersecting&&v("eats:city_scroll_depth",{storeUuid:t.uuid,trackingCode:l,trackingCodeLabel:s,position:String(o||0),diningMode:I,originSource:C,hasSeoContent:Boolean(c)})}),[M,v,t.uuid,l,s,o,I,C,c]),(0,S.tZ)(S.HY,{children:(0,S.BX)(ai,{onClick:e=>{v("eats:city_click_store",{storeUuid:t.uuid,trackingCode:l,trackingCodeLabel:s,position:String(o||0),diningMode:I,originSource:C,hasSeoContent:Boolean(c)}),y.current&&y.current.click()},ref:D,"data-test":ei.J.storeLink,$isLastStore:L,children:[(0,S.tZ)(ti,{children:(0,S.tZ)(ri,{storeUuid:t.uuid,image:t.heroImage,sizes:u,children:T&&w?(0,S.tZ)(si,{$textDirection:_,children:T}):null})}),(0,S.BX)(ii,{children:[(0,S.tZ)(Ht.Z,{ref:y,storeUuid:t.uuid,storeUrl:m,location:i,trackingCode:l,pageType:r,position:o,partialStore:(0,Mt.vK)(t),analyticsLabel:s,hasSeoContent:Boolean(c),children:(0,S.tZ)(li,{$typography:g,children:t.title||""})}),0!==$.length?(0,S.tZ)(oi,{$shouldHide:!P.ratingElements,children:$}):null,(0,S.tZ)(Wt.ZP,{items:t.location?.formattedAddress,itemType:"address",shouldHide:!P.address,iconSize:14,spacing:"12px",useWiderMarginTop:B}),(0,S.tZ)(Yt.Z,{items:t.modalities,shouldHide:!P.modalities,iconSize:14,spacing:"16px",useWiderMarginTop:B}),(0,S.tZ)(Jt.Z,{items:t.meta.categories,itemType:"category",shouldHide:!P.categories,iconSize:14,shouldHaveMarginBottom:!z,useWiderMarginTop:B}),(0,S.tZ)(Gt.Z,{items:U,shouldHide:!P.storeDescription,shouldShowDescriptionIcon:!t.meta.categories,itemType:"category",iconSize:14,spacing:"12px"}),(0,S.tZ)(Jt.Z,{items:c?.storeContent?.structuredTags,itemType:"structuredTag",shouldHide:!P.structuredTags,iconSize:14}),(0,S.tZ)(jt.Z,{items:c?.storeContent?.reviews,shouldHide:!P.reviews,shouldShowReviewIcon:!P.structuredTags&&P.reviews,itemType:"reviews",iconSize:14,spacing:"12px"}),(0,S.tZ)(Wt.ZP,{items:c?.storeContent?.dishes?.dishesDescription,itemType:c?.storeContent?.dishes?.dishIcon,shouldHide:!P.popularDishes,iconSize:14,spacing:"12px"}),z?(0,S.tZ)(Vt.Z,{isExpanded:f,setIsExpanded:b,store:t,trackingCode:l,trackingCodeLabel:s,position:o,diningMode:I,originSource:C,hasSeoContent:Boolean(c),padding:16}):null,(0,S.tZ)(Ot.ZP,{$height:16})]})]})})};var ci=i(77234),ui=i(86745);const pi=e=>{const t=(0,O.ZP)(),{orderHistory:i,analyticsLabel:r}=e,n=(0,o.TH)(),{containerRef:l,getPageChunks:s,getPageProps:c,isPreviousPageDisabled:u,isNextPageDisabled:p,handlePageChange:g,supportsScrollSnapping:h,textDirection:m}=(0,Le.Z)({scrollOffset:ui.AA}),y={width:qt.yI,height:"120px"},f=s(i.map(((e,t)=>{const i=(0,de.gfM)(n,{storeSlug:e.store?.slug,storeUuid:e.store?.uuid,newQueryParams:{cartDisplay:1}});return(0,S.tZ)(ui.JL,{$textDirection:m,children:(0,S.tZ)(ci.Z,{...e,redirectionUrl:i,index:t,heroImageWidth:y.width,heroImageHeight:y.height,clampLines:4,titleTypography:"LabelLarge",subtitleTypography:"ParagraphSmall",footerTypography:"ParagraphSmall"})},t)})).filter(Boolean),ui.gK),Z=a.useMemo((()=>i.map((e=>e.store.uuid))),[i]);return(0,S.tZ)(Ee.Z,{carouselUuid:e.uuid,analyticsLabel:r,entityUuids:Z,children:(0,S.BX)("section",{children:[(0,S.tZ)(Ut.Z,{$as:"h2",title:e.title,paginated:i.length>ui.gK,onPageChange:e=>{g(e),t("eats:feed_reorder_carousel_page_change_click")},backwardEnabled:!u,forwardEnabled:!p}),0===i.length?(0,S.tZ)(ui.sc,{children:(0,S.tZ)(d.v,{id:"bandwagon.no_restaurants"})}):(0,S.tZ)(ui.Bb,{ref:l,$supportsScrollSnapping:h,children:f.map(((e,t,i)=>(0,S.tZ)(ui.T3,{...c(t,i.length),children:e},t)))})]})})};var gi=i(20346),hi=i(5090),mi=i(14025),yi=i(55029),fi=i(97777),Zi=i(27759),bi=i(57101),xi=i(44005),vi=i(20924),Si=i(45289),Ii=i(19912);const Ci=(0,c.w1)(Dt.Z,(e=>{let{$height:t}=e;return{width:"200px",position:"relative",height:`${t}px`,overflow:"hidden"}})),wi=(0,c.zo)("div",(e=>{let{$isInteractive:t}=e;return{position:"absolute",top:0,display:"flex",justifyContent:"space-between",width:"100%",padding:"12px 0",boxSizing:"border-box",...t?{}:{pointerEvents:"none"}}})),Ti=(0,c.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:"16px",width:"calc(100% - 216px)"}),_i=(0,c.zo)("div",{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}),Li=(0,c.zo)("div",(e=>{let{$theme:t,$typography:i}=e;return{...t.typography[i],width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),Ui=(0,c.w1)(Zi.Z,(e=>{let{$marginBottom:t}=e;return{display:"flex",overflow:"hidden",...t?{marginBottom:`${t}px`}:{}}}));const ki=function(e){let{store:t,location:i,pageType:r,position:o,linkRef:n,showFavorite:l,titleTypography:s,heroImageHeight:d,heroImageSizes:c,trackingSource:u,analyticsLabel:p,marginBottom:g,useLazyLoadImage:h,seoContent:m}=e;const y=JSON.stringify({metaInfo:{analyticsLabel:p}}),f=(0,bi.HX)(i,t.actionUrl),Z=(0,rt.d)(),b=(0,vi.Z)(),x=Boolean("PICKUP"!==Z&&t.storeStateContext&&t.storeStateContext===xi.Xr.PICKUP&&!b),v=x&&t.imageOverlayCallToAction?t.imageOverlayCallToAction.actionUrl:"",I=x?"PICKUP":Z,C=(0,O.ZP)();a.useEffect((()=>{C("eats:store_item_state",{storeAction:{storeUuid:t.storeUuid??""},pathname:i.pathname,storeAvailabilityState:t.tracking?.storePayload?.storeAvailablityState})}),[C,t.tracking,t.storeUuid,i]);const w=t.tracking?.storePayload?.offerMetadata,T=(0,Ii.Z)({eventName:"eats:store_card_impression",eventPayload:{storeAction:{storeUuid:t.storeUuid??""},pathname:i.pathname,storeAvailabilityState:t.tracking?.storePayload?.storeAvailablityState,offerMetadata:w??void 0}});return(0,S.BX)(Ui,{ref:(0,Ct.Z)(T,n),storeUuid:t.storeUuid||"",storeUrl:v||f,storeTitle:t.title?.text||"",storeAd:t.storeAd,pageType:r,position:o,trackingSource:u,trackingCode:y,$marginBottom:g,partialStore:(0,Mt.oY)(t),analyticsLabel:p,diningMode:I,isLowCourier:x,hasSeoContent:Boolean(m),offerMetadata:w,children:[(0,S.BX)(Ci,{storeUuid:t.storeUuid||"",image:t.image,sizes:c,$height:d,useLazyLoad:h,children:[(0,S.tZ)(wi,{$isInteractive:!t.imageOverlay,children:(t.signposts||[]).length?(0,S.tZ)(fi.ZP,{signposts:t.signposts||[]}):(0,S.tZ)(A.sA,{})}),t.imageOverlay?(0,S.tZ)(yi.ZP,{imageOverlay:t.imageOverlay,imageOverlayCallToAction:t.imageOverlayCallToAction,shouldUseLowCourierSupply:x}):null]}),(0,S.BX)(Ti,{children:[(0,S.BX)(_i,{children:[(0,S.tZ)(Li,{$typography:s,children:t.title?.text||""}),t.rating?(0,S.tZ)(S.HY,{children:(0,S.tZ)(gi.Z,{rating:t.rating})}):null]}),t.meta?(0,S.tZ)(hi.Z,{meta:t.meta}):null,Array.isArray(m?.content)&&m?.content[0]?.text?(0,S.BX)(S.HY,{children:[(0,S.tZ)(Ot.ZP,{$height:8}),(0,S.tZ)(mi.Z,{content:m.content[0].text})]}):null,t.meta2?(0,S.BX)(S.HY,{children:[(0,S.tZ)(Ot.ZP,{$height:8}),(0,S.tZ)(hi.Z,{meta:t.meta2,truncateTextWithEllipsis:!0})]}):null,t.endorsements?(0,S.tZ)(Si.Z,{endorsements:t.endorsements}):null]})]})};var Ei=i(39131),$i=i(40380),Pi=i(47073),Ai=i(6319),zi=i(11056),Bi=i(38381),Ri=i(85218),Di=i(24557),Oi=i(24331),Mi=i(30376),Hi=i(89400),Ni=i(40012),Fi=i(60802),Xi=i(31112),Wi=i(24217),Vi=i(79937),Gi=i(24236),ji=i(67672);const Yi=(0,c.zo)("div",{display:"flex",flexDirection:"column"}),Ji=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{flex:1,minWidth:0,paddingTop:t.sizing.scale100}})),Ki=(0,c.zo)("div",{maxHeight:"146px",maxWidth:"184px",width:"100%",height:"100%",justifyContent:"center",display:"flex",flexShrink:0}),Qi=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,whiteSpace:"initial",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"184px"}})),qi=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,paddingTop:"4px",color:t.colors.contentSecondary}})),ea=(0,c.zo)(ce.Z,{height:"146px",width:"184px",outlineOffset:"-1px",objectFit:"contain"}),ta=e=>{let{item:t,actionUrl:r,storeUuid:n,position:l,mvsMeta:s}=e;const d=(0,O.ZP)(),c=(0,O.XL)(),u=(0,o.TH)(),p=t.images&&t.images[0]&&t.images[0].items&&t.images[0].items[0]&&"string"==typeof t.images[0].items[0].url?t.images[0].items[0].url:null,g=p||(0,m.pZ)(i(43574)),h=t.title?.text||"",y=t.subtitles&&t.subtitles[0]?t.subtitles[0].text:null,f=(0,Kt.Z)(r),Z="cornershop"===f,x=(0,Vi.Z)(),v=(0,de.qS0)((0,bi.HX)(u,r),x),{userQuery:I}=(0,de.RAN)(u,["userQuery"]),C=a.useRef(!1),w={searchTerm:String(I),storeUuid:n||"",position:l||0,originSource:f,itemUuid:t.uuid||"",itemPrice:y||"",hasImage:Boolean(p)},T=t.tracking?JSON.stringify(t.tracking):"",_=e=>{let{shouldFlush:i}=e;return(i?c:d)("eats:click_dish",{storeUuid:n||"",dishUuid:t.uuid||"",actionUrl:v.pathname,position:String(l||0),searchTerm:String(I),originSource:f||"native",hasItemImage:Boolean(g),itemMetadata:y||"",mvsMeta:s,trackingCode:T}),!0},{elementRef:L,isElementHidden:U}=(0,Gi.Z)({initialHidden:!0,waitTime:0,shouldListen:!C.current});a.useEffect((()=>{U||(C.current=!0,d("eats:search_results_vertical_item_impression",{searchResultItem:w,mvsMeta:s}))}),[d,U,s,w]);const k=(0,S.BX)(Yi,{children:[g?(0,S.tZ)(Ki,{children:(0,S.tZ)(b.ZP,{height:146,once:!0,children:(0,S.tZ)(Wi.Z,{src:g,children:(0,S.tZ)(ea,{src:g,"aria-hidden":!0})})})}):null,(0,S.BX)(Ji,{children:[(0,S.tZ)(Qi,{children:(0,S.tZ)(Pe.Z,{clamp:2,children:h})}),(0,S.tZ)(qi,{children:y})]})]});return(0,S.tZ)("div",{ref:L,children:Z?(0,S.tZ)("a",{href:r,onClick:e=>{_({shouldFlush:!0}),e.preventDefault(),(0,ji.Z)(r)},children:k}):(0,S.tZ)(_e.rU,{to:{...v,state:{referrerPathname:u.pathname}},onClick:()=>_({shouldFlush:!1}),children:k})})};var ia=i(15070);const aa=(0,c.zo)("div",{paddingRight:"16px"}),ra=(0,c.zo)("div",{paddingLeft:"16px"}),oa=e=>{let{items:t,storeUuid:i,position:a,originSource:r}=e;const n=(0,o.TH)(),l=(0,ia.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),{vertical:s}=(0,de.RAN)(n,["vertical"]),d={verticalList:l.map((e=>e.verticalType)).join(","),selectedVertical:s};if(!t||t.length<1)return null;const c=Boolean(t.find((e=>null!==(e.images||[])[0]?.items))),u=t[0]?.style||"WIDE_FLAT",p="NARROW_TALL"===u?5:3;return(0,S.tZ)(Fi.Z,{slides:t,renderSlide:function(e){let{slide:t,carouselSlideProps:o}=e;switch(u){case"WIDE_FLAT":return(0,S.tZ)(Xi.Z,{item:t,actionUrl:(0,bi.HX)(n,t.actionUrl),imageWidth:110,noImages:!c,mvsMeta:d,storeUuid:i,position:a,originSource:r});case"NARROW_TALL":return(0,S.tZ)(ta,{item:t,actionUrl:t.actionUrl||"",mvsMeta:d,storeUuid:i,position:a});default:return null}},renderPrevButton:(e=>function(t){return(0,S.tZ)(aa,{children:(0,S.tZ)(Ni.Z,{direction:"backward",onClick:t,size:e,type:"regular"})})})(36),renderNextButton:(e=>function(t){return(0,S.tZ)(ra,{children:(0,S.tZ)(Ni.Z,{direction:"forward",onClick:t,size:e,type:"regular"})})})(36),pageSize:p,margin:16,isInfinite:!0,shouldStartAlign:!0})};var na=i(22395),la=i(28929),sa=i(51531);const da="ParagraphSmall",ca=(0,c.zo)("span",(e=>{let{$theme:t}=e;return{...t.typography[da],color:t.colors.contentSecondary,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}})),ua=(0,c.zo)("div",(e=>({whiteSpace:"nowrap",overflow:"hidden",...e.$isLast?{textOverflow:"ellipsis"}:{flexShrink:0}}))),pa=(0,c.zo)("div",{width:"100%",flexWrap:"nowrap",display:"flex",alignItems:"center",justifyContent:"flex-start"}),ga=(0,c.zo)("span",qt.E2),ha=()=>(0,S.tZ)(na.Z,{typography:da}),ma=e=>{let{meta:t,baseColor:i,removeServerDrivenColor:a,truncateTextWithEllipsis:r,baseFont:o}=e;return(0,S.tZ)(z.Z,{separator:ha,children:(t||[]).map(((e,n)=>{const{accessibilityText:l,textFormat:s,actionUrl:d}=e;return(0,S.BX)(ua,{$isLast:n===(t||[]).length-1,children:[l?(0,S.tZ)(ga,{children:l}):null,(0,S.tZ)(ca,{"aria-hidden":!!l||void 0,children:d?(0,S.tZ)(sa.Z,{textFormat:s,actionUrl:d}):(0,S.tZ)(Hi.Z,{badge:e,baseColor:i,baseFont:o,removeServerDrivenColor:a,truncateTextWithEllipsis:r})})]},`badge-${n}`)}))})},ya=e=>{let{rating:t,meta:i,meta2:a,baseColor:r="contentTertiary",baseFont:o=da,removeServerDrivenColor:n,truncateTextWithEllipsis:l}=e;const s=Boolean(i&&i.length>0);return(0,S.BX)(pa,{children:[t&&t.text?(0,S.BX)(S.HY,{children:[(0,S.tZ)(la.Z,{size:12,color:"contentSecondary"})," ",(0,S.tZ)(A.Q3,{})," ",(0,S.tZ)(ca,{children:t.text}),s?(0,S.tZ)(ha,{}):null]}):null,s?(0,S.tZ)(S.HY,{children:(0,S.tZ)(ma,{baseColor:r,baseFont:o,meta:i,removeServerDrivenColor:n,truncateTextWithEllipsis:l})}):null,a&&a.length>0?(0,S.BX)(S.HY,{children:[s?(0,S.tZ)(ha,{}):null,(0,S.tZ)(ma,{baseColor:r,baseFont:o,meta:a,removeServerDrivenColor:n,truncateTextWithEllipsis:l})]}):null]})},fa=(0,c.w1)(Zi.Z,(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,display:"flex",overflow:"hidden",textDecoration:"underline"}})),Za=(0,c.zo)("div",{minWidth:0,display:"flex",flexDirection:"column",width:"100%"}),ba=(0,c.zo)("div",{display:"flex",justifyContent:"space-between"}),xa=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",border:`1px solid ${t.colors.borderOpaque}`,borderRadius:"12px",padding:"16px",overflow:"hidden"}})),va=(0,c.zo)("div",(e=>{let{$theme:t,$hasItems:i}=e;return{position:"relative",display:"flex",alignItems:"center",paddingBottom:i?t.sizing.scale600:0,minWidth:0,overflow:"hidden"}})),Sa=(0,c.w1)(Dt.Z,(e=>{let{$width:t,$height:i,$borderRadius:a}=e;return{width:t,height:i,flex:"none",overflow:"hidden",borderRadius:a}})),Ia=(0,c.zo)("div",{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"initial",minWidth:0,wdith:"100%",alignSelf:"flex-end"}),Ca=(0,c.zo)("div",{flex:"1 1 0"});const wa=function(e){let{store:t,trackingSource:a,analyticsLabel:r,position:n,useLazyLoadImage:l,items:d,pageType:c,feedItem:u}=e;const p=(0,o.TH)(),g=(0,s.T)(),h=t?.tracking?JSON.stringify(t.tracking):JSON.stringify({metaInfo:{analyticsLabel:r}}),y=(0,rt.d)(),{onClick:f,impressionRef:Z}=(0,v.v)({tapEventName:"marketplace_selected",impressionEventName:"marketplace_scrolled",payload:t?(0,me.pt)({feedContext:c,feedIndex:n,feedStore:t,diningMode:y,feedItem:u}):{}});if(!t)return null;const b=(0,bi.HX)(p,t.actionUrl),x=y;d.length>1&&"ACTION_BUTTON"===d[d.length-1]?.style&&d.pop();const I=(0,Kt.Z)(b);return(0,S.BX)(xa,{ref:Z,children:[(0,S.BX)(va,{$hasItems:d.length>1,children:["cornershop"===I?(0,S.tZ)("a",{href:b,onClick:f,children:(0,S.tZ)(Sa,{storeUuid:t.storeUuid||"",image:t.image,sizes:"10vw",useLazyLoad:l,defaultHeroImageUrl:(0,m.pZ)(i(21777)),$width:"64px",$height:"64px",$borderRadius:"100px"})}):(0,S.tZ)(_e.rU,{to:b,onClick:f,children:(0,S.tZ)(Sa,{storeUuid:t.storeUuid||"",image:t.image,sizes:"10vw",useLazyLoad:l,defaultHeroImageUrl:(0,m.pZ)(i(21777)),$width:"64px",$height:"64px",$borderRadius:"100px"})}),(0,S.tZ)(A.ZP,{$width:"16px"}),(0,S.BX)(Za,{children:[(0,S.BX)(ba,{children:[(0,S.tZ)(Ia,{children:(0,S.tZ)(Hi.Z,{tag:"span",badge:t.title,baseFont:"LabelLarge"})}),(0,S.tZ)(fa,{storeUuid:t.storeUuid||"",storeUrl:b,storeTitle:t.title?.text||"",storeAd:t.storeAd,trackingSource:a,trackingCode:h,position:n,analyticsLabel:r,partialStore:(0,Mt.oY)(t),diningMode:x,pageType:c,dishCarousel:!1,numDishes:d.length,offerMetadata:t.tracking?.storePayload?.offerMetadata,children:g("multiVerticalSearch.seeStore")})]}),(0,S.tZ)(ya,{rating:t.rating,meta:t.meta,meta2:t.meta2}),t.signposts?(0,S.BX)(S.HY,{children:[(0,S.tZ)(Ca,{}),(0,S.tZ)(fi.ZP,{signposts:t.signposts})]}):null,t.endorsements?(0,S.tZ)(Si.Z,{endorsements:t.endorsements}):null]})]}),(0,S.tZ)(oa,{items:d,storeUuid:t.storeUuid||"",position:n,originSource:I})]})};var Ta=i(91374),_a=i(86695),La=i(68065),Ua=i(11208);const ka=(0,c.zo)("div",{display:"flex",flexDirection:"column",width:"100%",justifyContent:"center",height:"80%",gap:"8px"}),Ea=(0,c.zo)("div",{justifyContent:"center",width:"100%"}),$a=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",border:`1px solid ${t.colors.borderOpaque}`,borderRadius:"12px",padding:"16px",overflow:"hidden",gap:"16px"}})),Pa=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{position:"relative",display:"flex",flexDirection:"row",overflow:"hidden",gap:"24px"}})),Aa=(0,c.zo)("div",{maxHeight:"240px",maxWidth:"550px",overflow:"hidden",alignItems:"center",objectFit:"contain",objectPosition:"center",display:"flex",width:"100%"}),za=(0,c.zo)("div",(e=>{let{$direction:t}=e;return{display:"flex",height:"32px",minWidth:"32px",float:"ltr"===t?"right":"left"}})),Ba=(0,c.w1)(Dt.Z,{display:"flex"}),Ra=(0,c.zo)("div",{}),Da=(0,c.zo)("div",(e=>{let{$direction:t}=e;return{display:"flex",position:"absolute",top:"8px",..."ltr"===t?{right:0}:{left:0}}})),Oa=(0,c.w1)(Zi.Z,{display:"flex"});const Ma=function(e){let{store:t,trackingSource:a,analyticsLabel:r,position:n,items:l,pageType:d}=e;const c=(0,o.TH)(),u=(0,Z.gm)(),p=(0,s.T)();if(!t)return null;const g=!t.signposts||0===t.signposts.length,h=(0,bi.HX)(c,t.actionUrl);l.length>1&&"ACTION_BUTTON"===l[l.length-1]?.style&&l.pop();const y=(0,Kt.Z)(h);return(0,S.BX)($a,{children:[(0,S.BX)(Pa,{children:[(0,S.tZ)(Aa,{children:(0,S.tZ)(Oa,{storeUuid:t.storeUuid||"",storeUrl:h,storeAd:null,trackingSource:a,position:n,analyticsLabel:r,partialStore:null,storeTitle:t.title?.text||"",pageType:d,offerMetadata:t.tracking?.storePayload?.offerMetadata,children:(0,S.tZ)(Ba,{storeUuid:t.storeUuid||"",image:t.image,defaultHeroImageUrl:(0,m.pZ)(i(21777)),children:(0,S.BX)(Da,{$direction:u,children:[(0,S.tZ)(Ua.Z,{storeUuid:t.storeUuid||"",size:"small",shadow:(0,S.tZ)(Ua._,{$favoriteButtonSize:"small",$shadowSize:80,$topOffset:-8,$leftOffset:"rtl"===u?-8:4})}),(0,S.tZ)(A.IQ,{})]})})})}),(0,S.BX)(Ea,{children:[t.rating?(0,S.tZ)(za,{$direction:u,children:(0,S.tZ)(gi.Z,{rating:t.rating})}):null,(0,S.BX)(ka,{children:[(0,S.tZ)(Ra,{children:(0,S.tZ)(Hi.Z,{tag:"span",badge:t.title,baseFont:"LabelLarge"})}),[t.meta,t.meta2].filter(Boolean).map(((e,t)=>(0,S.tZ)(Ta.Z,{meta:e,wrapText:g},t))),t.signposts?(0,S.tZ)(fi.ZP,{signposts:t.signposts,enforceTextColorOnlyFromServer:!0}):null,t.endorsements?(0,S.tZ)(Si.Z,{endorsements:t.endorsements}):null,(0,S.tZ)(Oa,{storeUuid:t.storeUuid||"",storeUrl:h,storeAd:null,trackingSource:a,position:n,analyticsLabel:r,partialStore:null,storeTitle:t.title?.text||"",numDishes:l.length,pageType:d,dishCarousel:!0,offerMetadata:t.tracking?.storePayload?.offerMetadata,children:(0,S.tZ)(_a.zx,{kind:_a.TO.secondary,shape:La.X3.pill,overrides:{BaseButton:{style:{width:"fit-content"}}},children:p("multiVerticalSearch.seeStore")})})]})]})]}),l&&l.length>0?(0,S.tZ)(oa,{items:l,storeUuid:t.storeUuid||"",position:n,originSource:y}):null]})};var Ha=i(48601),Na=i(62330),Fa=i(22250);(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,background:t.colors.backgroundSecondary,height:"240px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"16px"}}));const Xa=e=>{const{containerRef:t,getPageChunks:i,getPageProps:r,isPreviousPageDisabled:o,isNextPageDisabled:n,handlePageChange:l,supportsScrollSnapping:s,textDirection:d}=(0,Le.Z)({scrollOffset:24}),{feedItemUuid:c}=e,u=(0,O.ZP)(),{windowWidth:p}=(0,Fa.Z)(),{draftOrders:g}=(0,ia.v)((e=>{let{draftOrders:t}=e;return t})),{refetch:h}=(0,Na.Z)(c);a.useEffect((()=>{g.isLoading||null===g||g.hasLoaded&&h()}),[g,h]);const m="draft-order",y=e.draftOrderCarousel.header,f=e.analyticsLabel,[Z,b]=a.useMemo((()=>{const t=e.draftOrderCarousel.cards||[],i=t.map((e=>e.miniStorePayload?.storeUuid)).filter(Boolean);return[t,i]}),[e.draftOrderCarousel.cards]),x=Z?1===Z.length?1:p<1200||2===Z.length?2:3:3,v=i(Z.map(((t,i)=>(0,S.tZ)($e.Mi,{$textDirection:d,$margin:24,$pageSize:x,children:(0,S.tZ)(Ha.Z,{draftOrderCard:t,size:"DESKTOP_CIRCLE",analyticsLabel:e.analyticsLabel,isSingleCard:1===x,isHorizontal:2===Z.length,feedItem:e.feedItem})},i))).filter(Boolean),x);return(0,S.tZ)(Ee.Z,{analyticsLabel:f,entityUuids:b,carouselLayoutType:m,children:(0,S.tZ)("section",{children:(0,S.tZ)(bt.Z,{header:y,onPageChange:l,showPaginationButtons:Z.length>x,backwardEnabled:!o,forwardEnabled:!n,onViewAllClick:()=>{"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=f&&u("eats:feed_draft_orders_carousel_cta_click",{label:f,numItems:b?b.length:0,carouselLayoutType:m,entityUuids:b})},children:0===Z.length?null:(0,S.tZ)($e.im,{ref:t,$supportsScrollSnapping:s,children:v.map(((e,t,i)=>(0,S.tZ)($e.T3,{$pageMargin:24,...r(t,i.length),children:e},t)))})})})})};var Wa=i(31913),Va=i(45382),Ga=i(31723),ja=i(30768);const Ya=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,display:"flex",width:"100%",height:"54px",marginTop:"16px",alignItems:"center"}})),Ja=(0,c.zo)("div",{marginBottom:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),Ka=e=>{const{containerRef:t,getPageChunks:i,getPageProps:a,isPreviousPageDisabled:r,isNextPageDisabled:n,handlePageChange:l,supportsScrollSnapping:s,textDirection:d}=(0,Le.Z)({scrollOffset:24}),c=(0,o.TH)(),u=(0,x.w)(),p=(0,ja.Z)(),{windowWidth:g}=(0,Fa.Z)(),h="item-carousel",m=(()=>{let t=5;return g<1290?t=4:g>1580&&(t=6),e.isLeftNavHidden?t+1:t})(),y=(0,Ii.Z)({eventName:"eats:feed_item_carousel_store_footer_impression",intersectionObserverProps:{threshold:.75},shouldEmit:Boolean(e.footer),eventPayload:{feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||"",actionUrl:e.footer?.actionUrl||"",numItems:e.items?.length,label:e.analyticsLabel||"",carouselPosition:e.position,carouselTitle:e.header?.title?.text||""}},x.w),{impressionRef:f,onSeeAllClick:Z}=(0,v.v)({impressionEventName:"feed_item_scrolled",seeAllTapEventName:"see_all_carousel_tap",payload:{...(0,me.GS)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem}),feedItemType:e.feedItem?.type}}),b=(0,v.j)({tapEventName:"quick_add_items_carousel_footer_tapped",payload:{analyticsLabel:e.feedItem&&"analyticsLabel"in e.feedItem?e.feedItem.analyticsLabel:null,feedItemPosition:e.position,feedItemType:e.feedItem?.type,feedItemUuid:e.feedItem?.uuid,storeUuid:e.storeUuid,actionUrl:e.footer?.actionUrl}});if(!e.items)return null;const I=e.items.map(((t,i)=>(0,S.tZ)($e.Mi,{$textDirection:d,$margin:24,$pageSize:m,children:(0,S.tZ)(Va.Z,{item:t,position:i+1,storeUuid:e.storeUuid||"",carouselTitle:e.header?.title?.text||"",carouselPosition:e.position,pageType:e.pageType,size:"DESKTOP",hideNoFollow:e.hideNoFollow,feedItem:e.feedItem})},i))).filter(Boolean),C=e?.header?.callToAction,w=C?.actionUrl?C.actionUrl.replace("https://www.ubereats.com",""):"",T={...e.header,endIcon:null,callToAction:{...C,actionUrl:w}},_=i(I,m),L=(0,bi.HX)(c,e.footer?.actionUrl||"");return(0,S.tZ)(Ee.Z,{analyticsLabel:e.analyticsLabel||"",numItems:I.length,position:e.position,pageType:e.pageType,carouselTitle:e.header?.title?.text||"",carouselLayoutType:h,carouselUuid:e.feedItemUuid,ref:f,children:(0,S.tZ)("section",{children:(0,S.BX)(bt.Z,{header:T,showPaginationButtons:I.length>5,onPageChange:l,backwardEnabled:!r,forwardEnabled:!n,onViewAllClick:()=>{Z(),"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=e.analyticsLabel&&(Z(),u("eats:vertical_feed_red_carpet_carousel_cta_click",{label:e.analyticsLabel,numItems:I?I.length:0,carouselLayoutType:h,vertical:p||"",carouselTitle:e.header?.title?.text||"",carouselPosition:e.position,pageType:e.pageType}))},children:[(0,S.tZ)($e.im,{ref:t,$supportsScrollSnapping:s,children:_.map(((e,t,i)=>(0,S.tZ)($e.T3,{$pageMargin:24,...a(t,i.length),children:e},t)))}),e.footer?(0,S.tZ)(_e.rU,{rel:"nofollow",to:L,ref:y,onClick:()=>(b(),u("eats:feed_item_carousel_store_footer_click",{feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||"",vertical:p||"",trackingCodeLabel:e.analyticsLabel||""}),!0),children:(0,S.BX)(Ya,{children:[(0,S.tZ)(ce.Z,{src:e.footer.leadingIcon||"",height:"40px",width:"72px"}),(0,S.tZ)(A.ZP,{$width:"16px"}),(0,S.tZ)(Ja,{children:(0,S.tZ)(Wa.ZP,{text:e.footer.centerText,whiteSpace:"no-wrap"})}),(0,S.tZ)(A.ZP,{$width:"24px"}),(0,S.tZ)(Ga.Z,{size:12,color:"contentInverseTertiary"})]})}):null]})})})};var Qa=i(34107);const qa=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",borderRadius:"12px",overflow:"hidden"}})),er=(0,c.w1)(ue.hh,(e=>{let{$theme:t}=e;return t.typography.LabelMedium})),tr=(0,c.zo)("div",{display:"flex",alignItems:"center",justifyContent:"flex-end",whiteSpace:"nowrap"}),ir=(0,c.zo)("div",{marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative"});const ar=function(e){let{store:t,position:i,items:a,analyticsLabel:r,feedItemUuid:n,feedItem:l,pageType:s}=e;const c=(0,o.TH)(),u=t?.tracking?JSON.stringify(t.tracking):"",p=(0,O.ZP)(),{windowWidth:g}=(0,Fa.Z)(),{containerRef:h,getPageChunks:m,getPageProps:y,isPreviousPageDisabled:f,isNextPageDisabled:Z,handlePageChange:b,supportsScrollSnapping:x,textDirection:v}=(0,Le.Z)({scrollOffset:24});if(!t)return null;const I=(0,bi.HX)(c,t.actionUrl),C="mini-store-with-items-carousel",w=g>1440?8:g>1280?7:g>1200?6:g>990?5:4;if(!a)return null;const T=m(a.map(((e,i)=>(0,S.tZ)($e.Mi,{$textDirection:v,$margin:24,$pageSize:w,children:(0,S.tZ)(Va.Z,{item:e,position:i+1,storeUuid:t.storeUuid||"",size:"DESKTOP",feedItem:null})},i))).filter(Boolean),w),_=a.length>w,L=(0,S.BX)(tr,{children:[(0,S.tZ)(er,{onClick:()=>{p("eats:mini_store_with_items_see_all_click",{numItems:a?a.length:0,carouselLayoutType:C,trackingCode:u,storeUuid:t.storeUuid||""})},to:I,children:(0,S.tZ)(d.v,{id:"carousel.see_all"})}),_?(0,S.tZ)(A.ZP,{$width:"40px"}):null,_?(0,S.tZ)(Ae.Z,{backwardEnabled:!f,forwardEnabled:!Z,onPageChange:b}):null]});return(0,S.tZ)(qa,{children:(0,S.tZ)(Ee.Z,{numItems:a.length,carouselLayoutType:C,trackingCode:u,analyticsLabel:r,carouselUuid:n,children:(0,S.BX)("section",{children:[(0,S.BX)(ir,{children:[(0,S.tZ)(Qa.Z,{store:t,size:"DESKTOP_CIRCLE",hideBorder:!0,hideIcon:!0,analyticsLabel:r,feedItem:l,position:i,pageType:s}),L]}),(0,S.tZ)($e.im,{ref:h,$supportsScrollSnapping:x,children:T.map(((e,t,i)=>(0,S.tZ)($e.T3,{$pageMargin:24,...y(t,i.length),children:e},t)))})]})})})};var rr=i(51395);const or=e=>{const{containerRef:t,getPageChunks:i,getPageProps:r,isPreviousPageDisabled:o,isNextPageDisabled:n,handlePageChange:l,supportsScrollSnapping:s,textDirection:d}=(0,Le.Z)({scrollOffset:24}),u=(0,rt.d)(),[,p]=(0,c.hQ)(),{windowWidth:g}=(0,Fa.Z)(),h=(0,x.w)(),m=(0,rt.d)(),{onSeeAllClick:y}=(0,v.v)({seeAllTapEventName:"see_all_carousel_tap",payload:(0,me.vZ)({analyticsLabel:e.analyticsLabel,feedItemUuid:e.feedItemUuid,feedContext:e.pageType,diningMode:u})}),{impressionRef:f}=(0,v.v)({impressionEventName:"feed_item_scrolled",payload:{...(0,me.GS)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem}),feedItemType:e.feedItem?.type,numItemsInCarousel:e.items?.length}}),Z="single-catalog-items-carousel",b=e.trackingCode?JSON.stringify(e.trackingCode):"",I=(()=>{let t=4;return g<1290?t=3:g>1580&&(t=5),e.isLeftNavHidden?t+1:t})();if(a.useEffect((()=>{e.items&&0!==e.items.length||h("eats:empty_item_carousel_payload",{label:e.analyticsLabel||"",carouselLayoutType:Z,carouselPosition:e.position,carouselTitle:e.header?.title?.text||"",pageType:e.pageType,trackingCode:b,feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||""})})),!e.items||0===e.items.length)return null;const C=e.items.map(((t,i)=>(0,S.tZ)($e.Mi,{$textDirection:d,$margin:24,$pageSize:I,children:(0,S.tZ)(rr.Z,{item:t,position:i,carouselPosition:e.position,feedItemUuid:e.feedItemUuid,pageType:e.pageType,analyticsOverride:{impressionEventName:"feed_item_card_scrolled",tapEventName:"feed_item_card_tapped",payload:{...(0,me.zx)({diningMode:m,feedIndex:e.position,collectionIndex:i,feedItem:e.feedItem,trackingCode:t.tracking}),feedItemType:e.feedItem?.type}}})},i))).filter(Boolean),w=i(C,I),T={height:96,width:"96px",border:`1px solid ${p.colors.borderOpaque}`,borderRadius:"50%"};return(0,S.tZ)(Ee.Z,{analyticsLabel:e.analyticsLabel||"",numItems:C.length,position:e.position,pageType:e.pageType,carouselTitle:e.header?.title?.text||"",carouselLayoutType:Z,trackingCode:b,carouselUuid:e.feedItemUuid,storeUuid:e.storeUuid||"",ref:f,children:(0,S.tZ)("section",{children:(0,S.tZ)(bt.Z,{header:e.header,showPaginationButtons:C.length>4,onPageChange:l,backwardEnabled:!o,forwardEnabled:!n,endIconProps:T,onViewAllClick:()=>{y(),h("eats:catalog_items_carousel_cta_click",{label:e.analyticsLabel||"",numItems:C?C.length:0,carouselLayoutType:Z,carouselTitle:e.header?.title?.text||"",carouselPosition:e.position,pageType:e.pageType,trackingCode:b,feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||""})},children:(0,S.tZ)($e.im,{ref:t,$supportsScrollSnapping:s,$disabledVerticalScrolling:!0,children:w.map(((e,t,i)=>(0,S.tZ)($e.T3,{$pageMargin:24,...r(t,i.length),children:e},t)))})})})})},nr=e=>{const{containerRef:t,getPageChunks:i,getPageProps:a,isPreviousPageDisabled:r,isNextPageDisabled:o,handlePageChange:n,supportsScrollSnapping:l,textDirection:s}=(0,Le.Z)({scrollOffset:24}),d=(0,rt.d)(),[,u]=(0,c.hQ)(),p=(0,O.ZP)(),{onSeeAllClick:g}=(0,v.v)({seeAllTapEventName:"see_all_carousel_tap",payload:(0,me.vZ)({analyticsLabel:e.analyticsLabel,feedItemUuid:e.feedItemUuid,feedContext:e.pageType,diningMode:d})}),h="single-catalog-items-carousel",m=e.trackingCode?JSON.stringify(e.trackingCode):"";if(!e.items||0===e.items.length)return p("eats:empty_item_carousel_payload",{label:e.analyticsLabel||"",carouselLayoutType:h,carouselPosition:e.position,carouselTitle:e.header?.title?.text||"",pageType:e.pageType,trackingCode:m,feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||""}),null;const y=e.items.map(((t,i)=>(0,S.tZ)($e.Mi,{$textDirection:s,$margin:24,$pageSize:6,children:(0,S.tZ)(rr.Z,{item:t,position:i,carouselPosition:e.position,feedItemUuid:e.feedItemUuid,pageType:e.pageType,clampItemTitle:!0})},i))).filter(Boolean),f=i(y,6),Z={height:96,width:"96px",border:`1px solid ${u.colors.borderOpaque}`,borderRadius:"50%"};return(0,S.tZ)(Ee.Z,{analyticsLabel:e.analyticsLabel||"",numItems:y.length,position:e.position,pageType:e.pageType,carouselTitle:e.header?.title?.text||"",carouselLayoutType:h,trackingCode:m,carouselUuid:e.feedItemUuid,storeUuid:e.storeUuid||"",children:(0,S.tZ)("section",{children:(0,S.tZ)(bt.Z,{header:e.header,showPaginationButtons:y.length>6,onPageChange:n,backwardEnabled:!r,forwardEnabled:!o,endIconProps:Z,onViewAllClick:()=>{g(),p("eats:catalog_items_carousel_cta_click",{label:e.analyticsLabel||"",numItems:y?y.length:0,carouselLayoutType:h,carouselTitle:e.header?.title?.text||"",carouselPosition:e.position,pageType:e.pageType,trackingCode:m,feedItemUuid:e.feedItemUuid||"",storeUuid:e.storeUuid||""})},children:(0,S.tZ)($e.im,{ref:t,$supportsScrollSnapping:l,$disabledVerticalScrolling:!0,children:f.map(((e,t,i)=>(0,S.tZ)($e.T3,{$pageMargin:24,...a(t,i.length),children:e},t)))})})})})};var lr=i(69847);const sr=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,background:t.colors.backgroundSecondary,height:"240px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"16px"}})),dr=e=>{const{containerRef:t,getPageChunks:i,getPageProps:r,isPreviousPageDisabled:o,isNextPageDisabled:n,handlePageChange:l,supportsScrollSnapping:c,textDirection:u}=(0,Le.Z)({scrollOffset:24}),p=(0,O.ZP)(),{windowWidth:g}=(0,Fa.Z)(),h=(0,s.T)(),m="red-carpet",{sduiCarousel:{header:y}}=e,f=e.analyticsLabel,Z=(0,ja.Z)(),b=(0,M.qp)({...H.J.web_feed_refresh_grocery_carousel_action_url,defaultValue:""}),{impressionRef:x,onSeeAllClick:I}=(0,v.v)({impressionEventName:"feed_item_scrolled",seeAllTapEventName:"see_all_carousel_tap",payload:{...(0,me.GS)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem})}});b&&!Z&&y&&!y?.callToAction?.actionUrl&&(y.callToAction={actionUrl:b,text:h("carousel.see_all")});const[C,w]=a.useMemo((()=>{const t=e.sduiCarousel.items||[],i=t.map((e=>e.storeUuid)).filter(Boolean);return[t,i]}),[e.sduiCarousel.items]),T=C.length<4?C.length:g>1280?4:3,_=i(C.map(((t,i)=>(0,S.tZ)($e.Mi,{$textDirection:u,$margin:e.pageMargin??24,$pageSize:T,children:(0,S.tZ)(lr.Z,{size:C.length<3?"RED_CARPET_DESKTOP_HORIZONTAL":"RED_CARPET_DESKTOP",store:t,analyticsLabel:e.analyticsLabel,displaySecondaryImage:1===C.length,position:i})},i))).filter(Boolean),T);return(0,S.tZ)(Ee.Z,{analyticsLabel:f,entityUuids:w,carouselLayoutType:m,carouselUuid:e.feedItemUuid,ref:x,children:(0,S.tZ)("section",{children:(0,S.tZ)(bt.Z,{header:y,onPageChange:l,showPaginationButtons:C.length>T,backwardEnabled:!o,forwardEnabled:!n,onViewAllClick:()=>{I(),"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=f&&(I(),p("eats:vertical_feed_red_carpet_carousel_cta_click",{label:f,numItems:w?w.length:0,carouselLayoutType:m,entityUuids:w}))},children:0===C.length?(0,S.tZ)(sr,{children:(0,S.tZ)(d.v,{id:"bandwagon.no_restaurants"})}):(0,S.tZ)($e.im,{ref:t,$supportsScrollSnapping:c,children:_.map(((t,i,a)=>(0,S.tZ)($e.T3,{$pageMargin:e.pageMargin??24,...r(i,a.length),children:t},i)))})})})})};var cr=i(81726),ur=i(41107),pr=i(69287),gr=i(26348),hr=i(64282),mr=i(61127),yr=i(71389),fr=i(27145);const Zr=(0,c.zo)("div",{position:"relative",width:"100%"}),br=(0,c.w1)(Dt.Z,(e=>{let{$height:t}=e;return{width:"100%",position:"relative",height:`${t}px`,overflow:"hidden",borderRadius:"12px"}})),xr=(0,c.zo)("div",(e=>{let{$isInteractive:t}=e;return{position:"absolute",top:0,display:"flex",justifyContent:"space-between",width:"100%",padding:"12px 0",boxSizing:"border-box",...t?{}:{pointerEvents:"none"}}})),vr=(0,c.zo)("div",{display:"flex"}),Sr=(0,c.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingLeft:"8px",paddingRight:"8px"}),Ir=(0,c.w1)(fi.Ec,{webkitFilter:"brightness(0) invert(1)",filter:"brightness(0) invert(1)"}),Cr=e=>"LabelMedium"===e?8:12,wr=(0,c.zo)("div",(e=>{let{$typography:t}=e;return{marginTop:`${Cr(t)}px`,width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}})),Tr=(0,c.zo)("div",(e=>{let{$theme:t,$typography:i}=e;return{...t.typography[i],width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),_r=(0,c.w1)(Zi.Z,(e=>{let{$marginBottom:t}=e;return{display:"flex",overflow:"hidden",...t?{marginBottom:`${t}px`}:{}}}));const Lr=function(e){let{store:t,location:i,pageType:a,position:r,linkRef:o,showFavorite:n,titleTypography:l,heroImageHeight:s,heroImageSizes:d,trackingSource:c,analyticsLabel:u,marginBottom:p,useLazyLoadImage:g,divRef:h,feedItem:m,analyticsOverride:y}=e;const f=(0,Z.gm)(),b=JSON.stringify({metaInfo:{analyticsLabel:u}}),x=(0,bi.HX)(i,t.actionUrl),I=(0,rt.d)(),C=Boolean("PICKUP"!==I&&t.storeStateContext&&t.storeStateContext===xi.Xr.PICKUP),w=C&&t.callToAction?t.callToAction.actionUrl:"",T=C?"PICKUP":I,_=t.meta2?(t.meta||[]).concat(t.meta2):t.meta,L="cornershop"===(0,Kt.Z)(w||x),U=()=>(0,S.BX)(vr,{children:[(0,S.tZ)(A.IQ,{}),(0,S.tZ)(Ua.Z,{storeUuid:t.storeUuid||"",size:"small",shadow:(0,S.tZ)(Ua._,{$favoriteButtonSize:"small",$shadowSize:80,$topOffset:-8,$leftOffset:"rtl"===f?-8:4})}),(0,S.tZ)(A.Tr,{})]}),k=y??{tapEventName:"marketplace_selected",impressionEventName:"marketplace_scrolled",payload:{...(0,It.H1)({trackingCodeAnalyticsLabel:u,feed:{feedContext:a},store:(0,mt.R)(t)},r??-1),...(0,me.pt)({feedContext:a,feedIndex:r,feedStore:t,diningMode:I,feedItem:m})}},{impressionRef:E,onClick:$}=(0,v.v)(k);return(0,S.tZ)(_r,{ref:(0,Ct.Z)(E,o),storeUuid:t.storeUuid||"",storeUrl:w||x,storeTitle:t.title?.text||"",storeAd:t.storeAd,pageType:a,position:r,trackingSource:c,trackingCode:b,$marginBottom:p,partialStore:(0,Mt.oY)(t),analyticsLabel:u,diningMode:T,isLowCourier:C,offerMetadata:t.tracking?.storePayload?.offerMetadata,onClick:$,children:(0,S.BX)(Zr,{ref:h,children:[(0,S.BX)(br,{storeUuid:t.storeUuid||"",image:t.image,sizes:d,$height:s,useLazyLoad:g,children:[(0,S.BX)(xr,{$isInteractive:!t.imageOverlay,children:[(t.signposts||[]).length?(0,S.tZ)(S.HY,{children:(t.signposts||[]).slice(0,1).map(((e,t)=>(0,S.BX)(fi.yz,{$color:"#FFFFFF",$backgroundColor:e.backgroundColor?.color||e.textColor?.color||"#05A357",$direction:f,children:[e.iconUrl?(0,S.tZ)(Ir,{src:e.iconUrl}):null,e.text]},`signpost-${t}`)))}):(0,S.tZ)(A.sA,{}),!n||L||C||t.imageOverlay?(0,S.tZ)(A.Tr,{}):U()]}),t.imageOverlay?(0,S.BX)(S.HY,{children:[(0,S.tZ)(yi.ZP,{imageOverlay:t.imageOverlay,imageOverlayCallToAction:t.callToAction,shouldUseLowCourierSupply:C}),!n||L||C?null:(0,S.BX)(xr,{children:[(0,S.tZ)(A.sA,{}),U()]})]}):null]}),(0,S.BX)(Sr,{children:[(0,S.BX)(wr,{$typography:l,children:[(0,S.tZ)(Tr,{$typography:l,children:t.title?.text||""}),t.rating?(0,S.BX)(S.HY,{children:[(0,S.tZ)(A.Q3,{}),(0,S.tZ)(gi.Z,{rating:t.rating})]}):null]}),_?(0,S.tZ)(hi.Z,{meta:_}):null,t.endorsements?(0,S.tZ)(Si.Z,{endorsements:t.endorsements}):null]})]})})};var Ur=i(94024),kr=i.n(Ur),Er=i(8419),$r=i(7760);const Pr=(0,m.pZ)(i(81180)),Ar=(0,c.zo)("div",(()=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"326px"}))),zr=(0,c.zo)(ce.Z,(()=>({position:"absolute",top:"0",width:"100%",height:"100%"}))),Br=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundOverlayArt,position:"absolute",width:"100%",height:"100%",top:0,left:0}})),Rr=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBoldXSmall,color:t.colors.contentOnColorInverse}})),Dr=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentOnColorInverse}})),Or=(0,c.zo)("div",{display:"flex",justifyContent:"center"}),Mr=(0,c.zo)("button",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",padding:"8px 12px",height:"36px",borderRadius:t.borders.pillButtonBorderRadius,...(0,g.x)({$theme:t}),...t.typography.LabelSmall}})),Hr=(0,c.zo)("div",(e=>{let{$direction:t}=e;return{display:"flex",width:"25%",flexDirection:"column",alignItems:"flex-start",..."ltr"===t?{marginLeft:"32px"}:{marginRight:"32px"},position:"relative",zIndex:1}})),Nr=(0,c.zo)("div",(e=>{let{$direction:t}=e;return{width:"75%",overflow:"hidden",..."ltr"===t?{marginRight:"40px",marginLeft:"8px"}:{marginLeft:"40px",marginRight:"8px"}}})),Fr=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{padding:"4px 4px 8px 4px",maxWidth:"326px",background:t.colors.backgroundPrimary,boxShadow:t.shadows.carouselCard}})),Xr=(0,c.zo)("div",(e=>{let{$supportsScrollSnapping:t}=e;return{overflowX:"scroll",display:"flex",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},cursor:"pointer",...t?{scrollSnapType:"x mandatory"}:{}}}));function Wr(e){let{stores:t,carouselHeader:i,carouselBackground:n,analyticsLabel:l,position:s,feedItemUuid:d}=e;const c=(0,O.ZP)(),u=(0,Z.gm)(),{containerRef:p,getPageChunks:g,getPageProps:h,isPreviousPageDisabled:m,isNextPageDisabled:y,handlePageChange:f,supportsScrollSnapping:b,textDirection:x}=(0,Le.Z)({scrollOffset:24}),I=(0,rt.d)(),{onSeeAllClick:C}=(0,v.v)({seeAllTapEventName:"see_all_carousel_tap",payload:(0,me.vZ)({analyticsLabel:l,feedItemUuid:d,diningMode:I})}),{page:w,params:T}=(0,Er.x)(n.callToAction?.actionUrl||""),_=(0,r.k6)(),L=(0,o.TH)(),U=(0,Di.Z)(),{onScroll:k}=(0,$r.g)(),E=(0,a.useMemo)((()=>t.map((e=>e.storeUuid)).filter(Boolean)),[t]),$=t.map(((e,t)=>(0,S.tZ)($e.Mi,{$textDirection:x,$margin:24,$pageSize:3,children:(0,S.tZ)(Fr,{children:(0,S.tZ)(Lr,{store:e,location:L,showFavorite:!0,position:t,titleTypography:"LabelLarge",heroImageHeight:U,heroImageSizes:"25vw",analyticsLabel:l})})},t))).filter(Boolean),P=g($,3);return(0,S.tZ)(Ee.Z,{analyticsLabel:l,entityUuids:E,position:s,carouselLayoutType:"list-store",carouselUuid:d,children:(0,S.BX)(Ar,{children:[(0,S.tZ)(zr,{loading:"lazy",decoding:"async",src:kr()(n.imageUrl||Pr)}),(0,S.tZ)(Br,{}),(0,S.BX)(Hr,{$direction:u,children:[(0,S.tZ)(Ot.ZP,{$height:48}),(0,S.tZ)(Rr,{children:i.title?.text||""}),(0,S.tZ)(Dr,{children:i.subtitle?.text||""}),n.callToAction?(0,S.BX)(S.HY,{children:[(0,S.tZ)(Ot.ZP,{$height:16}),(0,S.tZ)(Or,{children:(0,S.tZ)(Mr,{onClick:()=>{C(),c("eats:background_image_carousel_cta_button_click"),"feed"===w&&_.push((0,de.dat)(L,{...T.diningMode?{diningMode:T.diningMode}:{}}))},children:n.callToAction.text||""})})]}):null]}),(0,S.tZ)(Nr,{$direction:u,children:(0,S.tZ)("section",{children:(0,S.tZ)(bt.Z,{header:i.callToAction?{callToAction:i.callToAction}:null,showPaginationButtons:$.length>3,onPageChange:f,backwardEnabled:!m,forwardEnabled:!y,onViewAllClick:()=>{c("eats:background_image_carousel_cta_text_click")},children:(0,S.tZ)(Xr,{ref:p,$supportsScrollSnapping:b,onScroll:k,children:P.map(((e,t,i)=>(0,S.tZ)($e.T3,{$pageMargin:24,...h(t,i.length),children:e},t)))})})})})]})})}var Vr=i(61453);const Gr=(0,c.zo)("div",(e=>{let{$supportsScrollSnapping:t}=e;return{overflowX:"scroll",display:"flex",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"},cursor:"pointer",...t?{scrollSnapType:"x mandatory"}:{}}})),jr=e=>{const{containerRef:t,getPageChunks:i,getPageProps:a,isPreviousPageDisabled:r,isNextPageDisabled:o,handlePageChange:n,supportsScrollSnapping:l,textDirection:s}=(0,Le.Z)({scrollOffset:24}),{impressionRef:d,onSeeAllClick:c}=(0,v.v)({impressionEventName:"feed_item_scrolled",seeAllTapEventName:"see_all_carousel_tap",payload:{...(0,me.GS)({feedContext:e.pageType,feedIndex:e.position,feedItem:e.feedItem}),feedItemType:"DISH_CAROUSEL"}}),u=e.items.map(((t,i)=>(0,S.tZ)($e.Mi,{$textDirection:s,$margin:24,$pageSize:6,children:(0,S.tZ)(Vr.Z,{item:t,heroImageHeight:e.heroImageHeight,$tagMargin:"14px",feedIndex:e.position,collectionIndex:i,feedItem:e.feedItem,feedItemType:"DISH_CAROUSEL"})},i))).filter(Boolean),p=i(u,6);return(0,S.tZ)(Ee.Z,{analyticsLabel:e.analyticsLabel||"",numItems:u.length,carouselUuid:e.feedItemUuid,ref:d,children:(0,S.tZ)("section",{children:(0,S.tZ)(bt.Z,{header:e.header,showPaginationButtons:u.length>6,onPageChange:n,backwardEnabled:!r,forwardEnabled:!o,onViewAllClick:c,children:(0,S.tZ)(Gr,{ref:t,$supportsScrollSnapping:l,children:p.map(((e,t,i)=>(0,S.tZ)($e.T3,{$pageMargin:24,...a(t,i.length),children:e},t)))})})})})};var Yr=i(20211);const Jr=(0,c.zo)("div",{paddingTop:"8px",paddingBottom:"16px"}),Kr=e=>{let{dishes:t,storeSlug:i}=e;const a=(0,o.TH)();return t.length?(0,S.tZ)(Jr,{children:t.map(((e,t)=>{const r=(0,bi.HX)(a,e.actionUrl);return(0,S.tZ)(Yr.Z,{dish:e,storeSlug:i,position:t+1,actionUrl:r},e.actionUrl?e.actionUrl:e.dishUuid)}))}):null};var Qr=i(1963);const qr=(0,c.w1)($e.T3,{flexWrap:"wrap",gap:"32px 0"}),eo=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,background:t.colors.backgroundSecondary,height:"240px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"16px"}})),to=e=>{const t=(0,o.TH)(),{containerRef:i,getPageChunks:r,getPageProps:n,isPreviousPageDisabled:l,isNextPageDisabled:s,handlePageChange:c,supportsScrollSnapping:u,textDirection:p}=(0,Le.Z)({scrollOffset:24}),g=(0,Di.Z)(),h=(0,rt.d)(),{onSeeAllClick:m}=(0,v.v)({seeAllTapEventName:"see_all_carousel_tap",payload:(0,me.vZ)({feedItemUuid:e.feedItemUuid,diningMode:h,feedContext:e.pageType,analyticsLabel:e.analyticsLabel})}),y=(0,O.ZP)(),f=e.carousel.header,Z=e.analyticsLabel,[b,x]=a.useMemo((()=>{const t=e.carousel.stores||[],i=t.map((e=>e.storeUuid)).filter(Boolean);return[t,i]}),[e.carousel.stores]),I=r(b.map(((i,a)=>(0,S.tZ)($e.Mi,{$textDirection:p,$margin:e.pageMargin??24,$ignoreMargin:Boolean(a%2),$pageSize:2,children:(0,S.tZ)(ki,{store:i,location:t,showFavorite:e.showFavorite,position:a,titleTypography:"LabelLarge",heroImageHeight:g,heroImageSizes:"25vw",analyticsLabel:e.analyticsLabel,seoContent:e.seoContent&&e.seoContent[i.storeUuid||""]})},a))),6),C=a.useCallback((()=>{"function"==typeof e.onViewAllClick&&e.onViewAllClick(),null!=Z&&(m(),y("eats:carousel_cta_click",{label:Z,numItems:x?x.length:0,carouselLayoutType:"regular-store",entityUuids:x,...e.customEventMetadata||{}}))}),[Z,y,m,e,x]);return(0,S.tZ)(Ee.Z,{analyticsLabel:Z,entityUuids:x,carouselLayoutType:"regular-store",carouselUuid:e.feedItemUuid,onImpression:()=>{},children:(0,S.tZ)("section",{children:(0,S.tZ)(bt.Z,{header:f,onPageChange:c,showPaginationButtons:b.length>4,backwardEnabled:!l,forwardEnabled:!s,analyticsLabel:Z,customEventMetadata:e.customEventMetadata,onViewAllClick:C,seoHeader:!0,children:0===b.length?(0,S.tZ)(eo,{children:(0,S.tZ)(d.v,{id:"bandwagon.no_restaurants"})}):(0,S.tZ)($e.im,{ref:i,$supportsScrollSnapping:u,children:I.map(((t,i,a)=>(0,S.tZ)(qr,{$pageMargin:e.pageMargin??24,...n(i,a.length),children:t},i)))})})})})};var io=i(37859);const ao=e=>{let{feedItemUuid:t,carousel:i,position:r}=e;const o=i.header,{containerRef:n,getPageChunks:l,getPageProps:s,isPreviousPageDisabled:d,isNextPageDisabled:c,handlePageChange:u,supportsScrollSnapping:p,textDirection:g}=(0,Le.Z)({scrollOffset:24}),h=(0,O.ZP)(),m=(0,Di.Z)(),y=(0,rt.d)(),[f,Z]=(0,a.useMemo)((()=>{const e=i.stores||[],t=e.map((e=>e.storeId)).filter(Boolean);return[e,t]}),[i.stores]),b=l(f.map(((e,t)=>(0,S.tZ)($e.Mi,{$textDirection:g,$margin:24,$pageSize:4,children:(0,S.tZ)(io.Z,{store:e,heroImageHeight:m,titleTypography:"LabelLarge",carouselPosition:r,storePosition:t})},t))).filter(Boolean),4),{onSeeAllClick:x}=(0,v.v)({seeAllTapEventName:"see_all_carousel_tap",payload:(0,me.vZ)({feedItemUuid:t,diningMode:y})});return(0,S.tZ)(Ee.Z,{analyticsLabel:"cornershop",entityUuids:Z,position:r,carouselUuid:t,children:(0,S.tZ)("section",{children:(0,S.tZ)(bt.Z,{header:o,onPageChange:u,showPaginationButtons:f.length>4,backwardEnabled:!d,forwardEnabled:!c,onViewAllClick:()=>{x(),h("eats:third_party_view_all_click",{carouselPosition:r,numStores:Z.length})},isExternalCTA:!0,children:(0,S.tZ)($e.im,{ref:n,$supportsScrollSnapping:p,children:b.map(((e,t,i)=>(0,S.tZ)($e.T3,{$pageMargin:24,...s(t,i.length),children:e},t)))})})})})};var ro=i(80222),oo=i(53988),no=i(81568),lo=i(85907),so=i(61304);var co=i(7978),uo=i(4864),po=i(6703);const go=function(e){let{storeUuid:t,standardItemsPayload:i,itemsPerPage:r,trackingCode:n}=e;const[l,s]=a.useState(!0),d=(0,o.TH)(),[c,u]=a.useState(!0),{cartCountSummary:p,cart:g,hasCartToLoad:h}=(0,uo.F7)(t),{syncItems:m,quantities:y}=(0,ia.v)((e=>e.quickAdd));a.useEffect((()=>{(!g.isLoading&&g.hasLoaded||!h)&&(u(!1),s(!1))}),[l,s,g.hasLoaded,g.isLoading,h]),a.useEffect((()=>{g.error&&s(!0)}),[g.error]);const{containerRef:f,getPageChunks:Z,getPageProps:b,supportsScrollSnapping:x,textDirection:v}=(0,Le.Z)({scrollOffset:St.zI}),I=i.catalogItems||[],C=i.itemStyleMetadata,w=Z(I.map(((e,i)=>{const a=e?.uuid||"",o=p[a]??0,s=y[a]??(0,po.bN)(),u=Boolean(l||m[a]),g=((e,t,i,a,r)=>e?(0,de.f_e)(e,{storeUuid:t,sectionUuid:i,subsectionUuid:a,itemUuid:r,showSeeDetailsCTA:!0},(0,lo.F)(so.b.GLOBAL_SEARCH)):"")(d,t,e?.sectionUuid||"",e?.subsectionUuid||"",a);return(0,S.tZ)($e.Mi,{$textDirection:v,$margin:St.zI,$pageSize:r,children:(0,S.tZ)(co.Z,{storeUuid:t,sectionUuid:e.sectionUuid||"",subsectionUuid:e?.subsectionUuid||"",item:e,catalogSectionType:"HORIZONTAL_GRID",itemStyle:C,surface:so.b.GLOBAL_SEARCH,isGrocery:!0,cartItemCount:o,showQuickViewEntryPoint:!1,isOpen:!0,quickAddCount:s,syncItemQuantity:u,quickAddDisabled:c,itemUrl:g,trackingCode:n,position:i})},i)})).filter(Boolean),r);return(0,S.tZ)($e.im,{ref:f,$supportsScrollSnapping:x,children:w.map(((e,t,i)=>(0,S.tZ)($e.T3,{$pageMargin:St.zI,...b(t,i.length),children:e},t)))})},ho=(0,c.zo)("div",{display:"flex",flexDirection:"column",overflow:"hidden"}),mo=(0,c.w1)(ue.hh,(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,textDecoration:"none",paddingRight:t.sizing.scale600}})),yo=(0,c.zo)("div",{display:"flex",alignItems:"center",justifyContent:"flex-end",whiteSpace:"nowrap"}),fo=(0,c.zo)("div",(e=>{let{$theme:t,$index:i}=e;return{...0!==i?{borderTop:`1px solid ${t.colors.borderOpaque}`,paddingTop:t.sizing.scale600}:{},display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",marginBottom:t.sizing.scale600}}));const Zo=function(e){let{store:t,analyticsLabel:i,feedItemUuid:a,standardItemsPayload:r,index:n,useLazyLoadImage:l,feedItem:s,pageType:c}=e;const u=(0,o.TH)(),{windowWidth:p}=(0,Fa.Z)(),g=(0,de.CiO)(u,["entryPoint"]),{userQuery:h}=(0,de.RAN)(u,["userQuery"]),m=t?.storeUuid||"",y=t.tracking?JSON.stringify(t.tracking):"",f=r.ctaMetadata,{isPreviousPageDisabled:Z,isNextPageDisabled:b,handlePageChange:x}=(0,Le.Z)({scrollOffset:St.zI}),v=p>1200?6:p>990?5:4,I=r.catalogItems||[],C=I.length>v||!1,w=I[0]?.sectionUuid||"",T=(0,bi.EK)(g,t.actionUrl||"",m,w,h),_=T||(0,bi.HX)(u,t.actionUrl);return(0,S.tZ)(ho,{children:(0,S.tZ)(Ee.Z,{numItems:I.length,carouselLayoutType:"mini-store-with-catalog-items-carousel",trackingCode:y,analyticsLabel:i,carouselUuid:a,children:(0,S.BX)("section",{children:[(0,S.BX)(fo,{$index:n,children:[(0,S.tZ)(no.Z,{store:t,useLazyLoadImage:l,customUrl:T,storeUrl:(0,bi.HX)(u,t.actionUrl),feedItem:s,position:n,pageType:c}),(0,S.BX)(yo,{children:[(0,S.tZ)(mo,{to:_,children:f?f.ctaLabel:(0,S.tZ)(d.v,{id:"shared.viewstore"})}),I.length>0?(0,S.tZ)(Ae.Z,{backwardEnabled:!Z&&C,forwardEnabled:!b&&C,onPageChange:x}):null]})]}),(0,S.tZ)(go,{standardItemsPayload:r,storeUuid:m,itemsPerPage:v,trackingCode:y})]})})})};var bo=i(76979);const xo=(0,c.w1)(g.Z,{width:"auto",margin:"40px auto"}),vo=(0,c.w1)(E.Z,{margin:"40px auto"}),So=(0,c.zo)("div",(()=>({display:"flex",justifyContent:"space-between",alignItems:"center"}))),Io=(0,c.zo)("div",(e=>{let{$isFeedRefresh:t}=e;return{...t?{paddingBottom:"20px"}:{}}})),Co=(0,c.zo)("div",(()=>({display:"inline-flex",flex:"0 0 auto",marginTop:"8px"}))),wo=(0,c.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayBoldXSmall,marginTop:"8px",display:"inline-block"}})),To=(0,c.zo)("div",(e=>{let{$isHomeFeed:t}=e;return{gridColumn:t?"2 / 4":"1 / 4"}})),_o=(0,c.zo)("div",{marginBottom:"-16px"}),Lo=e=>{const t=(0,r.k6)(),i=(0,o.TH)(),c=(0,O.ZP)(),g=(0,ja.Z)(),{shouldShowBanner:h}=(0,Mi.Z)("feed"),m=(0,s.T)()("loading"),{setA11yStatusMessage:y}=(0,a.useContext)(p.J),f=(0,hr._)();(0,a.useEffect)((()=>{f.remove("uev2.viewed-stores")}),[f]),(0,a.useEffect)((()=>{e.loadingNextPage&&y(m)}),[y,e.loadingNextPage,m]);const Z=(0,u.Z)(e.feedItems),b=(0,a.useRef)(null);(0,a.useEffect)((()=>{e.loadingNextPage||b.current&&b.current.focus()}),[e.loadingNextPage]);const x={storeTitleTypography:"LabelLarge",storeItemMetaTopRowPadding:"12px 0 0"},{showEuDisclaimer:v}=(0,pr.Z)();(0,a.useEffect)((()=>{v&&c("eats:eu_disclaimer_feed_impression",{hasBottomSheet:Boolean(e.bottomSheet)})}),[v,e.bottomSheet,c]),(0,gr.Z)();const{shouldShowSwitchToPickup:I,showSwitchToPickup:C}=(0,ur.Z)();(0,a.useEffect)((()=>{I&&e.serviceBottomSheet&&(C(e.serviceBottomSheet),c("eats:feed_low_courier_supply_bottom_sheet_inclusion"))}),[I,C,e.serviceBottomSheet,c]);const w=e.feedItems.some((e=>"EATER_MESSAGE_FEED"===e.type&&"INFEED_BANNER"===(0,zi.iZ)(e.eaterMessage))),T=(0,Di.Z)(),_=(0,N.Z)(),E=(0,M.ip)({...H.J.cs_other_entrypoint_xlb,defaultValue:!1}),$=(0,M.ip)({...H.J.web_feed_refresh_nv_carousel_redesign,defaultValue:!1}),P=(0,F.Z)("can_enable_cs_other_entrypoint_xlb"),{aisleCategory:A}=(0,cr.Z)(),z=_&&(!E||!P);(0,a.useEffect)((()=>{e.storesMap&&!(0,mr.Z)(e.storesMap)&&c("eats:legacy_feed_stores_map_payload")}),[c,e.storesMap]);const B=(0,a.useMemo)((()=>{for(const t of e.feedItems)if("CANONICAL_PRODUCT"===t.type)return!0;return!1}),[e.feedItems]),R=(0,a.useMemo)((()=>e.customNumberOfColumns?e.customNumberOfColumns:e.shouldDisplayStoreCardRedesign&&e.seoSearchEnabled?1:e.seoCardNewDesignEnabled||e.seoSearchEnabled?2:B?5:3),[e.shouldDisplayStoreCardRedesign,e.seoCardNewDesignEnabled,e.seoSearchEnabled,B,e.customNumberOfColumns]),D=(0,a.useMemo)((()=>e.feedItems.some((e=>"EMPTY_STATE"===e.type&&i.pathname.includes("/search")))),[e.feedItems,i.pathname]),X=(0,M.ip)({...H.J.web_feed_refresh_store_card,defaultValue:!1}),W=(0,Ri.Z)(),V=(0,M.ip)({...H.J.web_feed_refresh_page_margin,defaultValue:!1});return(0,S.BX)(S.HY,{children:[v?(0,S.BX)(S.HY,{children:[(0,S.tZ)(Ei.Z,{title:e.title,subtitle:e.subtitle,bottomSheet:e.bottomSheet,titleTypography:"DisplayBoldXSmall"}),(0,S.tZ)(Ot.ZP,{$height:24})]}):(0,S.tZ)(oo.Z,{title:e.title,subtitle:(0,yr.W)(e.subtitle),titleTypography:e.titleTypography??"DisplayBoldXSmall"}),h?(0,S.tZ)(Oi.Z,{pageType:"feed"}):null,(0,S.tZ)(U.ZP,{$gridRowGap:w||e.shouldDisplayStoreCardRedesign&&e.seoSearchEnabled?0:e.useFeedRefreshGap?nt.j_:e.gridRowGap,$gridColumGap:e.useFeedRefreshGap?nt.xz:24,$numColumns:R,$gridMediaTemplateColumns:e.gridMediaTemplateColumns,"data-test":"feed-desktop","data-testid":"feed-desktop",children:e.feedItems.map(((r,o)=>{const s=e.feedItems[o-1]?.type,d=s&&"STORE"===s,c=e.feedItems.length-1===o,u=o===Z?.length;switch(r.type){case"SHORTCUTS":{const e=""!==g;return(0,S.BX)(U.Ly,{children:[0===o?(0,S.tZ)(Ot.ZP,{$height:24}):(0,S.tZ)(_o,{}),(0,S.tZ)(se,{"data-testid":"desktop-shortcut",shortcuts:r.shortcuts,shortcutsMeta:r.analyticsLabel,alignment:e?"flex-start":"center"}),e||r.hideLineSeparator?null:(0,S.tZ)(k.Z,{$margin:"24px 0 0"})]},r.uuid)}case"REORDER_CAROUSEL":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(pi,{...r})},r.uuid);case"ANNOUNCEMENT":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(we,{item:r,feedIndex:o,pageType:e.pageType??"unknown"})},r.uuid);case"CANONICAL_PRODUCT":return(0,S.tZ)(ro.Z,{item:r.payload.canonicalProductPayload,pageType:e.pageType,location:i},r.uuid);case"SINGLE_CATALOG_ITEM":return(0,S.tZ)(rr.Z,{item:r.payload,position:o,feedItemUuid:r.uuid,pageType:e.pageType},r.uuid);case"CATALOG_ITEMS_CAROUSEL_PAYLOAD":return W&&$?(0,S.tZ)(U.Ly,{children:(0,S.tZ)(nr,{items:r.payload.items,header:r.payload.header,storeUuid:r.payload.storeUuid,position:o,trackingCode:r.payload.trackingCode,feedItemUuid:r.uuid,analyticsLabel:r.analyticsLabel,pageType:e.pageType})},r.uuid):(0,S.tZ)(U.Ly,{children:(0,S.tZ)(or,{items:r.payload.items,header:r.payload.header,storeUuid:r.payload.storeUuid,position:o,trackingCode:r.payload.trackingCode,feedItemUuid:r.uuid,analyticsLabel:r.analyticsLabel,pageType:e.pageType,feedItem:r})},r.uuid);case"REGULAR_STORE":{const t="actionUrl"in r.store&&"string"==typeof r.store.actionUrl&&"cornershop"===(0,Kt.Z)(r.store.actionUrl);if(z&&t)return null;if("LARGE_LAYOUT"===r.store.layoutType)return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(Ma,{store:r.store,position:o,analyticsLabel:r.analyticsLabel,items:[],pageType:e.pageType})},r.uuid);const l=X?Bi.Z:n.Z;return(0,S.tZ)(a.Fragment,{children:(0,S.tZ)(U.bL,{"data-testid":"store-card",children:e.seoCardNewDesignEnabled?(0,S.tZ)(ki,{store:r.store,location:i,linkRef:u?b:void 0,showFavorite:e.showFavorite,pageType:e.pageType,position:o,titleTypography:"LabelLarge",heroImageHeight:T,heroImageSizes:"25vw",analyticsLabel:r.analyticsLabel,seoContent:e.seoContent&&e.seoContent[r.store.storeUuid||""]}):(0,S.tZ)(Io,{$isFeedRefresh:W,children:(0,S.tZ)(l,{store:r.store,location:i,linkRef:u?b:void 0,showFavorite:e.showFavorite,pageType:e.pageType??"unknown",position:o,titleTypography:"LabelLarge",heroImageHeight:T,heroImageSizes:"25vw",analyticsLabel:r.analyticsLabel})})})},r.uuid)}case"FEATURED_STORES":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(bo.Z,{featuredStores:r.payload,feedItemUuid:r.uuid,customEventMetadata:{isEmptySearchState:D,position:String(o)},position:o,feedItem:r})},r.uuid);case"REGULAR_CAROUSEL":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(S.HY,{children:e.seoCardNewDesignEnabled?(0,S.BX)(S.HY,{children:[(0,S.tZ)(to,{carousel:r.carousel,showFavorite:e.showFavorite,feedItemUuid:r.uuid,analyticsLabel:r.analyticsLabel,seoContent:e.seoContent,customEventMetadata:{isEmptySearchState:D},pageMargin:V?nt.vj:null,position:o,pageType:e.pageType}),c?null:(0,S.tZ)(k.Z,{$margin:"32px 0 0"})]}):(0,S.tZ)(S.HY,{children:(0,S.tZ)(Qr.ZP,{carousel:r.carousel,carouselUuid:r.uuid,showFavorite:e.showFavorite,feedItemUuid:r.uuid,analyticsLabel:r.analyticsLabel,customEventMetadata:{isEmptySearchState:D},pageMargin:V?nt.vj:null,position:o,itemType:r.type,pageType:e.pageType,analyticsUuid:r.uuid,feedItem:r})})})},r.uuid);case"SDUI_STORE_CAROUSEL":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(dr,{feedItemUuid:r.uuid,analyticsLabel:r.analyticsLabel,sduiCarousel:r.payload,pageMargin:V?nt.vj:null,position:o,feedItem:r,pageType:e.pageType})},r.uuid);case"MINI_STORE_WITH_PREVIEW_CAROUSEL":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(Xa,{feedItemUuid:r.uuid,analyticsLabel:r.analyticsLabel,draftOrderCarousel:r.payload,feedItem:r})},r.uuid);case"QUICK_ADD_ITEMS_CAROUSEL":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(Ka,{items:r.payload.items,header:r.payload.header,footer:r.payload.footer,analyticsLabel:r.analyticsLabel,storeUuid:r.payload.storeUuid,isLeftNavHidden:e.isLeftNavHidden,position:o,pageType:e.pageType,feedItemUuid:r.uuid,hideNoFollow:r.hideNoFollow,feedItem:r})},r.uuid);case"THIRD_PARTY_STORE_CAROUSEL":return z?null:(0,S.tZ)(U.Ly,{children:(0,S.tZ)(ao,{carousel:r.carousel,feedItemUuid:r.uuid,position:o})},r.uuid);case"LIST_CAROUSEL":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(_t,{carousel:r.carousel,showFavorite:e.showFavorite,feedItemUuid:r.uuid,analyticsLabel:r.analyticsLabel,position:o,itemType:r.type,pageType:e.pageType,analyticsUuid:r.uuid,feedItem:r})},r.uuid);case"STORE":{const t=e.storesMap[r.uuid];return t?e.seoSearchEnabled?e.shouldDisplayStoreCardRedesign?(0,S.tZ)(U.bL,{children:(0,S.tZ)(di,{store:t,location:i,pageType:e.pageType,position:o,maxIndex:e.feedItems.length-1,titleTypography:"LabelMedium",heroImageHeight:T,heroImageSizes:"25vw",seoSearchEnabled:e.seoSearchEnabled,analyticsLabel:r.analyticsLabel,trackingCode:r.trackingCode,seoContent:e.seoContent&&e.seoContent[r.uuid||""]})},r.uuid):(0,S.tZ)(a.Fragment,{children:(0,S.tZ)(U.bL,{children:(0,S.tZ)($i.Z,{store:t,location:i,linkRef:u?b:void 0,pageType:e.pageType,position:o,titleTypography:"LabelLarge",heroImageHeight:T,heroImageSizes:"25vw",seoSearchEnabled:e.seoSearchEnabled,analyticsLabel:r.analyticsLabel,trackingCode:r.trackingCode,seoContent:e.seoContent&&e.seoContent[r.uuid||""]})})},r.uuid):(0,S.tZ)(a.Fragment,{children:(0,S.tZ)(U.bL,{children:(0,S.BX)(S.HY,{children:[(0,S.tZ)(l.Z,{store:t,heroImageHeight:T,favoriteButtonSize:"small",showFavorite:e.showFavorite,location:i,linkRef:u?b:void 0,trackingCode:r.trackingCode,pageType:e.pageType,position:o,styleOverrides:x,analyticsLabel:r.analyticsLabel,numDishes:(r.dishes||[]).slice(0,1).length}),(0,S.tZ)(Kr,{dishes:(r.dishes||[]).slice(0,1),storeSlug:t.slug})]})})},r.uuid):null}case"MINI_STORE":{const t="actionUrl"in r.store&&"string"==typeof r.store.actionUrl&&"cornershop"===(0,Kt.Z)(r.store.actionUrl);return z&&t?null:(0,S.tZ)(a.Fragment,{children:"SIMPLIFIED_LAYOUT"===r.store.layout?(0,S.tZ)(U.bL,{children:(0,S.tZ)(Qa.Z,{size:"DESKTOP_CIRCLE",store:r.store,analyticsLabel:r.analyticsLabel,showFavorite:e.showFavorite,pageType:e.pageType,position:o,feedItem:r})}):"REGULAR_CIRCLE_IMAGE_LAYOUT"===r.store.layout?(0,S.tZ)(U.bL,{children:(0,S.tZ)(yt.Z,{size:"DESKTOP_CIRCLE",store:r.store,analyticsLabel:r.analyticsLabel,pageType:e.pageType,feedItem:r})},r.uuid):(0,S.tZ)(U.bL,{children:(0,S.tZ)(Lr,{store:r.store,location:i,linkRef:u?b:void 0,showFavorite:e.showFavorite,pageType:e.pageType,position:o,titleTypography:"LabelLarge",heroImageHeight:T,heroImageSizes:"25vw",analyticsLabel:r.analyticsLabel,feedItem:r})},r.uuid)},r.uuid)}case"MINI_STORE_WITH_ITEMS":return r.miniStoreWithItems?.standardItemsPayload&&r.miniStoreWithItems?.store?(0,S.tZ)(U.Ly,{children:(0,S.tZ)(Zo,{store:r.miniStoreWithItems.store,standardItemsPayload:r.miniStoreWithItems.standardItemsPayload,analyticsLabel:r.analyticsLabel,feedItemUuid:r.uuid,index:o,feedItem:r,pageType:e.pageType})},r.uuid):""!==A?(0,S.tZ)(U.Ly,{children:(0,S.tZ)(ar,{store:r.miniStoreWithItems.store,items:r.miniStoreWithItems.items||[],analyticsLabel:r.analyticsLabel,feedItemUuid:r.uuid,feedItem:r,pageType:e.pageType,position:o})},r.uuid):(0,S.tZ)(U.Ly,{children:(0,S.tZ)(wa,{store:r.miniStoreWithItems.store,analyticsLabel:r.analyticsLabel,position:o,items:r.miniStoreWithItems.items||[],pageType:e.pageType})},r.uuid);case"REGULAR_STORE_WITH_ITEMS":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(Ma,{store:r.store,analyticsLabel:r.analyticsLabel,position:o,items:r.itemsV2||[],pageType:e.pageType})},r.uuid);case"STORE_CAROUSEL":return(0,S.BX)(U.Ly,{children:[d?(0,S.tZ)(k.Z,{$color:"backgroundPrimary",$margin:"0 0 16px"}):null,(0,S.tZ)(ui.ZP,{title:r.title,subtitle:r.subtitle,stores:r.stores,storesMap:e.storesMap,carouselId:r.carouselId,heroImageHeight:St.Vb,feedItemUuid:r.uuid,showFavorite:e.showFavorite,analyticsLabel:r.analyticsLabel,styleOverrides:x}),c?null:(0,S.tZ)(k.Z,{$color:"backgroundPrimary",$margin:"16px 0 0"})]},r.uuid);case"CUISINE_CAROUSEL":return(0,S.BX)(U.Ly,{children:[d||0===o&&1!==e.feedItems.length?(0,S.tZ)(k.Z,{$color:"backgroundPrimary",$margin:"0 0 16px"}):null,(0,S.tZ)(Ye,{items:r.items,viewAllLocation:r.url,analyticsLabel:r.analyticsLabel,feedItemUuid:r.uuid,customEventMetadata:{isEmptySearchState:D}}),c?null:(0,S.tZ)(k.Z,{$color:"backgroundPrimary",$margin:"16px 0 0"})]},r.uuid);case"ACTIONABLE_MESSAGE":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(it,{title:r.title,subtitle:r.subtitle,buttonText:r.buttonText,position:o,pageType:e.pageType,feedItem:r})},r.uuid);case"GIVEGET_CTA":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(L,{title:r.title,linkText:r.linkText})},r.uuid);case"SECTION":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(wo,{children:"string"==typeof r.title?r.title:r.title?.text})},r.uuid);case"SECTION_HEADER":{const i=()=>{r.trailingButtonAction?.openLinkPayload?.webUrl&&t.push(r.trailingButtonAction?.openLinkPayload?.webUrl)};return(0,S.tZ)(U.Ly,{children:(0,S.BX)(So,{children:[(0,S.tZ)(wo,{children:"string"==typeof r.title?r.title:r.title?.text}),e.shouldShowInlineSeeAllStoresButton&&r.trailingButton?(0,S.tZ)(Co,{children:(0,S.tZ)(Pi.Z,{viewModel:r.trailingButton,onClick:i})}):null]})},r.uuid)}case"EMPTY_STATE":return r.seoPageType?(0,S.tZ)(To,{children:(0,S.tZ)(fr.Z,{emptyState:r,pageType:r.seoPageType})},r.uuid):(0,S.tZ)(To,{$isHomeFeed:[nt.l2,nt.Rr].includes(r.uuid)||e.useFeedRefreshGap,children:(0,S.tZ)(ht,{emptyState:r})},r.uuid);case"ORDERS_NEAR_YOU_CAROUSEL":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(Rt,{title:r.title,subtitle:r.subtitle,stores:r.stores,isDaytime:r.isDaytime,backupImageUrl:r.backupImageUrl,analyticsLabel:r.analyticsLabel})},r.uuid);case"ITEM_CAROUSEL":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(jr,{header:r.header,items:r.items,analyticsLabel:r.analyticsLabel,heroImageHeight:T,feedItemUuid:r.uuid,position:o,feedItem:r,pageType:e.pageType})},r.uuid);case"LINE_SEPARATOR":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(k.Z,{$margin:r.margin})},r.uuid);case"BACKGROUND_IMAGE_CAROUSEL":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(Wr,{stores:r.stores,carouselHeader:r.carouselHeader,carouselBackground:r.carouselBackground,analyticsLabel:r.analyticsLabel,position:o,feedItemUuid:r.uuid})},r.uuid);case"EATER_MESSAGE_FEED":switch((0,zi.iZ)(r.eaterMessage)){case"BILLBOARD":return A?null:(0,S.tZ)(U.Ly,{children:(0,S.tZ)(Ai.Z,{eaterMessage:r.eaterMessage,feedIndex:o})},r.uuid);case"INFEED_BANNER":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(Lt.b,{$ignorePadding:!0,children:(0,S.tZ)(Ai.Z,{eaterMessage:r.eaterMessage,feedIndex:o})})},r.uuid);case"COLLECTION_CARD":case"AISLE_FEED_BILLBOARD":case"HOME_FEED_GR_PROMO":case"MANUAL_CAROUSEL":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(Ai.Z,{eaterMessage:r.eaterMessage,feedIndex:o})},r.uuid)}return null;case"DIVIDER":return(0,S.tZ)(U.Ly,{children:(0,S.tZ)(k.Z,{$margin:"4px 0 8px"})},r.uuid+o+"_divider");default:return null}}))}),e.shouldShowInlineSeeAllStoresButton?null:(0,S.BX)(S.HY,{children:[e.loadingNextPage?(0,S.tZ)(vo,{}):null,!e.loadingNextPage&&e.fetchNextPage?(0,S.tZ)(xo,{onClick:e.fetchNextPage,children:(0,S.tZ)(d.v,{id:"feed.showMore"})}):null]})]})};Lo.displayName="FeedDesktop";const Uo=Lo},24437:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var a=i(36151),r=i(71110),o=i(81149),n=i(91931),l=i(62091),s=i(24217),d=i(33535),c=i(33990);const u=(0,n.zo)("figure",(e=>{let{$theme:t,$height:i,$isCircle:a}=e;return{background:t.colors.backgroundSecondary,position:"relative",height:`${i}px`,margin:0,overflow:"hidden",...a?{borderRadius:t.borders.radiusFull,width:`${i}px`}:{}}})),p=(0,n.zo)(l.Z,{width:"100%",height:"100%",objectFit:"cover",border:"none"}),g=(0,n.zo)("div",{width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px"}),h=e=>{const t=(0,d.ZP)(),{useLazyLoad:n=!0}=e;let l;return a.useEffect((()=>{e.heroImageUrl||t("eats:feed_store_image_missing",{storeUuid:e.storeUuid})}),[t,e.heroImageUrl,e.storeUuid]),l=e.heroImageUrl?(0,c.tZ)(s.Z,{src:e.heroImageUrl,children:(0,c.tZ)(p,{src:e.heroImageUrl,alt:e.title,"aria-hidden":!0})}):(0,c.tZ)(p,{src:(0,r.pZ)(i(47749)),alt:e.title,"aria-hidden":!0}),n&&(l=(0,c.tZ)(o.ZP,{height:e.height,offset:300,style:{height:e.height},once:!0,children:l})),(0,c.BX)(u,{$height:e.height,$isCircle:e.isCircle,children:[l?(0,c.tZ)(g,{children:l}):null,e.children?e.children:null]})}},21519:(e,t,i)=>{"use strict";i.d(t,{Z:()=>T});var a=i(36151),r=i(15070),o=i(24437),n=i(89402),l=i(11208),s=i(91931),d=i(44504),c=i(94579),u=i(47986),p=i(33535),g=i(29194),h=i(24236),m=i(45288),y=i(91377),f=i(27759),Z=i(57045),b=i(92060),x=i(6479),v=i(33990);const S=(0,s.w1)(f.Z,{display:"flex",overflow:"hidden"}),I=(0,s.zo)("div",{position:"relative",zIndex:c.I_.base,width:"100%"}),C=(0,s.zo)("div",(e=>{let{$theme:t,$textDirection:i}=e;const a=t.typography.LabelSmallRegularButton,r=a.lineHeight,o="ltr"===i?{left:"0px"}:{right:"0px"},n=o.left?`0 ${r} ${r} 0 `:`${r} 0 0 ${r}`;return{...a,position:"absolute",background:t.colors.signpost,color:t.colors.onSignpost,padding:"4px 12px",boxShadow:"inset 0px 0px 1px rgba(0, 0, 0, 0.08)",zIndex:c.I_.surface,top:"12px",...o,borderRadius:n}})),w=(0,s.zo)("div",(e=>{let{$isInteractive:t}=e;return{position:"absolute",top:0,display:"flex",justifyContent:"flex-end",width:"100%",padding:"12px",boxSizing:"border-box",...t?{}:{pointerEvents:"none"}}})),T=(0,s.Le)(I,(e=>function(t){let{store:i,heroImageHeight:s,showFavorite:c,favoriteButtonSize:f,location:I,trackingCode:T,storeAd:_,trackingSource:L,pageType:U,position:k,styleOverrides:E,linkRef:$,divRef:P,useLazyLoadImage:A,analyticsLabel:z,numDishes:B}=t;const R=i.promotion?.promotionUuid,D=i.promotion?.text,O=i.storeUrl||(0,u.gfM)(I,{storeSlug:i.slug,storeUuid:i.uuid}),M=_?.adBadge,H=(0,p.ZP)(),N=(0,Z.Z)(O),{vertical:F,userQuery:X}=(0,u.RAN)(I,["vertical","userQuery"]),W=a.useRef(!1),{elementRef:V,isElementHidden:G}=(0,h.Z)({initialHidden:!0,waitTime:0,shouldListen:("search"===U||Boolean(_))&&!W.current}),j=(0,r.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),{adsViewableImpressionRef:Y}=(0,x.Z)({storeAd:_,adAttributes:{rank:k},shouldLogImpression:!0});a.useEffect((()=>{G||(W.current=!0,"search"===U&&H("eats:search_result_impression",{searchResult:{searchTerm:String(X),storeUuid:i.uuid,position:k||0,originSource:N},mvsMeta:{verticalList:j.map((e=>e.verticalType)).join(","),selectedVertical:F||b.g},numDishes:"item",dishCarousel:!1}))}),[H,G,k,i.uuid,X,N,j,F,U,B]);const J=(0,g.gm)(),K="rtl"===J?-8:8;return(0,v.tZ)(S,{ref:$,storeUuid:i.uuid||"",storeUrl:O,storeTitle:i.title||"",storeAd:_,pageType:U,position:k,trackingSource:L,trackingCode:T,partialStore:(0,m.vK)(i),analyticsLabel:z,numDishes:B,children:(0,v.BX)(e,{ref:(0,y.Z)(V,P,Y),children:[(0,v.BX)(o.Z,{storeUuid:i.uuid,heroImageUrl:i.heroImageUrl,title:i.title,height:s,useLazyLoad:A,children:[c?(0,v.tZ)(w,{$isInteractive:i.isOpen,children:(0,v.tZ)(l.Z,{storeUuid:i.uuid,size:f,shadow:(0,v.tZ)(l._,{$favoriteButtonSize:"small",$shadowSize:80,$topOffset:-8,$leftOffset:K})})}):null,i.isOpen&&D&&R?(0,v.tZ)(C,{$textDirection:J,children:D}):null,(0,v.tZ)(n.Z,{isOpen:i.isOpen,closedMessage:i.closedMessage})]}),(0,v.tZ)(d.Z,{title:i.title,storeUrl:O,deliveryFee:i.meta.deliveryFee,pickupDistance:i.meta.pickupDistance,etaRange:i.etaRange,priceBucket:i.meta.priceBucket,rating:i.rating,categories:i.meta.categories,endorsement:i.endorsement,storeAdBadge:M,styleOverrides:E,attributeBadgeList:i.attributeBadgeList})]})})}))},24557:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var a=i(60849),r=i(97763),o=i(47144),n=i(85218);function l(){let e=o.zi;const t=(0,a.rj)({...r.J.web_feed_refresh_desktop_store_hero_image_height,defaultValue:0});return(0,n.Z)()&&t&&(e=t),e}},8655:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var a=i(36151),r=i(91631),o=i(94813),n=i(15070),l=i(71576),s=i(33535),d=i(54669);const c=(e,t)=>{const{slugName:i,secondarySlugName:c}=(0,r.UO)(),{pathname:u}=(0,o.TH)(),p=(0,s.ZP)(),g=(0,d.Z)(),h=(0,a.useRef)(g),m={data:null,error:null,hasLoaded:!1,isLoading:!1},y=(0,n.v)((e=>e.seoFeed[u]||m)),f=!y.isLoading&&!y.hasLoaded&&!y.error||h.current!==g,Z=(0,l.Z)("getSeoFeedV1"),b=(0,a.useCallback)((function(){let{sortAndFilters:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Z({pathname:u,contextOverride:t,sortAndFilters:e})}),[Z,u,t]);return(0,a.useEffect)((()=>{p("eats:seo_feed",{seoFeed:{slugName:i,secondarySlugName:c,type:e,overrideElementLayoutType:t?.elementLayoutType,overrideCacheType:t?.cacheType}})}),[i,c,p,e,t]),(0,a.useEffect)((()=>{h.current=g})),{getSeoFeed:b,shouldGetSeoFeed:f,seoFeed:y}}},48510:(e,t,i)=>{"use strict";i.d(t,{C0:()=>h,Uh:()=>g,ZP:()=>m});var a=i(36151),r=i(15070),o=i(91631),n=i(32504),l=i(9829),s=i(47986),d=i(1257),c=i(14016),u=i(12040),p=i(94813);const g=e=>{let{options:t,type:i,label:a,selected:r=!1}=e;const o=(0,c.T)();if(r&&t)switch(i){case"priceRangeFilter":case"dietaryFilter":case"topEatsFilter":return(0,u.kE)(t);case"bookingFeeFilter":return o("shared.sortandfilters.maximum",{price:(0,u.Re)(t)});case"sort":case"groupSizeFilter":default:return a}return a},h=e=>{let{options:t,label:i,type:o}=e;const[n,l]=(0,a.useState)(),[s,d]=(0,a.useState)(),c=(0,a.useRef)(),u=(0,r.v)((e=>{let{device:t}=e;return t.isAndroid})),p=t.some((e=>e.active)),h=g({options:t,type:o,label:i,selected:p});return(0,a.useEffect)((()=>{u||n&&s&&(c.current||(c.current=n.offsetWidth-s.offsetWidth),n.style.width=s.offsetWidth+c.current+"px")}),[s,t,n,u]),{setPillElement:l,setLabelElement:d,text:h,hasActive:p}},m=()=>{const e=(0,p.TH)(),t=(0,o.k6)(),{cacheKey:i,feedArgs:{sortAndFilters:c=[]}}=(0,n.Z)(),g=(0,r.v)((e=>{let{feed:t}=e;return(0,l._z)(t,i)})),h=(0,d.Z)(g)?.sortAndFilters||[],[m,y]=(0,a.useState)(c);(0,a.useEffect)((()=>{y(c)}),[c]);const f=(0,u.sc)(h,m,c),Z=Boolean(c.length),b=c.reduce(((e,t)=>e+t.options.length),0),x=Boolean(m.length);let v=!1;return(g.isLoading||0===h.length)&&(v=!0),{filters:f,isLoading:g.isLoading,hasActiveFilters:Z,activeFiltersCount:b,hasStagedFilters:x,handleChange:function(i){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=m.filter((e=>e.uuid!==i.uuid)).concat([i]);y(r),a&&t.replace((0,s.zSE)(e,r))},clearAll:function(){let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y([]),i&&t.replace((0,s.zSE)(e,[]))},clearFilter:function(i){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=m.filter((e=>e.uuid!==i));y(r),a&&t.replace((0,s.zSE)(e,r))},goToLocationWithSortAndFilters:i=>{t.replace((0,s.zSE)(i||e,m))},show:!v}}},81180:(e,t,i)=>{e.exports=i.p+"feac636e6ad3305d.svg"},98742:(e,t,i)=>{e.exports=i.p+"004b44ece8a808e7.svg"},6990:(e,t,i)=>{e.exports=i.p+"2bb9bf351a4914b4.json"},97134:(e,t,i)=>{e.exports=i.p+"2bb9bf351a4914b4.json"}}]);