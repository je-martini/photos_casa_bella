"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[53099,54721],{__fusion__559:(e,t,i)=>{i.r(t),i.d(t,{default:()=>n});var r=i(36151),a=i(33990);const n=r.forwardRef((function(e,t){let{title:i="Arrow circular",titleId:r,size:n="1em",...o}=e;return(0,a.BX)("svg",{width:n,height:n,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":r,...o,children:[void 0===i?(0,a.tZ)("title",{id:r,children:"Arrow circular"}):i?(0,a.tZ)("title",{id:r,children:i}):null,(0,a.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.9 5H.5l3-3H11v7.5l-3 3V6.3C6.2 7.5 5 9.6 5 12c0 3.5 2.6 6.4 6 6.9v3c-5-.5-9-4.7-9-9.9 0-2.7 1.1-5.2 2.9-7ZM22 12c0 2.7-1.1 5.2-2.9 7h4.4l-3 3H13v-7.5l3-3v6.2c1.8-1.2 3-3.3 3-5.7 0-3.5-2.6-6.4-6-6.9v-3c5 .5 9 4.7 9 9.9Z",fill:"currentColor"})]})}))},90644:(e,t,i)=>{i.d(t,{p:()=>r});const r=Object.freeze({UNKNOWN:"UNKNOWN",SPACING_UNIT_0X:"SPACING_UNIT_0X",SPACING_UNIT_0_5X:"SPACING_UNIT_0_5X",SPACING_UNIT_1X:"SPACING_UNIT_1X",SPACING_UNIT_1_5X:"SPACING_UNIT_1_5X",SPACING_UNIT_2X:"SPACING_UNIT_2X",SPACING_UNIT_2_5X:"SPACING_UNIT_2_5X",SPACING_UNIT_3X:"SPACING_UNIT_3X",SPACING_UNIT_3_5X:"SPACING_UNIT_3_5X",SPACING_UNIT_4X:"SPACING_UNIT_4X",SPACING_UNIT_4_5X:"SPACING_UNIT_4_5X",SPACING_UNIT_5X:"SPACING_UNIT_5X",SPACING_UNIT_6X:"SPACING_UNIT_6X",SPACING_UNIT_7X:"SPACING_UNIT_7X",SPACING_UNIT_8X:"SPACING_UNIT_8X",SPACING_UNIT_9X:"SPACING_UNIT_9X",SPACING_UNIT_10X:"SPACING_UNIT_10X",SPACING_UNIT_11X:"SPACING_UNIT_11X",SPACING_UNIT_12X:"SPACING_UNIT_12X",SPACING_UNIT_13X:"SPACING_UNIT_13X"})},10400:(e,t,i)=>{i.d(t,{F8:()=>r,Yj:()=>n,oN:()=>a});const r=Object.freeze({UNKNOWN:"UNKNOWN",AVAILABLE:"AVAILABLE",LIKELY_UNAVAILABLE:"LIKELY_UNAVAILABLE",UNAVAILABLE:"UNAVAILABLE",PLACEHOLDER_1:"PLACEHOLDER_1",PLACEHOLDER_2:"PLACEHOLDER_2"}),a=(Object.freeze({GRID:"GRID",LIST:"LIST"}),Object.freeze({TOP_LEADING:"TOP_LEADING",TOP_TRAILING:"TOP_TRAILING",BOTTOM_LEADING:"BOTTOM_LEADING",BOTTOM_TRAILING:"BOTTOM_TRAILING"})),n=Object.freeze({UNKNOWN:"UNKNOWN",TOP_LEADING:"TOP_LEADING",TOP_TRAILING:"TOP_TRAILING",BOTTOM_LEADING:"BOTTOM_LEADING",BOTTOM_TRAILING:"BOTTOM_TRAILING"});Object.freeze({UNKNOWN:"UNKNOWN",IN_STORE_SEARCH:"IN_STORE_SEARCH",QUICK_ADD_ITEM_FEED_CAROUSEL:"QUICK_ADD_ITEM_FEED_CAROUSEL"}),Object.freeze({FIT:"FIT",CENTER_CROP:"CENTER_CROP"})},4868:(e,t,i)=>{i.d(t,{u:()=>r});const r=Object.freeze({UNKNOWN:"UNKNOWN",OVER_IMAGE_TOP_LEADING:"OVER_IMAGE_TOP_LEADING",OVER_IMAGE_TOP_TRAILING:"OVER_IMAGE_TOP_TRAILING",OVER_IMAGE_BOTTOM_LEADING:"OVER_IMAGE_BOTTOM_LEADING",OVER_IMAGE_BOTTOM_TRAILING:"OVER_IMAGE_BOTTOM_TRAILING",OFF_IMAGE_ABOVE_TEXT:"OFF_IMAGE_ABOVE_TEXT",OFF_IMAGE_BELOW_TEXT:"OFF_IMAGE_BELOW_TEXT"})},29217:(e,t,i)=>{i.d(t,{Ly:()=>s,ZP:()=>n,bL:()=>o});var r=i(91931),a=i(47091);const n=(0,r.zo)("div",(e=>{let{$gridRowGap:t=40,$gridColumGap:i=24,$numColumns:r=3,$gridMediaTemplateColumns:n}=e;return{display:"grid",gridGap:`${t}px ${i}px`,gridTemplateColumns:`repeat(${r}, 1fr)`,[a.k]:{display:"flex",flexWrap:"wrap",margin:"0 -12px"},"@media screen and (max-width: 1200px)":{gridTemplateColumns:`repeat(${n||r}, 1fr)`}}})),o=(0,r.zo)("div",{minWidth:0,[a.k]:{width:"calc(33% - 24px)",margin:"0px 12px 24px 12px"}}),s=(0,r.zo)("div",{minWidth:0,gridColumn:"1 / -1",[a.k]:{width:"100%",margin:"0 12px"}})},55117:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(36151),a=i(73518),n=i(33990);function o(e,t){return(0,n.tZ)(a.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.tZ)("path",{d:"M12 1C5.9 1 1 5.9 1 12s4.9 11 11 11 11-4.9 11-11S18.1 1 12 1zm1.5 18h-3v-8h3v8zM12 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})})}const s=r.forwardRef(o)},20487:(e,t,i)=>{i.d(t,{E:()=>c});var r=i(89407),a=i(2763),n=i(91931),o=i(14016),s=i("__fusion__674"),d=i("__fusion__1019"),u=i("__fusion__559"),l=i(33990);const c=e=>{let{consumerItemFulfillmentViewType:t,isMobile:i=!1}=e;const[,c]=(0,n.hQ)(),m=(0,o.T)();let p="",I=u.default;switch(t){case"IN_REVIEW":p=m("item.fulfillment_state.in_review"),I=u.default;break;case"REPLACED":p=m("item.fulfillment_state.replaced"),I=u.default;break;case"FOUND":p=m("item.fulfillment_state.found"),I=s.default;break;case"REFUNDED":p=m("item.fulfillment_state.refunded"),I=d.default;break;default:return null}return(0,l.tZ)(r.Z,{closeable:!1,size:a.NO.small,overrides:{Root:{style:e=>{let{$theme:t}=e;return{borderRadius:t.borders.tagBorderRadius,width:"fit-content",color:t.colors.contentPrimary,overflowY:"hidden",...i?{fontSize:t.sizing.scale500,marginLeft:"0px"}:{fontSize:t.sizing.scale550,padding:t.sizing.scale450}}}}},startEnhancer:()=>(0,l.tZ)(I,{color:c.colors.contentPrimary,size:c.sizing.scale400}),children:p})}},85907:(e,t,i)=>{i.d(t,{F:()=>n});var r=i(61304),a=i(22208);const n=e=>{switch(e){case r.b.PDP_CROSS_SELL:return a.x9.PDP_CROSS_SELL;case r.b.BUNDLE_CAROUSEL:return a.x9.BUNDLE_CAROUSEL;case r.b.BUNDLE_INTERSTITIAL:return a.x9.BUNDLE_INTERSTITIAL;case r.b.GLOBAL_SEARCH:return a.x9.GLOBAL_SEARCH;default:return a.x9.STORE}}},40416:(e,t,i)=>{i.d(t,{Z:()=>c});var r=i(36151),a=i(58984),n=i(15070),o=i(16638),s=i(75514),d=i(76150),u=i(34626),l=i(1058);function c(){const e=(0,a.I0)(),{user:t}=(0,u.Z)(),{openSidebarCart:i}=(0,d.Lb)(),{isEnabled:c,treatment:m}=(0,l.Z)(),p=(0,n.v)((e=>e.scrollRestore));return{restoreScroll:(0,r.useCallback)((()=>{if(p.shouldRestore&&(s.Z?.scrollTo({top:p.value}),e((0,o.PS)()),!t.data?.isLoggedIn&&c&&"cart_animation"===m)){const e=()=>{s.Z?.scrollY===p.value&&(s.Z.removeEventListener("scroll",e),setTimeout((()=>{i()}),500))};s.Z&&s.Z.addEventListener("scroll",e)}}),[p.shouldRestore,p.value,e,t.data?.isLoggedIn,i,c,m]),setRestoreScrollPosition:t=>{e((0,o.L7)(t))}}}},62938:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(69694),a=i(84272),n=i(47885);const o=()=>{const{isStorePrecheckoutBundlingEnabled:e}=(0,n.Z)(),{primaryBundledStoreUuid:t}=(0,a.Z)(),{draftOrder:i,cart:o}=(0,r.Z)(t);return{shouldShowBundleItemAddedFirstDialog:e&&t&&!(i&&o?.data?.items?.length)}}},29495:(e,t,i)=>{i.d(t,{Z:()=>Pe});var r=i(36151),a=i(43193),n=i(91931),o=i(6703),s=i(58984),d=i(15070),u=(i(37566),i(47986)),l=i(88671),c=i(64388),m=i(91631),p=i(33535),I=i(67476),f=(i(87444),i(66958)),g=i(44606),h=i(57597),y=(i(95768),i(69630)),A=i(94813),U=i(33990);(0,n.zo)("div",(e=>{let{$theme:t}=e;return{borderRadius:t.borders.pillButtonBorderRadius,border:`1px solid ${t.colors.buttonPrimaryText}`,boxShadow:t.shadows.floatingButton}}));var _=i(14016),b=i(78422),T=i(68093),C=i(34567),S=i(52909);const k=(0,n.zo)("div",(e=>{let{$theme:t,$closeAnimation:i,$isDark:r}=e;return{cursor:"auto",display:"flex",alignItems:"center",background:r?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary,border:`2px solid ${r?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius,position:"relative",top:"2px",animationDuration:"200ms",animationFillMode:"forwards",...i?{animationName:{from:{maxWidth:"200px"},to:{maxWidth:"40px"}}}:{animationName:{from:{maxWidth:"40px"},to:{maxWidth:"200px"}}},overflow:"hidden"}})),D=(0,n.zo)("div",(e=>{let{$theme:t,$size:i,$isDark:r}=e;return{..."small"===i?t.typography.LabelSmall:t.typography.LabelLarge,width:"max-content",paddingLeft:"small"===i?"2px":"16px",paddingRight:"small"===i?"2px":"16px",whiteSpace:"nowrap",textAlign:"center",color:r?t.colors.contentInversePrimary:t.colors.contentPrimary}})),v=(0,n.zo)("button",(e=>{let{$theme:t,$size:i,disabled:r,$isDark:a}=e;return{borderRadius:t.borders.pillButtonBorderRadius,color:a?t.colors.contentInversePrimary:t.colors.contentPrimary,background:a?t.colors.backgroundInversePrimary:t.colors.backgroundPrimary,alignItems:"center",boxSizing:"border-box",cursor:"pointer",display:"flex",justifyContent:"center",width:"small"===i?"34px":"36px",height:"small"===i?"34px":"36px",minHeight:""+("small"===i?"34px":"36px"),padding:0,margin:0,"@media (hover: hover)":{":hover":{background:a?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary}},":active":{background:a?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary},...r&&{color:t.colors.contentStateDisabled,cursor:"not-allowed",":disabled":{fill:t.colors.disabled,background:"transparent"},"@media (hover: hover)":{":hover":{background:a?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary}},":active":{background:a?t.colors.backgroundInverseSecondary:t.colors.backgroundSecondary}}}})),N=e=>{const t=(0,h.Z)({item:e.item,storeUuid:e.storeUuid,cartQuantity:e.quantity}),{themeId:i}=(0,S.aG)(),r=(0,f.jx)(e.item),a=(0,f.L5)(e.item),n=a.increment??1,o=null!=a.minimumQuantity?a.minimumQuantity:1;return(0,U.BX)(k,{$closeAnimation:e.closeAnimation,$isDark:"dark"===i,children:[(0,U.tZ)(v,{"data-test":"quick-add-minus",disabled:Boolean(e.isDisabled),onClick:()=>{e.updateQuantity(g.Tf.from(n).multiply(-1).toBaseDecimal())},$size:e.size,$isDark:"dark"===i,children:e.quantity<=o?(0,U.tZ)(b.Z,{name:"TrashCanFilled",size:"small"===e.size?16:20}):(0,U.tZ)(b.Z,{name:"MinusSmallFilled",size:"small"===e.size?16:20})}),r?(0,U.BX)(D,{$size:e.size,"data-test":"quick-add-quantity",$isDark:"dark"===i,children:[e.quantity," ",(0,f.YP)(e.item)]}):(0,U.tZ)(D,{$size:e.size,"data-test":"quick-add-quantity",$isDark:"dark"===i,children:e.quantity}),(0,U.tZ)(v,{$size:e.size,"data-test":"quick-add-plus",disabled:Boolean(e.isDisabled)||t()!==h.y.BELOW_LIMIT,onClick:()=>{e.updateQuantity(g.Tf.from(n).toBaseDecimal())},$isDark:"dark"===i,children:(0,U.tZ)(b.Z,{name:"PlusSmallFilled",size:"small"===e.size?16:20})})]})};var E=i(16797),L=i(13427),O=i(40964);const x=e=>{let{storeUUID:t,sectionUUID:i,subsectionUUID:a,item:n,quantity:d,decimalQuantity:l,updateQuantity:I,cartItemCount:_,closeAnimation:b,closeStepper:T,isDifferentStoreFromCart:C,isPerformingCartUpdate:S,addToCart:k,increment:D,decrement:v,quickAddCount:x,updateDecimalQuantity:R,debouncedQuickAddCount:P,quickAddSource:B,isLowAvailabilityItem:Z,sourceType:w,analytics:z,searchTerm:q,size:$}=e;const G=(0,m.k6)(),Q=(0,m.UO)(),F=(0,A.TH)(),M=(0,s.I0)(),W=(0,y.Z)(),V=(0,p.ZP)(),X=(0,u.li$)(F,{...(0,u.x9r)(Q),sectionUuid:i,itemUuid:n.uuid||""}),H=(0,L.Z)(),K=n?.catalogItemAnalyticsData?.catalogSectionItemPosition??-1,j=(0,r.useRef)((e=>{M((0,o.px)({storeUUID:t,item:n,quantity:e,sectionUUID:i,subsectionUUID:a})),G.push(X)})),Y=(0,r.useRef)({addToCart:k,increment:D,decrement:v,updateDecimalQuantity:R,isPerformingCartUpdate:S,debouncedQuantity:P.integer});Y.current={addToCart:k,increment:D,decrement:v,updateDecimalQuantity:R,isPerformingCartUpdate:S,debouncedQuantity:P.integer};const J=(0,h.Z)({item:n,storeUuid:t,cartQuantity:d}),ee=(0,r.useCallback)(((e,t)=>{"number"==typeof e?e>t?Y.current.increment(e-t):e<t&&Y.current.decrement(t-e):Y.current.updateDecimalQuantity(e)}),[Y]),te=(0,r.useRef)({quantity:d,decimalQuantity:l,cartItemCount:_});te.current={quantity:d,decimalQuantity:l,cartItemCount:_};const{store:ie}=(0,c.ZP)(t),re=ie.data?(0,O.E)(ie.data):void 0;(0,r.useEffect)((()=>{const e=j;return()=>{H&&!b&&te.current.quantity>0&&0===te.current.cartItemCount&&0===Y.current.debouncedQuantity||te.current.quantity!==te.current.cartItemCount&&Y.current.debouncedQuantity!==te.current.quantity&&(W&&C?(Y.current.addToCart({isStartingNewOrder:!1,eventSource:"quick_add",surfaceType:w,actionMeta:{isQuickAdd:!0,quickAddSource:B},itemPosition:K}),M((0,o.OA)())):C?C&&e.current(te.current.quantity):ee(te.current.decimalQuantity,te.current.cartItemCount))}}),[ee,C,W,j,M,B,H,b,w,K]),(0,r.useEffect)((()=>{if(_!==P.integer&&(!Y.current.isPerformingCartUpdate||0!==_))return 0!==_?ee(P.decimal,_):void(b||(Y.current.addToCart({isStartingNewOrder:!1,eventSource:"quick_add",surfaceType:w,actionMeta:{isQuickAdd:!0,quickAddSource:B},itemPosition:K}),M((0,o.OA)())))}),[C,_,ee,n,W,b,P,M,B,w,K]);const ae=(0,f.L5)(n),ne=(0,r.useCallback)((e=>{const r=g.Tf.from(e).toFloat();let o="number"==typeof e?x.integer+e:g.Tf.from(x.decimal).add(e).toBaseDecimal();if("number"!=typeof o&&ae.minPermitted&&g.Tf.from(o).isLt(ae.minPermitted)&&(o=g.Tf.from(0).toBaseDecimal()),r>0&&J({increment:r,showSnackbarWarning:!0})===h.y.ABOVE_LIMIT)return;I(n.uuid||"",o);const s=r>0?"increment":"decrement";if(V("eats:quick_add_button_tap",{verticalType:re,quickAddOperation:{storeUuid:t,itemUuid:n.uuid||"",previousQuantity:d,updatedQuantity:d+r,operationType:s,searchTerm:q||"",lowAvailabilityItemUuid:Z&&n?.uuid||"",catalogSectionUuid:i,sectionUuid:i,subsectionUuid:a,...w?{sourceType:w}:{},...z?.catalogSection?{catalogSectionAnalyticsData:z.catalogSection}:{}},analyticsLabel:"analyticsLabel"in n&&n.analyticsLabel?n.analyticsLabel:void 0}),r>0&&"itemAd"in n){const e=n;V("ads:ads_click",{adsAnalyticsEvent:{adEventType:E.J.CLICK,adImpressionUUID:e.itemAd?.impressionId||"",adData:e.itemAd?.adData||"",bidderUUID:t}})}("number"==typeof o?o<=0:o?.base<=0)&&T()}),[re,x.integer,x.decimal,ae.minPermitted,J,I,n,V,t,d,q,Z,i,a,w,z?.catalogSection,T]);return(0,U.tZ)(N,{item:n,storeUuid:t,quantity:d,closeAnimation:b,updateQuantity:ne,size:$})};var R=i(53213),P=i(10400),B=i(70247),Z=i(53176),w=i(33967),z=i(32830),q=i(49723),$=i(79640);var G=i(62938),Q=i(11189),F=i(54669);const M=(0,n.zo)("div",(e=>{let{$theme:t,$isOpen:i}=e;return{border:i?"none":`1px solid ${t.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius}})),W=(0,n.zo)("div",(e=>{let{$theme:t,$size:i}=e;return{..."small"===i?t.typography.LabelSmall:t.typography.LabelLarge,color:t.colors.quickAddButtonColor}})),V=(0,n.w1)(C.Z,(e=>{let{$theme:t,$size:i}=e;return{height:"small"===i?"32px":"36px",minWidth:"small"===i?"32px":"36px",minHeight:0,padding:"2px 4px",background:t.colors.quickAddButtonBackground,color:t.colors.quickAddButtonColor,":hover":{background:t.colors.quickAddButtonBackgroundHover},":active":{background:t.colors.quickAddButtonBackgroundActive}}})),X=e=>{let{item:t,subsectionUUID:i,storeUUID:n,sectionUUID:h,cartItemCount:C,cartItemDecimalCount:S,syncItemQuantity:k,quickAddCount:D,disabled:v,quickAddSource:N,isInteractionEnabled:E=!0,itemAvailabilityState:O,sourceType:X,storeSlug:H="",analytics:K,onClickEvent:j,searchTerm:Y,size:J,resultIndex:ee}=e;const te=(0,s.I0)(),ie=D.integer,[re,ae]=(0,r.useState)(!1),ne=(0,_.T)(),[oe,se]=a.useState(!1),de=a.useRef(null),{store:ue}=(0,c.ZP)(n,{cacheOnly:!0}),le=(0,A.TH)(),ce=(0,A.UO)(),me=(0,l.k)(),pe=(0,m.k6)(),Ie=(0,p.ZP)(),{canEditGroupOrderCart:fe}=(0,I.Z)(n),ge=(0,f.ne)(t),{itemQueue:he}=(0,d.v)((e=>e.quickAdd)),{draftOrder:ye}=(0,B.Dz)(),Ae=ye?.storeUuid,Ue=(0,y.Z)(),{storeSlug:_e}=(0,u.WxO)(ce),{shouldShowBundleItemAddedFirstDialog:be}=(0,G.Z)(),Te=(0,L.Z)(),Ce=(0,F.Z)(),Se=(0,u.yz4)({location:le,args:{sectionUuid:h,subsectionUuid:i,itemUuid:t.uuid||"",storeUuid:n||"",storeSlug:H||_e||""}}),ke=(0,r.useCallback)((()=>{ae(!0),setTimeout((()=>{se(!1),ae(!1)}),200)}),[]);(0,R.Z)(de,(()=>{oe&&ke()}),!0);const De=(0,r.useCallback)(((e,t,i)=>{const r=t?.meta?.type||t?.meta?.body?.code;if(t&&Ie("eats:store_quick_add_error",{storeUuid:n,error:t}),"DRAFT_ORDER_VALIDATION_ERROR"===r||"CREATE_DRAFT_ORDER_VALIDATION_ERROR"===r||"ORDER_ALERT_ERROR"===r)return me(!1,t,!1,ue)}),[me,Ie,ue,n]),{increment:ve,decrement:Ne,updateDecimalQuantity:Ee,addToCart:Le,isDifferentStoreFromCart:Oe,serverCart:xe}=(e=>{let{storeUuid:t,item:i,quantity:a,sectionUuid:n,subsectionUuid:d,onAddedToCart:u,decimalQuantity:l,quickAddSource:m,analytics:p,resultIndex:I,sourceType:f}=e;const{store:g}=(0,c.ZP)(t,{cacheOnly:!0}),h=(0,w.Z)(!0),{serverCart:y}=(0,B.iQ)(),A=(0,s.I0)(),U=y.data?.groupedItems,{outOfItemAction:_}=(0,q.Z)(),b=(0,r.useMemo)((()=>(((U||[]).find((e=>e.isCurrentUser))||{}).items||[]).filter((e=>e.uuid===i.uuid))),[U,i.uuid]),T=(0,r.useMemo)((()=>(0,z.Z)(b.map((e=>{let{quantity:t}=e;return t})))),[b]),C=(0,$.iu)(i),S={error:null,hasLoaded:!0,isLoading:!1,data:{price:Number(i.price),title:String(i.title),uuid:i.uuid||"",hasCustomizations:!1,customizationsList:[],imageUrl:String(i.imageUrl),imageWatermarkContent:null,images:null,nutritionalInfo:null,suspendReason:null,suspendUntil:0,itemPromotion:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},rules:null,sectionUuid:n,subsectionUuid:d,itemDescription:C??"",purchaseInfo:i.purchaseInfo}},k="itemAd"in i?i.itemAd:null,{addToCart:D}=(0,Z.Z)({store:g,menuItem:S,selectedCustomizations:{},quantity:a,specialInstructions:"",outOfItemAction:_,onAddedToCart:u,decimalQuantity:l,itemAd:k,analytics:{catalogSection:p?.catalogSection},resultIndex:I,sourceType:f}),v=Boolean(y?.hasLoaded&&g.hasLoaded&&y.data?.items?.length&&y?.data?.storeUuid!==g?.data?.uuid),N=(e,t)=>{t?h(t,e,{isQuickAdd:!0},f):D({isStartingNewOrder:v,eventSource:"quick_add",actionMeta:{isQuickAdd:!0,quickAddSource:m}}),A((0,o.OA)())},E=(0,r.useMemo)((()=>b.sort(((e,t)=>new Date(t.createdTimestamp??0)-new Date(e.createdTimestamp??0)))),[b]);return{addToCart:D,increment:e=>{const t=E[0];N(e+(t?.quantity||0),t?.shoppingCartItemUuid)},decrement:e=>{let t=e;for(let e=0;e<E.length;e++){const i=E[e];if(i){if(0===t)return;if(i.quantity>=t){N(i.quantity-t,i.shoppingCartItemUuid);break}t-=i.quantity,N(0,i.shoppingCartItemUuid)}}},updateDecimalQuantity:e=>{const t=E[0];e.base<=0?N(0,t?.shoppingCartItemUuid):N(e,t?.shoppingCartItemUuid)},cartItemMatch:b,cartItemQuantity:T,serverCart:y,isDifferentStoreFromCart:v}})({storeUuid:n,item:t,quantity:ie,sectionUuid:h,subsectionUuid:i,onAddedToCart:De,decimalQuantity:D.decimal,quickAddSource:N,analytics:K,resultIndex:ee,sourceType:X});(0,r.useEffect)((()=>{const e=g.Tf.maybeFrom(S)?.toFloat();(Te?ge?k&&e!==ie:k&&C!==ie:k&&C!==ie&&(!ge||S))&&te((0,o.$R)(n,t.uuid||"",S||C))}),[t,ge,S,k,C,t.uuid,te,ie,n,Te]);const Re=(0,u.li$)(le,{sectionUuid:h,subsectionUuid:i,itemUuid:t.uuid||"",storeUuid:n||"",storeSlug:H||_e||""}),Pe=(0,T.Z)(D,1e3),Be=O===P.F8?.LIKELY_UNAVAILABLE;if(!fe)return null;return(0,U.tZ)(M,{onClick:e=>{if((!Ce||t.hasCustomizations||!t?.quickAddConfig?.isInteractionEnabled)&&0===ie)return;if(!E)return;if(e.preventDefault(),e.stopPropagation(),v)return;const r=(0,f.L5)(t),a=r.defaultDecimal||g.Tf.from(1).updateExponent(r.increment?.exponent||0).toBaseDecimal();return be?pe.push((0,Q.p9)(le)):Oe&&!Ue?(te((0,o.px)({storeUUID:n,item:t,quantity:a,sectionUUID:h,subsectionUUID:i})),pe.push(Re)):Ae!==n&&Boolean(he.length)&&he[0]!==t.uuid?pe.push(Se):Ae===n||he.length||!xe.isLoading||oe?(se(!0),void(0===ie&&(te((0,o.$R)(n,t.uuid||"",a)),te((0,o.O7)(t.uuid))))):pe.push(Se)},ref:de,$isOpen:oe,children:oe?(0,U.tZ)(x,{storeUUID:n,sectionUUID:h,subsectionUUID:i,item:t,quantity:ie,updateQuantity:(e,t)=>{te((0,o.$R)(n,e,t))},cartItemCount:C,closeAnimation:re,closeStepper:ke,isDifferentStoreFromCart:Oe,isPerformingCartUpdate:xe.isLoading,addToCart:Le,increment:ve,decrement:Ne,quickAddCount:D,decimalQuantity:D.decimal,updateDecimalQuantity:Ee,debouncedQuickAddCount:Pe,quickAddSource:N,isLowAvailabilityItem:Be,sourceType:X,analytics:K,searchTerm:Y,size:J}):(0,U.tZ)(V,{"data-testid":"quick-add-button",disabled:v,"aria-label":ne("quick_add"),radius:"pillButtonBorderRadius",onClick:()=>{j&&j()},$size:J,children:ie>0?ge?(0,U.BX)(W,{$size:J,children:[ie," ",(0,f.YP)(t)]}):(0,U.tZ)(W,{$size:J,children:ie}):(0,U.tZ)(b.Z,{name:"PlusSmallFilled",size:"small"===J?16:20})})})},H=a.memo(X);var K=i(39463),j=i(49946);const Y=(0,n.zo)("div",(e=>{let{$theme:t,$closeAnimation:i}=e;return{cursor:"auto",display:"flex",alignItems:"center",background:t.colors.quickAddButtonBackground,border:`2px solid ${t.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius,position:"relative",top:"2px",animationDuration:"200ms",animationFillMode:"forwards",...i?{animationName:{from:{maxWidth:"200px"},to:{maxWidth:"40px"}}}:{animationName:{from:{maxWidth:"40px"},to:{maxWidth:"200px"}}},overflow:"hidden"}})),J=(0,n.zo)("div",(e=>{let{$theme:t,$size:i}=e;return{..."small"===i?t.typography.LabelSmall:t.typography.LabelLarge,width:"max-content",paddingLeft:"small"===i?"2px":"16px",paddingRight:"small"===i?"2px":"16px",whiteSpace:"nowrap",textAlign:"center",color:t.colors.quickAddButtonColor}})),ee=(0,n.zo)("button",(e=>{let{$theme:t,$size:i,disabled:r}=e;return{borderRadius:t.borders.pillButtonBorderRadius,color:t.colors.quickAddButtonColor,background:t.colors.quickAddButtonBackground,alignItems:"center",boxSizing:"border-box",cursor:"pointer",display:"flex",justifyContent:"center",width:"small"===i?"34px":"36px",height:"small"===i?"34px":"36px",minHeight:""+("small"===i?"34px":"36px"),padding:0,margin:0,"@media (hover: hover)":{":hover":{background:t.colors.quickAddButtonBackgroundHover}},":active":{background:t.colors.quickAddButtonBackgroundActive},...r&&{color:t.colors.contentStateDisabled,cursor:"not-allowed",":disabled":{fill:t.colors.disabled,background:"transparent"},"@media (hover: hover)":{":hover":{background:t.colors.quickAddButtonBackgroundHover}},":active":{background:t.colors.quickAddButtonBackgroundActive}}}})),te=e=>{const{onQuantityUpdated:t}=e,i=e.quantity.minQuantity,a=e.quantity.step,n=e.quantity.maxQuantity,o=e.quantity.currentQuantity,s=g.Tf.from(o).toE5(),d=(0,r.useCallback)((e=>{e.stopPropagation(),e.preventDefault();const i=s.add(a).toFloat(),r=g.Tf.from(i).toBaseDecimal();t(r)}),[s,a,t]),u=(0,r.useCallback)((e=>{e.stopPropagation(),e.preventDefault();const r=s.subtract(a);if(r.isLt(i))t({base:0,exponent:0});else{const e=r.toFloat(),i=g.Tf.from(e).toBaseDecimal();t(i)}}),[s,a,i,t]);return(0,U.BX)(Y,{$closeAnimation:e.closeAnimation,children:[(0,U.tZ)(ee,{"data-test":"quick-add-minus",disabled:Boolean(e.isDisabled)||s.isLt(i),onClick:u,$size:e.size,children:s.isLte(i)?(0,U.tZ)(b.Z,{name:"TrashCanFilled",size:"small"===e.size?16:20}):(0,U.tZ)(b.Z,{name:"MinusSmallFilled",size:"small"===e.size?16:20})}),(0,U.BX)(J,{$size:e.size,"data-test":"quick-add-quantity",children:[s.toFloat()," ",e.quantity.suffix??""]}),(0,U.tZ)(ee,{$size:e.size,"data-test":"quick-add-plus",disabled:Boolean(e.isDisabled)||s.isGte(n),onClick:d,children:(0,U.tZ)(b.Z,{name:"PlusSmallFilled",size:"small"===e.size?16:20})})]})},ie=(0,r.memo)(te);var re=i(38777),ae=i(74057),ne=i(24316),oe=i(92005),se=i(87954),de=i(17615),ue=i(24934),le=i(85427),ce=i(55089),me=i(50818),pe=i(97375),Ie=i(92431),fe=i(87696),ge=i(17941),he=i(44997),ye=i(6264),Ae=i(78227),Ue=i(3695),_e=i("__fusion__692"),be=i(20196),Te=i(83059),Ce=i(55421),Se=i(37010),ke=i(72439),De=i(64986),ve=i(19910);const Ne=(0,n.zo)("div",(e=>{let{$theme:t,$isOpen:i}=e;return{border:i?"none":`1px solid ${t.colors.quickAddButtonBorderColor}`,boxShadow:"0px 2px 12px rgba(0, 0, 0, 0.12)",borderRadius:t.borders.pillButtonBorderRadius}})),Ee=(0,n.zo)("div",(e=>{let{$theme:t,$size:i}=e;return{..."small"===i?t.typography.LabelSmall:t.typography.LabelLarge,color:t.colors.quickAddButtonColor}})),Le=(0,n.w1)(C.Z,(e=>{let{$theme:t,$size:i}=e;return{height:"small"===i?"32px":"36px",minWidth:"small"===i?"32px":"36px",minHeight:0,padding:"2px 4px",background:t.colors.quickAddButtonBackground,color:t.colors.quickAddButtonColor,":hover":{background:t.colors.quickAddButtonBackgroundHover},":active":{background:t.colors.quickAddButtonBackgroundActive}}}));function Oe(e){let{storeId:t,isDisabled:i,size:n,storeItem:o,sectionUUID:s,subsectionUUID:d,onQuickAddClicked:l,sourceType:m,resultIndex:I,searchTerm:f,analytics:h,itemQuantityInCart:y,onProductQuantityUpdated:T,actionUrl:C}=e;const S=(0,p.ZP)(),[k,D]=(0,r.useState)(!1),v=(0,_.T)(),[N,L]=a.useState(!1),x=a.useRef(null),B=(0,A.TH)(),Z=(0,r.useCallback)((()=>{D(!0),setTimeout((()=>{L(!1),D(!1)}),200)}),[]);(0,R.Z)(x,(()=>{N&&Z()}),!0);const w=(0,F.Z)(),z=!(0,$.l2)(w),G=o.uuid??"",Q=o.purchaseInfo?.purchaseOptions?.[0],M=(0,r.useMemo)((()=>(0,Ae.Z)(Q,y)),[y,Q]),{...W}=(0,re.W)(),{deliveryTime:V,hasActiveDraftOrderMetadata:X}=(0,ae.Z)(t),{isInMulticart:H}=(0,ne.Z)(),K=(0,oe.Z)(),{handledHighCapacityOrderIntent:j}=(0,se.Z)(),{store:Y}=(0,c.ZP)(t,{cacheOnly:!0}),J=(0,r.useMemo)((()=>(0,me.TG)(Y.data||void 0)),[Y.data]),ee=j?.hhcOrderSize||(0,de.vD)(Y.data?.groupOrderSizes||void 0)?.hhcOrderSize,{deliveryInstructions:te}=(0,ue.pK)(),ce=te.data?.selectedInstruction?.interactionType||te.data?.preferredInteractionType||le.$$.interactionType,{outOfItemAction:ge}=(0,q.Z)(),he=H&&!X,ye=o.hasCustomizations,Ue=Y.data?(0,O.E)(Y.data):void 0,_e=(0,Ie.Z)(),be=(0,fe.PJ)(_e),{storeCatalogSections:Te,entryPoint:Ce,originalCatalogSectionUuid:Se,primaryDraftOrderUUID:De}=(0,u.RAN)(B,["storeCatalogSections","entryPoint","originalCatalogSectionUuid","primaryDraftOrderUUID"]),ve=()=>{if(Y.data?.fulfillmentIssueOptions&&ge)return{type:ge,itemSubstitutes:[]};if(Y.data?.fulfillmentIssueOptions){const e=Y.data.fulfillmentIssueOptions?.resolutionActions,t=e?.find((e=>e.isDefault));if(t&&null!==t.action)return t?.action}},Oe=(0,r.useCallback)((e=>{const i=g.Tf.from(M.currentQuantity),r=g.Tf.from(e).subtract(i).isGt(0)?"increment":"decrement",a="itemAvailabilityState"in o&&o.itemAvailabilityState===P.F8.LIKELY_UNAVAILABLE;S("eats:quick_add_button_tap",{isNewCartAbstraction:!0,verticalType:Ue,quickAddOperation:{storeUuid:t,itemUuid:G,previousQuantity:i.toFloat(),updatedQuantity:g.Tf.from(e).toFloat(),operationType:r,searchTerm:f||"",lowAvailabilityItemUuid:a?G:"",catalogSectionUuid:s,sectionUuid:s,subsectionUuid:d,...m?{sourceType:m}:{},...h?.catalogSection?{catalogSectionAnalyticsData:h.catalogSection}:{}},analyticsLabel:"analyticsLabel"in o&&o.analyticsLabel?o.analyticsLabel:void 0}),"increment"===r&&"itemAd"in o&&S("ads:ads_click",{adsAnalyticsEvent:{adEventType:E.J.CLICK,adImpressionUUID:o.itemAd?.impressionId||"",adData:o.itemAd?.adData||"",bidderUUID:t}})}),[h,S,M.currentQuantity,f,s,m,t,o,G,d,Ue]),xe=(0,r.useCallback)((async e=>{0===e.base&&Z();const t={price:Number(o.price),customizationsList:[],images:null,nutritionalInfo:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},itemDescription:(0,$.iu)(o)},i=Te?"l2":"l1",r="catalogItemAnalyticsData"in o&&o.catalogItemAnalyticsData?.catalogSectionItemPosition?o.catalogItemAnalyticsData?.catalogSectionItemPosition:-1,a={storeAnalytics:J,isDelegatedBooking:W.isDelegatedBooking,deliveryTime:"object"==typeof V&&"scheduled"in V?pe.s.scheduled:pe.s.asap,menuItem:t,diningMode:be,catalogItemLevel:i,surfaceType:m,itemPosition:r,resultIndex:I,storeAvailabilityState:Y.data?.storeInfoMetadata?.storeAvailablityStatus?.state??"UNKNOWN",entryPoint:Ce,storeVerticalType:Y.data?(0,O.E)(Y.data):void 0,storeCatalogSectionAnalytics:h?.catalogSection,originalCatalogSectionUuid:Se};Oe(e),T({newQuantity:{...M,currentQuantity:e},analyticsRelevantData:a,delegatedBooking:W,deliveryTime:V,isInMulticart:H,storeCurrencyCode:Y.data?.currencyCode??"USD",selectedVoucher:K,hhcOrderSize:ee,interactionType:ce,fulfillmentIssueAction:ve(),shouldUpdateDraftOrderMetadata:he})}),[Oe]),{consumerItemFulfillmentViewType:Re,isFulfilled:Pe,showBlockedItemSnackbar:Be}=(0,ke.g)(o.uuid??""),Ze=(0,r.useCallback)((e=>{if(Pe)return Be?.(Re,o.title),e.stopPropagation(),void e.preventDefault();l&&l();z||ye||!(Ue&&"grocery"===Ue?o?.quickAddConfig?.isInteractionEnabled??!0:o?.quickAddConfig?.isInteractionEnabled)||Boolean(De)||(e.stopPropagation(),e.preventDefault(),L(!0),y&&y?.currentQuantity?.base||xe(M.minQuantity))}),[l,z,ye,o?.quickAddConfig?.isInteractionEnabled,De,y,xe,M.minQuantity,Ue,Pe,Be,o.title,Re]),we=g.Tf.from(ye?M.totalQuantityWithCustomizations??M.currentQuantity:M.currentQuantity);return(0,U.tZ)(Ne,{onClick:Ze,ref:x,$isOpen:N,children:N?(0,U.tZ)(ie,{onQuantityUpdated:xe,size:n,quantity:M,closeAnimation:k,isDisabled:i}):(0,U.tZ)(Le,{"data-testid":"quick-add-button",disabled:i,"aria-label":v("quick_add"),radius:"pillButtonBorderRadius",$size:n,children:we.isGt(0)?(0,U.tZ)(Ee,{$size:n,children:`${we.toFloat()}${M.suffix}`}):(0,U.tZ)(b.Z,{name:"PlusSmallFilled",size:"small"===n?16:20})})})}const xe=a.memo(Oe,((e,t)=>e.itemQuantityInCart===t.itemQuantityInCart)),Re=e=>{const t=(0,j.j)({getCartFrom:"storeId",storeId:e.storeId}),{enqueue:i}=(0,be.Ds)(),[n,o]=a.useState(null),s=(0,De.Z)(),{isLiveOrder:u,liveOrderUuid:l}=(0,he.W)(),c=(0,ve.d)(),m=(0,r.useRef)(c);m.current=c;const I=(0,ye.W)({getCartFrom:"workflowId",workflowId:l}),f=(0,ge.W)({cartType:"DRAFT_ORDER",getCartFrom:"storeId",storeId:e.storeId,selector:t=>t.rawCartData?.cartQuantities?.[e.storeItem.uuid??""]}),h=(0,ge.W)({cartType:"LIVE_ORDER",getCartFrom:"workflowId",workflowId:l,selector:t=>t.rawCartData?.cartQuantities?.[e.storeItem.uuid??""]}),y=u?{type:"LIVE_ORDER",cartState:I,itemQuantityInCart:h}:{type:"DRAFT_ORDER",cartState:t,itemQuantityInCart:f},A=(0,r.useRef)(y);A.current=y;const _=(0,d.v)((e=>{let{checkout:t}=e;return t})),b=(0,p.ZP)(),{isAddOnStore:T,addOnOfferContext:C}=(0,Se.Z)(e.storeId),S=(0,r.useCallback)((async t=>{let{newQuantity:r,fulfillmentIssueAction:a}=t;try{m.current({type:"store",num:r.currentQuantity,skuUuid:e.storeItem.uuid??"",storeItem:e.storeItem,storeIdentifier:{storeUuid:e.storeId,sectionUuid:e.sectionUUID,subsectionUuid:e.subsectionUUID},fulfillmentIssueAction:a}).then((e=>{"SUCCESS_EDIT_CART_ITEM"===e?.type&&i({message:(0,Ce.Qs)(e?.infoMessages?.updateCartInfoDetails?.infoSnackBar?.message),startEnhancer:()=>(0,U.tZ)(_e.default,{size:"24"})},Te.t.short)})).catch((e=>{"UPDATE_ITEMS_IN_CART_BOTTOM_SHEET"===e.name?o(e.payload[0]):s()}))}catch(t){b("eats:store_quick_add_error",{storeUuid:e.storeId,error:t})}}),[]),k=(0,r.useCallback)((async t=>{let{newQuantity:i,analyticsRelevantData:r,delegatedBooking:a,deliveryTime:n,isInMulticart:o,storeCurrencyCode:s,selectedVoucher:d,hhcOrderSize:u,interactionType:l,fulfillmentIssueAction:c,shouldUpdateDraftOrderMetadata:m}=t;if("DRAFT_ORDER"===A.current.type)try{switch(A.current.cartState.status){case"MISSING":case"DELETING":await A.current.cartState.actions.editQuantityInCart({cartItem:{uuid:e.storeItem.uuid||"",shoppingCartItemUuid:(0,ce.Z)(),storeUuid:e.storeId,sectionUuid:e.sectionUUID,subsectionUuid:e.subsectionUUID,price:Number(e.storeItem.price),title:String(e.storeItem.title),quantity:g.Tf.from(i.currentQuantity).toFloat(),customizations:{},imageURL:String(e.storeItem.imageUrl),specialInstructions:"",fulfillmentIssueAction:c,pricedByUnit:e.storeItem.purchaseInfo?.pricingInfo?.pricedByUnit,soldByUnit:e.storeItem.purchaseInfo?.purchaseOptions?.[0]?.soldByUnit},startingQuantity:i,analyticsRelevantData:r,checkoutReducer:_,delegatedBooking:a,deliveryTime:n,hasDelegatedBookingDraftOrder:!1,isMulticart:o,selectedVoucher:d,sourceFeature:"add-to-cart",storeCurrencyCode:s,actionMeta:{isQuickAdd:!0,quickAddSource:e.quickAddSource},hhcOrderSize:u,eventSource:"quick_add",interactionType:l,...T&&C?{deliveryType:"MULTI_RESTAURANT_ORDERING_ADD_ON",addOnOfferContext:C}:{}});break;case"CREATING":case"AVAILABLE":case"SYNCING":await A.current.cartState.actions.editQuantityInCart({item:{type:"store",storeItemId:e.storeItem.uuid??"",storeId:e.storeId,shouldUpdateDraftOrderMetadata:m,cartItem:{uuid:e.storeItem.uuid||"",shoppingCartItemUuid:(0,ce.Z)(),storeUuid:e.storeId,sectionUuid:e.sectionUUID,subsectionUuid:e.subsectionUUID,price:Number(e.storeItem.price),title:String(e.storeItem.title),quantity:g.Tf.from(i.currentQuantity).toFloat(),customizations:{},imageURL:String(e.storeItem.imageUrl),specialInstructions:"",fulfillmentIssueAction:c,pricedByUnit:e.storeItem.purchaseInfo?.pricingInfo?.pricedByUnit,soldByUnit:e.storeItem.purchaseInfo?.purchaseOptions?.[0]?.soldByUnit},newQuantity:i},actionMeta:{isQuickAdd:!0,quickAddSource:e.quickAddSource},analyticsRelevantData:r,eventSource:"quick_add"})}}catch(t){b("eats:store_quick_add_error",{storeUuid:e.storeId,error:t})}}),[T,C]);return"LOADING"===y.cartState.status||"OUTDATED"===y.cartState.status?null:(0,U.BX)(U.HY,{children:[n?(0,U.tZ)(Ue.Z,{orderValidationError:n,onClose:()=>o(null)}):null,(0,U.tZ)(xe,{...e,itemQuantityInCart:y.itemQuantityInCart,onProductQuantityUpdated:u?S:k})]})},Pe=e=>{const t=(0,K.l)(),{isLiveOrder:i}=(0,he.W)(),{isGroupOrder:r,isEditOrder:a}=(0,B.Dz)(),{isDelegatedBooking:n}=(0,re.W)();return t&&!r&&!a&&!n||i?(0,U.tZ)(Re,{actionUrl:e.actionUrl,storeId:e.storeUUID,size:e.size??"large",storeItem:e.item,sectionUUID:e.sectionUUID,subsectionUUID:e.subsectionUUID,onQuickAddClicked:e.onClickEvent,sourceType:e.sourceType,searchTerm:e.searchTerm,quickAddSource:e.quickAddSource,resultIndex:e.resultIndex,analytics:e.analytics}):(0,U.tZ)(H,{...e})}},74031:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(91931),a=i(29194),n=i(33990);const o=(0,r.zo)("div",(e=>({display:"flex",alignItems:"center",flexDirection:"row",...e.$theme.typography.LabelLarge,color:e.$theme.colors.buttonPrimaryText,background:e.$theme.colors.buttonPrimaryFill,boxSizing:"border-box",height:"36px",minWidth:"36px",minHeight:0,padding:"2px 4px",justifyContent:"center",border:`1px solid ${e.$theme.colors.buttonPrimaryText}`,borderRadius:e.$theme.borders.pillButtonBorderRadius}))),s=e=>{let{count:t}=e;const i=(0,a.gm)();return(0,n.tZ)(o,{$direction:i,children:t})}},7432:(e,t,i)=>{i.d(t,{Z:()=>f});var r=i(43193),a=i(56174),n=i(91931),o=i(29194),s=i(10400),d=i(33990);const u=(0,n.zo)("div",{display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.02)"}),l=(0,n.zo)("div",(e=>{let{$theme:t,$fullWidth:i}=e;return{display:"flex",position:"absolute",flexWrap:"wrap",overflow:"hidden",width:`calc(${i?"100%":"50%"} - ${t.sizing.scale400})`,gap:t.sizing.scale100}})),c=(0,n.w1)(l,(e=>{let{$theme:t,$direction:i}=e;return{top:t.sizing.scale300,order:"ltr"===i?1:2,left:"ltr"===i?t.sizing.scale300:"unset",right:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-start",alignItems:"flex-start",justifyContent:"ltr"===i?"flex-start":"flex-end"}})),m=(0,n.w1)(l,(e=>{let{$theme:t,$direction:i}=e;return{top:t.sizing.scale300,order:"ltr"===i?2:1,right:"ltr"===i?t.sizing.scale300:"unset",left:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-start",alignItems:"flex-start",justifyContent:"ltr"===i?"flex-end":"flex-start"}})),p=(0,n.w1)(l,(e=>{let{$theme:t,$direction:i}=e;return{bottom:t.sizing.scale300,flexWrap:"wrap-reverse",order:"ltr"===i?3:4,left:"ltr"===i?t.sizing.scale300:"unset",right:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-end",alignItems:"flex-end",justifyContent:"ltr"===i?"flex-start":"flex-end"}})),I=(0,n.w1)(l,(e=>{let{$theme:t,$direction:i}=e;return{bottom:t.sizing.scale300,flexWrap:"wrap-reverse",order:"ltr"===i?4:3,right:"ltr"===i?t.sizing.scale300:"unset",left:"ltr"===i?"unset":t.sizing.scale300,alignContent:"flex-end",alignItems:"flex-end",justifyContent:"ltr"===i?"flex-end":"flex-start"}})),f=e=>{let{elements:t=[]}=e;const i=(0,o.gm)(),n=r.useMemo((()=>t.reduce(((e,t)=>(t.position&&t.element&&(e[t.position]=e[t.position]??[],e[t.position].push(t.element)),e)),{})),[t]),l=n[s.Yj.TOP_LEADING]??[],f=n[s.Yj.TOP_TRAILING]??[],g=n[s.Yj.BOTTOM_LEADING]??[],h=n[s.Yj.BOTTOM_TRAILING]??[];return(0,d.BX)(u,{children:[l.length>0?(0,d.tZ)(a.Z,{elements:l,Wrapper:e=>{let{children:t}=e;return(0,d.tZ)(c,{$fullWidth:0===f.length,$direction:i,children:t})}}):null,f.length>0?(0,d.tZ)(a.Z,{elements:f,Wrapper:e=>{let{children:t}=e;return(0,d.tZ)(m,{$fullWidth:0===l.length,$direction:i,children:t})}}):null,g.length>0?(0,d.tZ)(a.Z,{elements:g,Wrapper:e=>{let{children:t}=e;return(0,d.tZ)(p,{$fullWidth:0===h.length,$direction:i,children:t})}}):null,h.length>0?(0,d.tZ)(a.Z,{elements:h,Wrapper:e=>{let{children:t}=e;return(0,d.tZ)(I,{$fullWidth:0===g.length,$direction:i,children:t})}}):null]})}},56174:(e,t,i)=>{i.d(t,{Z:()=>p});var r=i(43193),a=i(91931),n=i(31913),o=i(87763),s=i(13041),d=i(73448),u=i(33990);const l=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{marginTop:`-${t.sizing.scale0}`}})),c=e=>{let{element:t}=e;const i=r.useRef(Date.now());if("labelPayload"===t?.payload?.type){const e=t.payload.labelPayload,i=e.maxLines??0;return(0,u.tZ)(l,{children:(0,u.tZ)(d.Z,{condition:i>0,wrapper:e=>(0,u.tZ)(o.Z,{clamp:i,children:e}),children:(0,u.tZ)(n.ZP,{text:e.label})})})}if("tagsPayload"===t?.payload?.type){const e=t.uuid??i.current,a=t.payload.tagsPayload.tags??[];return(0,u.tZ)(u.HY,{children:a.map(((t,i)=>(0,u.tZ)(r.Fragment,{children:(0,u.tZ)(s.Z,{tag:t})},`${e}-${i}`)))})}return null},m=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",gap:t.sizing.scale100}})),p=e=>{let{elements:t,Wrapper:i=m}=e;const a=r.useRef(Date.now());return t&&t.length>0?(0,u.tZ)(d.Z,{condition:Boolean(i),wrapper:e=>(0,u.tZ)(i,{children:e}),children:t.map(((e,t)=>(0,u.tZ)(r.Fragment,{children:(0,u.tZ)(c,{element:e})},e.uuid??`ssite-${a.current}-${t}`)))}):null}},37566:(e,t,i)=>{i.d(t,{$:()=>m});var r=i(36151),a=i(70247),n=i(53176),o=i(64388),s=i(33967),d=i(32830),u=i(6703),l=i(58984),c=i(79640);const m=e=>{let{storeUuid:t,item:i,quantity:m,sectionUuid:p,subsectionUuid:I,onAddedToCart:f,decimalQuantity:g,quickAddSource:h}=e;const y=(0,l.I0)(),{store:A}=(0,o.ZP)(t),U=(0,s.Z)(!0),{serverCart:_}=(0,a.iQ)(),b=_.data?.groupedItems,T=(0,r.useMemo)((()=>(((b||[]).find((e=>e.isCurrentUser))||{}).items||[]).filter((e=>e.uuid===i.uuid))),[b,i.uuid]),C=(0,r.useMemo)((()=>(0,d.Z)(T.map((e=>{let{quantity:t}=e;return t})))),[T]),S=(0,r.useMemo)((()=>T.sort(((e,t)=>new Date(t.createdTimestamp??0)-new Date(e.createdTimestamp??0)))),[T]),k=(0,c.iu)(i),D={error:null,hasLoaded:!0,isLoading:!1,data:{price:Number(i.price),title:String(i.title),uuid:i.uuid||"",hasCustomizations:!1,customizationsList:[],imageUrl:String(i.imageUrl),imageWatermarkContent:null,images:null,nutritionalInfo:null,suspendReason:null,suspendUntil:0,itemPromotion:null,itemPromotionV2:{promoText:null,availablePromotion:null,appliedPromotion:null,promotionData:null},rules:null,sectionUuid:p,subsectionUuid:I,itemDescription:k??"",purchaseInfo:i.purchaseInfo}},v="itemAd"in i?i.itemAd:null,{addToCart:N}=(0,n.Z)({store:A,menuItem:D,selectedCustomizations:{},quantity:m,specialInstructions:"",onAddedToCart:f,decimalQuantity:g,itemAd:v}),E=Boolean(_.hasLoaded&&A.hasLoaded&&_?.data?.items?.length&&_?.data?.storeUuid!==A?.data?.uuid),L=(0,r.useCallback)(((e,t)=>{const i=(e,t)=>{t?U(t,e,{isQuickAdd:!0}):N({isStartingNewOrder:E,eventSource:"quick_add",actionMeta:{isQuickAdd:!0,quickAddSource:h}})};if("number"==typeof e){if(e>C){i(e,S[0]?.shoppingCartItemUuid)}else if(e<C){let t=C-e;for(const e of S){if(e.quantity>=t){i(e.quantity-t,e.shoppingCartItemUuid);break}i(0,e.shoppingCartItemUuid),t-=e.quantity}}}else{const t=S[0];e.base<=0?i(0,t?.shoppingCartItemUuid):i(e,t?.shoppingCartItemUuid)}y((0,u.OA)())}),[N,C,y,E,h,S,U]);return{addToCart:N,onUpdateQuantity:L,isNewSingleCart:E,cartItemMatch:T,cartItemQuantity:C,serverCart:_}}},2403:(e,t,i)=>{i.d(t,{P:()=>d});var r=i(36151),a=i(79013),n=i(85191),o=i(33535),s=i(16797);function d(e){let{menuItem:t,quantity:i=0,storeUuid:d,catalogItem:u}=e;const{isItemPromotionApplied:l}=(0,a.E)(t,i),{itemPromotionV2:c}=t||{},m=(0,o.ZP)(),p=(0,o.I0)(),[I,f]=(0,n.T)({root:null});return(0,r.useEffect)((()=>{f?.isIntersecting&&(l&&c?.appliedPromotion?m("eats:store_offers_promotion_applied_impression",{storeUuid:d||"",itemUuid:t?.uuid||"",promotionUuid:c?.availablePromotion?.uuid||"",quantity:i}):c?.availablePromotion&&m("eats:store_offers_promotion_available_impression",{storeUuid:d||"",itemUuid:t?.uuid||"",promotionUuid:c?.availablePromotion?.uuid||"",quantity:i}))}),[f?.isIntersecting,l,c,m,t?.uuid,d,i]),(0,r.useEffect)((()=>{f?.isIntersecting&&u?.promoInfo&&f?.isIntersecting&&m("eats:store_front_offers_impression",{storeUuid:d||"",itemUuid:u.uuid||"",promotionUuid:u.promoInfo?.promotionUUID||""})}),[u,f?.isIntersecting,m,d]),(0,r.useEffect)((()=>{if(f?.isIntersecting&&u?.itemAd){const e="ads:ads_impression",t=`${e}_${u?.itemAd?.impressionId}`;p(e,{adsAnalyticsEvent:{adEventType:s.J.IMPRESSION,adImpressionUUID:u?.itemAd?.impressionId||"",adData:u?.itemAd?.adData||""}},t)}}),[u,f?.isIntersecting,p]),{promotionComponentRef:I}}},79013:(e,t,i)=>{i.d(t,{E:()=>a});var r=i(3289);function a(e,t){const i={isItemPromotionApplied:!1};if(!e?.itemPromotionV2?.promotionData)return i;const{itemPromotionV2:a}=e||{},{promotionData:n}=a||{};if(!n?.type)return i;switch(n.type){case r._k.buyXGetYItemPromotion:{const{buyQuantity:e,getQuantity:i}=n||{};if(!isNaN(e)&&!isNaN(i)&&t>=e+i)return{isItemPromotionApplied:!0};break}case r._k.volumeDiscountPromotion:{const{buyQuantity:e}=n||{};if(!isNaN(e)&&t>=e)return{isItemPromotionApplied:!0};break}default:return i}return i}},78979:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(60849),a=i(41063);function n(){return(0,r.ip)({...a.v.store_quick_add,defaultValue:!0})}},72439:(e,t,i)=>{i.d(t,{g:()=>m});var r=i(43193),a=i(44997),n=i(6264),o=i(14016),s=i("__fusion__674"),d=i("__fusion__1019"),u=i("__fusion__559"),l=i(20196),c=i(83059);function m(e){const{isLiveOrder:t,liveOrderUuid:i}=(0,a.W)(),m=(0,n.W)({getCartFrom:"workflowId",workflowId:i}),p=(0,o.T)(),{enqueue:I}=(0,l.Ds)(),f=["FOUND","IN_REVIEW","REPLACED","REFUNDED"],g=r.useCallback(((e,t)=>{const i={IN_REVIEW:{message:p("live_order.item.in_review",{item:t}),icon:u.default},REPLACED:{message:p("live_order.item.replaced",{item:t}),icon:u.default},FOUND:{message:p("live_order.item.found",{item:t}),icon:s.default},REFUNDED:{message:p("live_order.item.refunded",{item:t}),icon:d.default}}[e];I({message:i.message,startEnhancer:()=>r.createElement(i.icon,{size:"24"})},c.t.short)}),[I,p]);if(!t||"SYNCING"!==m.status&&"AVAILABLE"!==m.status)return{isLiveOrder:t,consumerItemFulfillmentViewType:void 0,isFulfilled:!1,showBlockedItemSnackbar:null};const h=(m?.rawCartData?.liveOrder?.cart?.shoppingCart?.items||[]).find((t=>t.skuUUID===e))?.fulfillmentContext?.consumerItemFulfillmentViewType;return{isLiveOrder:!0,consumerItemFulfillmentViewType:h,isFulfilled:(e=>!!f.includes(e??""))(h),showBlockedItemSnackbar:g}}},55365:(e,t,i)=>{i.d(t,{Z:()=>o});var r=i(43193),a=i(85191),n=i(43832);function o(e){const{queueCatalogItemImpression:t,isGrStore:i}=(0,n.QT)(),o=r.useRef(!1),[s,d]=(0,a.T)({root:null,threshold:0}),u=r.useRef(s?.current?.getBoundingClientRect());return r.useEffect((()=>{if(s?.current&&!u.current&&(u.current=s.current.getBoundingClientRect()),d&&d.isIntersecting&&!o.current){const r=d.boundingClientRect,a=((e,t)=>Math.abs(t.top-(e?.top||0))<Math.abs(t.left-(e?.left||0))?"HORIZONTAL":"VERTICAL")(u.current,r);t({...e.storeCatalog,scrollDirection:a,verticalLabel:i?"GROCERY":"RESTAURANT"}),o.current=!0}return()=>{o.current=!1}}),[d,e,t,s,i]),s}},70329:(e,t,i)=>{i.d(t,{Z:()=>d});var r=i(32762),a=i(43832),n=i(34626),o=i(54669),s=i(78979);const d=()=>{const{desktopFeatures:e,isStoreOfdRedesignPhase2XpEnabled:t,isStoreOfdRedesignXpEnabled:i,isStoreRatingRedesignEnabled:d}=(0,r.Z)(),{user:u}=(0,n.Z)(),{store:l,isGrStore:c}=(0,a.QT)(),m=(0,o.Z)(),p=(0,s.Z)(),I=u.data?.isLoggedIn,f=l?.data?.isLost;let g={...e,hasOldBreadcrums:!(e.hasNewBreadcrumbs||t||m),showLostMerchantHeroSection:!1,hasDeliveryAddressSearchBar:!1,hasHeroSection:!0,hasSharedDeliveryTime:!0,showQuickAdd:!0,menuItem:"link",menuItemImage:"default",menuItemCursor:"pointer",colorScale:"default",isStoreOfdRedesignPhase2XpEnabled:t,isStoreRatingRedesignEnabled:d,deliveryLocation:m,hasFaqWrapper:!(t||m||e.hasNewFaqSection),hasLogo:!0,showDeliveryTime:!0,hasQuickAdd:p,isStoreOfdRedesignXpEnabled:i,menuItemPriceTagline:"default",hasEphemeralAddressInput:!0,hasInfoSummary:!0,hasMenuSearchBar:!0,hasTopLinksNewVerticals:!0};return f&&(g={...g,showLostMerchantHeroSection:!0,hasDeliveryAddressSearchBar:!I,hasHeroSection:!1,hasSharedDeliveryTime:!1,showQuickAdd:!1,menuItem:"disabled",menuItemImage:c?"placeholder":"hidden",menuItemCursor:"default",colorScale:"gray",hasNewInStoreSearch:!1,hasLogo:!1,storeInfoConfig:{...g.storeInfoConfig,showBrandingInfoAndControls:!1},showDeliveryTime:!1,hasQuickAdd:!1,menuItemPriceTagline:"hidden",hasEphemeralAddressInput:!1,hasInfoSummary:!1,hasDeliveryRowControls:!1,hasMenuSearchBar:!1,hasTopLinksNewVerticals:!1}),g}},13427:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(60849),a=i(41063);const n=()=>(0,r.ip)({...a.v.store_quick_add_enhancement,defaultValue:!1})},29802:(e,t,i)=>{i.d(t,{Z:()=>g});var r=i(36151),a=i(14016),n=i(58984),o=i(15070),s=i(59147),d=i(8057),u=i(8109),l=i(32504),c=i(99317),m=i(9829),p=i(95761),I=i(34274),f=i(70247);function g(e,t){const i=(0,n.I0)(),g=(0,a.T)(),{cacheKey:A}=(0,l.Z)(),{feedItemsUpdate:U,getFeedItemsUpdate:_}=(0,u.Z)(),b=(0,o.v)((e=>{let{countdowns:t}=e;return t})),T=(0,o.v)((e=>{let{feed:t}=e;return(0,m._z)(t,A)})),{serverCart:C}=(0,f.iQ)(),S=(0,I.Z)({storeUuid:C.data?.storeUuid}),k=(0,c.VA)({countdowns:b&&b.data||[],countdownLabel:e,feedItemUuid:t.feedItemUuid,storeUuid:t.storeUuid}),D=(0,c.VA)({countdowns:T&&T.data&&T.data.countdowns||[],countdownLabel:e,feedItemUuid:t.feedItemUuid,storeUuid:t.storeUuid}),v=D?.timestamp.end||k?.timestamp.end,[N,E]=(0,r.useState)(y(v)),[L,O]=(0,r.useState)(Math.floor(N/60));(0,r.useEffect)((()=>{let e;return t.createTimer&&(e=setTimeout((()=>{const e=y(v);e!==N&&E(e)}),1e3)),()=>clearTimeout(e)}),[v,t.createTimer,N]),(0,r.useEffect)((()=>{if(0===N&&!U.isLoading&&!U.hasLoaded){const e=t.feedItemUuid||t.storeUuid;i((0,s.X2)(e)),i((0,d.hW)()),i((0,m.iO)({cacheKey:A,feedItemOrStoreUuid:e})),i((0,p.Lu)("ASAP"))}}),[A,i,U.hasLoaded,U.isLoading,t.feedItemUuid,t.storeUuid,N]),(0,r.useEffect)((()=>{0===N&&!U.isLoading&&!U.hasLoaded&&t.feedItemUuid&&k&&D&&k.timestamp.end===D.timestamp.end&&_([t.feedItemUuid])}),[k,D,U.hasLoaded,U.isLoading,_,t.feedItemUuid,N]),(0,r.useEffect)((()=>{N>0&&!U.isLoading&&U.hasLoaded&&(i((0,m.A5)({cacheKey:A})),S&&i((0,p.Lu)("BANDWAGON")))}),[A,i,U.hasLoaded,U.isLoading,S,N]);const x=Math.floor(N/60),R=[0,1].includes(N%60)&&x>0;R&&L!==x&&O(x);const P=L>1?g("bandwagon.x_minutes_left",{time:L}):g("bandwagon.one_minute_left"),B=D?.totalDurationInSeconds||k?.totalDurationInSeconds;return{countdown:k,formattedTimeLeft:h(N),percentTimeLeft:N/(B||N),minuteMessage:P,shouldPulse:N<=61,shouldShowMinuteMessage:R,timeLeft:N}}const h=e=>{const t=Math.floor(e/60);let i=String(e%60);return 1===i.length&&(i=`0${i}`),`${t}:${i}`},y=e=>{if(null==e)return-1;const t=Date.now(),i=parseInt(""+(e-t)/1e3);return i>0?i:0}},90981:(e,t,i)=>{i.d(t,{Z:()=>d});var r=i(69287),a=i(74622),n=i(2237),o=i(62459);var s=i(14016);const d=function(){const{showEuDisclaimer:e,showFrenchDisclaimer:t}=(0,r.Z)(),i=(0,s.T)(),d=function(e,t){const i=(0,o.Z)("getFeedEuDisclaimerV1"),r=(0,n.H)("getFeedEuDisclaimerV1",e);return(0,a.useQuery)({queryKey:r,queryFn:e=>{let{queryKey:t}=e;return i.request("getFeedEuDisclaimerV1",t[1])},...t?.queryObserverOptions})}(void 0,{queryObserverOptions:{enabled:e}}),u={title:{text:i("euDisclaimer.HeaderTitle")},body:{textFormat:`<span>${i("euDisclaimer.Body")}, <span style="text-decoration: underline;text-decoration-color:#545454;text-underline-offset:4;"><a href=https://www.uber.com/legal/document/?name=rankings-on-uber-eats>${i("euDisclaimer.clickHereText")}</a></span></span>`},buttonText:i("euDisclaimer.dismissText"),paragraphs:null};return{ratingLink:"https://www.uber.com/legal/document/?name=ratings-and-reviews-on-uber-eats",rankingDisclaimer:d.data?.markup,rankingBottomSheet:t?d.data?.bottomSheet:u}}},8109:(e,t,i)=>{i.d(t,{Z:()=>d});var r=i(36151),a=i(15070),n=i(71576),o=i(9829),s=i(32504);const d=()=>{const{cacheKey:e}=(0,s.Z)(),t=(0,a.v)((t=>{let{feed:i}=t;return(0,o._z)(i,e)})),i=(0,n.Z)("getFeedItemsUpdateV1"),d=(0,r.useCallback)((t=>i({cacheKey:e,feedItemUuids:t})),[e,i]);return{feedItemsUpdate:t.data?.feedItemsUpdate||{...o.Fo},feedItemUuids:t.data?.feedItemsUpdate?.feedItemUuids||[],getFeedItemsUpdate:d}}}}]);