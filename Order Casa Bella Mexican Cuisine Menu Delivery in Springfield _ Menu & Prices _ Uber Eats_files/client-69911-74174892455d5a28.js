"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[69911],{67526:(e,t,E)=>{E.d(t,{LK:()=>n,fn:()=>a,ko:()=>_,nJ:()=>r});const r=Object.freeze({UNKNOWN:"UNKNOWN",GROUP_ORDER:"GROUP_ORDER",SEE_SIMILAR:"SEE_SIMILAR",STORE_BUNDLING:"STORE_BUNDLING",OVERFLOW:"OVERFLOW",SCHEDULE:"SCHEDULE"}),a=(Object.freeze({UNKNOWN:"UNKNOWN",SNAP_EBT:"SNAP_EBT"}),Object.freeze({UNKNOWN:"UNKNOWN",STORE_CLOSED:"STORE_CLOSED",NOT_ACCEPTING_ORDERS:"NOT_ACCEPTING_ORDERS",NO_COURIERS_NEARBY:"NO_COURIERS_NEARBY",HIGH_DEFECT_RATE:"HIGH_DEFECT_RATE",TOO_FAR_TO_DELIVER:"TOO_FAR_TO_DELIVER",CURRENTLY_UNAVAILABLE:"CURRENTLY_UNAVAILABLE"}),Object.freeze({DISMISS:"DISMISS",SCHEDULE:"SCHEDULE",SWITCH_ASAP:"SWITCH_ASAP"}),Object.freeze({UNKNOWN:"UNKNOWN",EMBEDDED_VIEW:"EMBEDDED_VIEW",ACTION_SHEET:"ACTION_SHEET",RESERVED_2:"RESERVED_2",RESERVED_3:"RESERVED_3",RESERVED_4:"RESERVED_4",RESERVED_5:"RESERVED_5",RESERVED_6:"RESERVED_6",RESERVED_7:"RESERVED_7"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS",IN_STORE_PRICING:"IN_STORE_PRICING",ETA:"ETA"}),Object.freeze({STANDARD:"STANDARD",SLIM:"SLIM"}),Object.freeze({DEFAULT:"DEFAULT",VEG_PREVALENT_MARKET:"VEG_PREVALENT_MARKET"}),Object.freeze({NONE:"NONE",FILTER:"FILTER"}),Object.freeze({STANDARD:"STANDARD",USE_SECTION_AS_CATEGORY:"USE_SECTION_AS_CATEGORY"}),Object.freeze({DEFAULT:"DEFAULT"}),Object.freeze({VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL",DROPDOWN:"DROPDOWN"}),Object.freeze({ROUTE_TO_STORE:"ROUTE_TO_STORE",ROUTE_TO_FEED:"ROUTE_TO_FEED"}),Object.freeze({DISCLAIMER:"DISCLAIMER",STANDARD_METADATA:"STANDARD_METADATA",NUTRITION_FACTS:"NUTRITION_FACTS",UNKNOWN:"UNKNOWN",PRICING:"PRICING",CUSTOMIZATION_METADATA:"CUSTOMIZATION_METADATA",CATALOG_SECTION:"CATALOG_SECTION",QUANTITY_SELECTOR:"QUANTITY_SELECTOR",ALERT:"ALERT",REMOVE_ITEM_BUTTON:"REMOVE_ITEM_BUTTON",STORES_WITH_PRODUCT:"STORES_WITH_PRODUCT",VARIANT_OPTIONS_GROUP:"VARIANT_OPTIONS_GROUP",MINI_STORE_CARD:"MINI_STORE_CARD",REPLACEMENT_PREFERENCES:"REPLACEMENT_PREFERENCES",ALLERGY_PREFERENCES:"ALLERGY_PREFERENCES",SPECIAL_INSTRUCTIONS:"SPECIAL_INSTRUCTIONS",CUSTOMIZATIONS:"CUSTOMIZATIONS",VERTICAL_DIVIDER:"VERTICAL_DIVIDER",PRESELECTED_CUSTOMIZATIONS:"PRESELECTED_CUSTOMIZATIONS",TAG_VIEWS:"TAG_VIEWS",ACTIONABLE_LIST_ITEM:"ACTIONABLE_LIST_ITEM"})),_=Object.freeze({TILE:"TILE",DROPDOWN:"DROPDOWN",PILL:"PILL"}),n=(Object.freeze({SUCCESS:"SUCCESS",INFO:"INFO",WARNING:"WARNING",FAILURE:"FAILURE",CUSTOM:"CUSTOM"}),Object.freeze({COLLAPSED:"COLLAPSED",EXPANDED:"EXPANDED"}),Object.freeze({UNDEFINED:"UNDEFINED",VEGETARIAN:"VEGETARIAN",VEGAN:"VEGAN",GLUTEN_FREE:"GLUTEN_FREE",PLACEHOLDER_4:"PLACEHOLDER_4",PLACEHOLDER_5:"PLACEHOLDER_5",PLACEHOLDER_6:"PLACEHOLDER_6",PLACEHOLDER_7:"PLACEHOLDER_7",PLACEHOLDER_8:"PLACEHOLDER_8",PLACEHOLDER_9:"PLACEHOLDER_9"}),Object.freeze({HORIZONTAL_GRID:"HORIZONTAL_GRID",VERTICAL_GRID:"VERTICAL_GRID",EXPLORE_MENU:"EXPLORE_MENU",EATER_MESSAGE:"EATER_MESSAGE",CATEGORY_LIST_ITEM:"CATEGORY_LIST_ITEM",SPECIAL_REQUEST:"SPECIAL_REQUEST",EMPTY_STATE:"EMPTY_STATE",AD_CANVAS:"AD_CANVAS",BUNDLE_STORE:"BUNDLE_STORE",AISLE_SHORTCUTS:"AISLE_SHORTCUTS",ACTIVE_CART:"ACTIVE_CART"}));Object.freeze({SPECIAL_REQUEST:"SPECIAL_REQUEST",REFRESH:"REFRESH",DISMISS:"DISMISS"}),Object.freeze({UNKNOWN:"UNKNOWN",STORE:"STORE",SEE_ALL:"SEE_ALL"}),Object.freeze({ITEM:"ITEM",COMBO:"COMBO",INTER_SUBSECTION_CAROUSEL:"INTER_SUBSECTION_CAROUSEL"}),Object.freeze({DEFAULT:"DEFAULT",CAROUSEL:"CAROUSEL"}),Object.freeze({DEFAULT:"DEFAULT",COLLAPSED:"COLLAPSED",REQUIRED_SINGLE_OPTION:"REQUIRED_SINGLE_OPTION"}),Object.freeze({DEFAULT:"DEFAULT",PROMOTION:"PROMOTION"}),Object.freeze({UBER_CASH:"UBER_CASH"}),Object.freeze({NOOP:"NOOP",INSERT:"INSERT"}),Object.freeze({DEFAULT:"DEFAULT",PHYSICAL:"PHYSICAL",VIRTUAL:"VIRTUAL",DELIVERY_API:"DELIVERY_API",STANDALONE_VIRTUAL:"STANDALONE_VIRTUAL",GROCERY_STORE:"GROCERY_STORE",ITEMLESS_STORE:"ITEMLESS_STORE",RESERVED_7:"RESERVED_7"}),Object.freeze({FLAT:"FLAT",PERCENT:"PERCENT",FREE_DELIVERY:"FREE_DELIVERY",DISCOUNT_DELIVERY:"DISCOUNT_DELIVERY",PLACEHOLDER_0:"PLACEHOLDER_0",DO_NOT_USE_FREE_ITEM:"DO_NOT_USE_FREE_ITEM",DO_NOT_USE_DISCOUNTED_ITEM:"DO_NOT_USE_DISCOUNTED_ITEM",VIRTUALPROMO_UBERCASH:"VIRTUALPROMO_UBERCASH",PLACEHOLDER_9:"PLACEHOLDER_9",PLACEHOLDER_10:"PLACEHOLDER_10",PLACEHOLDER_11:"PLACEHOLDER_11",PLACEHOLDER_12:"PLACEHOLDER_12",PLACEHOLDER_13:"PLACEHOLDER_13",PLACEHOLDER_14:"PLACEHOLDER_14",PLACEHOLDER_15:"PLACEHOLDER_15",PLACEHOLDER_16:"PLACEHOLDER_16",PLACEHOLDER_17:"PLACEHOLDER_17",PLACEHOLDER_18:"PLACEHOLDER_18",PLACEHOLDER_19:"PLACEHOLDER_19",PLACEHOLDER_20:"PLACEHOLDER_20",PLACEHOLDER_21:"PLACEHOLDER_21",PLACEHOLDER_22:"PLACEHOLDER_22",PLACEHOLDER_23:"PLACEHOLDER_23",PLACEHOLDER_24:"PLACEHOLDER_24",PLACEHOLDER_25:"PLACEHOLDER_25",PLACEHOLDER_26:"PLACEHOLDER_26",PLACEHOLDER_27:"PLACEHOLDER_27",PLACEHOLDER_28:"PLACEHOLDER_28",PLACEHOLDER_29:"PLACEHOLDER_29",PLACEHOLDER_30:"PLACEHOLDER_30",PLACEHOLDER_31:"PLACEHOLDER_31",PLACEHOLDER_32:"PLACEHOLDER_32"}),Object.freeze({UNKNOWN:"UNKNOWN",ALCOHOL:"ALCOHOL",PLACE_HOLDER_2:"PLACE_HOLDER_2",PLACE_HOLDER_3:"PLACE_HOLDER_3",PLACE_HOLDER_4:"PLACE_HOLDER_4",PLACE_HOLDER_5:"PLACE_HOLDER_5",PLACE_HOLDER_6:"PLACE_HOLDER_6",PLACE_HOLDER_7:"PLACE_HOLDER_7",PLACE_HOLDER_8:"PLACE_HOLDER_8",PLACE_HOLDER_9:"PLACE_HOLDER_9",PLACE_HOLDER_10:"PLACE_HOLDER_10"}),Object.freeze({UNKNOWN:"UNKNOWN",ALCOHOL:"ALCOHOL",PLACE_HOLDER_2:"PLACE_HOLDER_2",PLACE_HOLDER_3:"PLACE_HOLDER_3",PLACE_HOLDER_4:"PLACE_HOLDER_4",PLACE_HOLDER_5:"PLACE_HOLDER_5",PLACE_HOLDER_6:"PLACE_HOLDER_6",PLACE_HOLDER_7:"PLACE_HOLDER_7",PLACE_HOLDER_8:"PLACE_HOLDER_8",PLACE_HOLDER_9:"PLACE_HOLDER_9",PLACE_HOLDER_10:"PLACE_HOLDER_10"}),Object.freeze({UNKNOWN:"UNKNOWN",INSTAGRAM:"INSTAGRAM",PLACEHOLDER_2:"PLACEHOLDER_2",PLACEHOLDER_3:"PLACEHOLDER_3",PLACEHOLDER_4:"PLACEHOLDER_4",PLACEHOLDER_5:"PLACEHOLDER_5",PLACEHOLDER_6:"PLACEHOLDER_6",PLACEHOLDER_7:"PLACEHOLDER_7",PLACEHOLDER_8:"PLACEHOLDER_8",PLACEHOLDER_9:"PLACEHOLDER_9",PLACEHOLDER_10:"PLACEHOLDER_10"}),Object.freeze({STORE_OPENING_SOON:"STORE_OPENING_SOON",STORE_CLOSING_SOON:"STORE_CLOSING_SOON",STORE_CLOSED:"STORE_CLOSED",NOT_ACCEPTING_ORDERS:"NOT_ACCEPTING_ORDERS",TOO_FAR_TO_DELIVER:"TOO_FAR_TO_DELIVER",NO_COURIERS_NEARBY:"NO_COURIERS_NEARBY",CLOSING_TOO_SOON_TO_DELIVER:"CLOSING_TOO_SOON_TO_DELIVER",PLACEHOLDER_2:"PLACEHOLDER_2",AVAILABLE:"AVAILABLE",UNKNOWN:"UNKNOWN"}),Object.freeze({CAMERA:"CAMERA",GALLERY:"GALLERY",DISMISS:"DISMISS"}),Object.freeze({NONE:"NONE",JPEG:"JPEG",PNG:"PNG"}),Object.freeze({NEW_VERTICALS:"NEW_VERTICALS",RESTAURANT:"RESTAURANT"})},79250:(e,t,E)=>{E.d(t,{E:()=>L,F:()=>O});var r=E(60849),a=E(30085),_=E(33535),n=E(36151),o=E(57578);const O=()=>{let e;const t=(0,_.I0)(),E=(0,r.qp)({...a.m.menu_item_rating,defaultValue:"default"});return"treatment_1"!==E&&"treatment_2"!==E||(e="EATER_ENDORSED"),(0,n.useEffect)((()=>{t("eats:eats_web_cro_store_dish_rating_inclusion",{param_name:"menu_item_rating",param_value:E})}),[t,E]),{itemRatingTreatmentName:E,cbType:e}},L=e=>{const{itemRatingTreatmentName:t}=O(),E=(0,_.ZP)(),{totalMenuItems:r,totalMenuItemsWithRatings:a,totalMenuItemsWithRatingsInTreatment:L}=(0,n.useMemo)((()=>(0,o.uw)(e,t)),[e,t]);(0,n.useEffect)((()=>{"treatment_1"!==t&&"treatment_2"!==t||E("eats:total_menu_item_ratings",{menuItemRatings:{totalMenuItems:String(r),totalMenuItemsWithRatings:String(a),totalMenuItemsWithRatingsInTreatmentGroup:String(L),treatmentName:t}})}),[E,r,a,L,t])}},96729:(e,t,E)=>{E.d(t,{F:()=>n});var r=E(36151),a=E(9725),_=E(39463);const n=()=>{const{getQueueFromCache:e}=(0,a.iQ)(),t=(0,_.l)();return{notifyExternalSyncToCart:(0,r.useCallback)((E=>{let{storeId:r,cartId:a}=E;if(!t)return;e({type:"storeId",storeId:r}).notifyExternalChanges({type:"cartUpdated",draftOrderId:a})}),[t,e]),notifyDiscardedOrder:(0,r.useCallback)((E=>{let{storeId:r}=E;if(!t)return;e({type:"storeId",storeId:r}).notifyExternalChanges({type:"cartDiscarded"})}),[t,e]),notifyOrderCompleted:(0,r.useCallback)((E=>{let{storeId:r}=E;if(!t)return;e({type:"storeId",storeId:r}).notifyExternalChanges({type:"cartOrdered"})}),[t,e])}}},41117:(e,t,E)=>{E.d(t,{D:()=>r});const r={standardHeaderPayload:"standardHeaderPayload",storeHeaderPayload:"storeHeaderPayload",bannerHeaderPayload:"bannerHeaderPayload",sponsoredDisplayBannerHeaderPayload:"sponsoredDisplayBannerHeaderPayload"}},75618:(e,t,E)=>{E.d(t,{p:()=>r});let r=function(e){return e.horizontalGridPayload="horizontalGridPayload",e.verticalGridPayload="verticalGridPayload",e.exploreMenuPayload="exploreMenuPayload",e.standardItemsPayload="standardItemsPayload",e.eaterMessagingPayload="eaterMessagingPayload",e.categoryItemPayload="categoryItemPayload",e.specialRequestPayload="specialRequestPayload",e.emptyStatePayload="emptyStatePayload",e.adCanvasPayload="adCanvasPayload",e.bundleStorePayload="bundleStorePayload",e.aisleShortcutItems="aisleShortcutItems",e.activeCartPayload="activeCartPayload",e.unknown="unknown",e}({})},74107:(e,t,E)=>{E.d(t,{Z:()=>O});var r=E(94813),a=E(80670),_=E(45288),n=E(86255),o=E(64388);const O=e=>{let{preparedId:t,cbType:E,diningMode:O,fetchSeoContentEnabled:L,primaryBundledStoreUuid:R,orderUuid:d}=e;const s=(0,r.UO)(),i=(0,a.Z)("uev2.fee-education-nugget"),A=Boolean(L),l=(0,n.Z)({encodedStoreUuid:s.encodedStoreUuid}),{store:T}=(0,o.ZP)(l,{preparedId:t,sfNuggetCount:i,...E?{cbType:E}:null,...O?{diningMode:O}:null,...R?{primaryStoreUUID:R}:null,fetchSeoContentEnabled:A,...d?{orderUuid:d}:{}});return{store:T,partialStore:(0,_.ZP)(l),fetchSeoContentEnabled:L}}},43832:(e,t,E)=>{E.d(t,{QT:()=>I,nX:()=>u});var r=E(36151),a=E(43193),_=E(64388),n=E(74107),o=E(94813),O=E(47986),L=E(79250),R=E(33660),d=E(47885),s=E(86255),i=E(70401),A=E(33535),l=E(57578);Object.freeze({"internal.server.error":"internal.server.error"}),Object.freeze({"invalid.request.error":"invalid.request.error"}),Object.freeze({"entity.not.found":"entity.not.found"}),Object.freeze({"eats.get_store_not_found":"eats.get_store_not_found"});const T=Object.freeze({"eats.get_store_inactive_account":"eats.get_store_inactive_account"});Object.freeze({"rtapi.eats.promotion_error.duplicate":"rtapi.eats.promotion_error.duplicate"}),Object.freeze({"eats.city_areas.errors.latlong_missing":"eats.city_areas.errors.latlong_missing"}),Object.freeze({"eats.get_store_invalid_account":"eats.get_store_invalid_account"}),Object.freeze({"eats.order.error.invalid_state_change":"eats.order.error.invalid_state_change"}),Object.freeze({"eats.payment_in_arrears":"eats.payment_in_arrears"}),Object.freeze({"eats.submit_ratings_user_error":"eats.submit_ratings_user_error"}),Object.freeze({"eats.tip_already_processed":"eats.tip_already_processed"}),Object.freeze({"eats.tip_exceeded_max":"eats.tip_exceeded_max"}),Object.freeze({"eats.additional_tip_exceeded_max":"eats.additional_tip_exceeded_max"}),Object.freeze({"eats.too_many_tips_submitted":"eats.too_many_tips_submitted"}),Object.freeze({"eats.fulfillment_issues_not_resolved":"eats.fulfillment_issues_not_resolved"}),Object.freeze({"eats.orders.missing_order_status_data":"eats.orders.missing_order_status_data"}),Object.freeze({"eats.chain_store_not_found":"eats.chain_store_not_found"}),Object.freeze({"eats.order.unauthorized":"eats.order.unauthorized"}),Object.freeze({"eats.cart_already_ordered":"eats.cart_already_ordered"}),Object.freeze({"eats.invalid.delivery_time":"eats.invalid.delivery_time"}),Object.freeze({"eats.orders.update_order_preparation_time.cannot_update":"eats.orders.update_order_preparation_time.cannot_update"}),Object.freeze({"eats.store.supply_device.not_found":"eats.store.supply_device.not_found"}),Object.freeze({"rtapi.eats.invalid_phone_number":"rtapi.eats.invalid_phone_number"}),Object.freeze({"rtapi.eats.billboard.showcase.error":"rtapi.eats.billboard.showcase.error"}),Object.freeze({"eats.product.notFound":"eats.product.notFound"}),Object.freeze({"eats.order.not_found":"eats.order.not_found"}),Object.freeze({"eats.pincode.not_found":"eats.pincode.not_found"}),Object.freeze({"eats.no_menu_only_alcoholic_items_available":"eats.no_menu_only_alcoholic_items_available"}),Object.freeze({"rtapi.users.promotion_error":"rtapi.users.promotion_error"}),Object.freeze({"eats.cannot_use_own_funds":"eats.cannot_use_own_funds"}),Object.freeze({"eats.cannot_use_plus_card":"eats.cannot_use_plus_card"}),Object.freeze({"eats.age_validation_error":"eats.age_validation_error"}),Object.freeze({"eats.survey.notFound":"eats.survey.notFound"});var c=E(33990);const C={hasLoaded:!1,isLoading:!1,data:null,error:null},S=(0,r.createContext)({storeUuid:"",store:C,partialStore:null,primaryStore:C,isGrStore:null,queueCatalogItemImpression:()=>{}}),D=e=>{let{children:t,preparedId:E}=e;const r=(0,o.TH)(),C=(0,A.ZP)(),D=a.useRef({}),u=a.useRef({}),I=a.useCallback((()=>{C("eats:store_catalog_item_impression",{storeCatalog:{items:Object.values(u.current)}}),u.current={}}),[C]),P=(0,i.Z)(I,500),{encodedStoreUuid:N}=(0,o.UO)(),H=(0,s.Z)({encodedStoreUuid:N}),{diningMode:f,primaryBundledStoreUuid:U,liveOrderUuid:p}=(0,O.RAN)(r,["diningMode","primaryBundledStoreUuid","liveOrderUuid"]),{cbType:y}=(0,L.F)(),m=(0,R.Ee)(f),{isStorePrecheckoutBundlingEnabled:b}=(0,d.Z)(),{store:g,partialStore:M}=(0,n.Z)({preparedId:E,cbType:y,diningMode:m,fetchSeoContentEnabled:!0,primaryBundledStoreUuid:U,orderUuid:p}),{store:j}=(0,_.ZP)(b?U:null,{orderUuid:p}),z="USE_SECTION_AS_CATEGORY"===g.data?.menuDisplayType||!g.data&&null;return a.useEffect((()=>{g.error&&g.error.message==T["eats.get_store_inactive_account"]&&r.state&&r.state.navigationLink&&C("eats:store_onboarding_inactive_from_navigation_links",{prevPage:r.state.navigationLink})}),[g.error,C,r.state]),(0,c.tZ)(S.Provider,{value:{storeUuid:H,store:g,primaryStore:j,partialStore:M,isGrStore:z,queueCatalogItemImpression:e=>{const t=(0,l.Mo)(e);D.current[t]||(u.current[t]=e,D.current[t]=!0,P())}},children:t})},u=(e,t)=>{const E=E=>(0,c.tZ)(D,{preparedId:e,children:(0,c.tZ)(t,{...E})}),r=t.displayName||t.name||"";return E.displayName="WithStoreProvider("+r+")",E},I=()=>{const e=(0,r.useContext)(S);if(null!==e)return e;throw Error("You should call useStoreContext() only in a descendant of <StoreProvider>")}},57578:(e,t,E)=>{E.d(t,{A4:()=>D,E0:()=>s,EH:()=>H,F5:()=>f,FA:()=>O,Mo:()=>o,S8:()=>c,Tm:()=>S,Wo:()=>R,Yx:()=>u,dK:()=>n,ex:()=>T,fg:()=>N,jm:()=>l,kR:()=>d,qY:()=>C,uw:()=>P,xZ:()=>I});var r=E(67526),a=E(75618),_=E(41117);function n(e){return Object.entries(e||{}).reduce(((e,t)=>{let[E,r]=t;return e+r.reduce(((e,t)=>e+(O(t)?.catalogItems?.length||0)),0)}),0)}function o(e){return`${e.sourceType}-${e.storeUuid}-${e.sectionUuid}-${e.subsectionUuid}-${e.itemUuid}`}function O(e){return e.payload?.type===a.p.standardItemsPayload?e.payload.standardItemsPayload:null}function L(e){return e.payload?.type===a.p.categoryItemPayload?e.payload.categoryItemPayload:null}function R(e){if(!e)return null;const t=O(e);return t?.catalogSectionHeaderPayload?.type===_.D.sponsoredDisplayBannerHeaderPayload?t?.catalogSectionHeaderPayload.sponsoredDisplayBannerHeaderPayload:null}function d(e){return Object.values(e||{}).flat().find((e=>e.type===r.LK.BUNDLE_STORE))}function s(e){if(!e)return null;const t=O(e);if(t)return A(t);const E=function(e){return e.payload?.type===a.p.bundleStorePayload?e.payload.bundleStorePayload:null}(e);if(E){const e=E.title?.richTextElements?.[0];if("text"===e?.type)return e.text?.text?.text}const r=L(e);if(r){const e=r?.title;return e||""}const _=function(e){return e.payload?.type===a.p.adCanvasPayload?e.payload?.adCanvasPayload:null}(e);if(_){return i(_)||""}return null}const i=e=>{if(!e)return"";const t=e?.adsExperimentalStorePayload?.parent?.title;return H(t)&&function(e){return"text"===e?.type}(t?.label?.richText?.richTextElements?.[0])?t?.label?.richText?.richTextElements?.[0]?.text?.text?.text:""},A=e=>{if(!e)return"";{const t=e.catalogSectionHeaderPayload;if(e.titleV2){return(e.titleV2?.richTextElements||[]).filter((e=>"text"===e.type)).map((e=>"text"in e?e.text?.text?.text:"")).join(" ").trim()||""}if(e.title)return e.title?.text;if(t)switch(t?.type){case _.D.standardHeaderPayload:return"text"===t?.standardHeaderPayload?.title?.richTextElements?.[0]?.type?t?.standardHeaderPayload?.title?.richTextElements?.[0]?.text?.text?.text:"";case _.D.storeHeaderPayload:return"text"===t?.storeHeaderPayload?.title?.richTextElements?.[0]?.type?t?.storeHeaderPayload?.title?.richTextElements?.[0]?.text?.text?.text:"";case _.D.bannerHeaderPayload:return"text"===t?.bannerHeaderPayload?.title?.richTextElements?.[0]?.type?t?.bannerHeaderPayload?.title?.richTextElements?.[0]?.text?.text?.text:"";default:return""}}return""};function l(e){switch(e.payload?.type){case a.p.standardItemsPayload:return O(e)?.ctaMetadata?.ctaUri||"";case a.p.categoryItemPayload:return L(e)?.ctaUri||""}return""}function T(e){if(!e)return null;const t=O(e);return t?t?.ctaMetadata:null}function c(e){const t=(e||[]).filter((e=>e.imageUrl)).slice(0,3);return{visibleItems:t,itemsWithoutImagesCount:(e||[]).length-t.length}}function C(e,t,E){if(!e||!E)return[];let r=e;return t&&E&&E[t]&&(r=E[t]),r??[]}function S(e,t){let E=0;return e.reduce(((e,r)=>{const _=r.catalogSectionUUID;if(!_||r.payload?.type!==a.p.standardItemsPayload)return e;const n=r.payload?.standardItemsPayload?.catalogItems||[];if(E+n.length>=t){const r=t-E;return E+=r,{...e,[_]:r}}return E+=n.length,{...e,[_]:n.length}}),{})}function D(e,t){return e.map((e=>{const E=e?.reviewText?.text||"";if(E.length<=t)return e;let r=t;for(;" "!==E[r]&&r>0;)r--;return{...e,reviewText:{...e.reviewText,text:`${E.slice(0,r)}...`}}}))}const u=e=>{let{catalogItem:t,sectionUuid:E,catalogSectionUuid:r,isGrocery:a,isMerchantOffersEnabled:_}=e;return!a&&_?E:t.sectionUuid?t.sectionUuid:r},I=(e,t)=>{let E="";if(!e?.endorsement?.text||"confidence_builders_eater_endorsed"!==e?.endorsementAnalyticsTag)return e?.endorsement?.text;{const r=e.endorsement.text.split(",");"treatment_1"===t&&(E=parseInt(r[0])<60?"":r[0]+"% ("+r[1]+")"),"treatment_2"===t&&(E=parseInt(r[0])<80?"":r[0]+"% ("+r[1]+")")}return E},P=(e,t)=>{let E=0,r=0,_=0;return"treatment_1"!==t&&"treatment_2"!==t||e?.forEach((e=>{e?.payload?.type===a.p.standardItemsPayload&&e?.payload?.standardItemsPayload&&(e?.payload?.standardItemsPayload?.catalogItems||[]).forEach((e=>{r=++r,"confidence_builders_eater_endorsed"===e.endorsementAnalyticsTag&&(E=++E,I(e,t)&&(_=++_))}))})),{totalMenuItems:r,totalMenuItemsWithRatings:E,totalMenuItemsWithRatingsInTreatment:_}},N=e=>!!e.type&&[String(r.LK.BUNDLE_STORE),String(r.LK.HORIZONTAL_GRID),String(r.LK.VERTICAL_GRID),String(r.LK.EATER_MESSAGE),String(r.LK.AD_CANVAS),String(r.LK.ACTIVE_CART),String(r.LK.AISLE_SHORTCUTS)].includes(e.type);function H(e){return"label"===e?.type}function f(e){return Boolean(e?.ctaUri)&&Boolean(e?.ctaMetadata?.ctaLabel)}}}]);