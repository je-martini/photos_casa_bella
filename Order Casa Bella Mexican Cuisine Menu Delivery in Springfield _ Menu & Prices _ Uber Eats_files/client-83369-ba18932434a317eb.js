(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[83369,59381],{__fusion__340:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(91931),i=r(90981),a=r(89400),o=r(33990);const s=(0,n.zo)("div",{display:"flex",flexDirection:"row",paddingTop:"24px"}),l=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary}})),c=()=>{const{rankingDisclaimer:e}=(0,i.Z)();return e&&"MARKUP_TEXT"===e.type?(0,o.tZ)(s,{children:(0,o.tZ)("a",{href:e.actionUrl,children:(0,o.tZ)(l,{children:(0,o.tZ)(a.Z,{badge:{textFormat:e.text}})})})}):null}},20343:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(43193),i=r(91631),a=r(72843),o=r(60849),s=r(47986),l=r(1920),c=r(97763),d=r(7139),u=r(94813),h=r(33990);const g=e=>{let{workflowUUID:t,isMobile:r}=e;const a=(0,u.TH)(),o=(0,d.Z)();n.useEffect((()=>{o(!1)}),[o]);const l={workflowUUID:t,ratingFlow:"store",entryPoint:"popover"};return(0,h.tZ)(i.l_,{to:r?(0,s.Ea6)(a,l):(0,s.L6c)(a,l),push:!0})},p=e=>{let{isMobile:t}=e;const r=(0,u.TH)(),{data:n}=(0,l.Z)();if(!(0,o.ip)({...c.J.enable_feed_rating_popover,defaultValue:!0})||!n)return null;const d=a.parse(r.search);return Boolean(d[s.FSm.modalName])?null:n.hasSuperfansRatingPage?(0,h.tZ)(g,{workflowUUID:n.workflowUUID,isMobile:t}):(0,h.tZ)(i.l_,{to:(0,s.vN_)(r,"pendingRating")})}},74181:(e,t,r)=>{"use strict";r.d(t,{Z:()=>F});var n=r(43193),i=r(60849),a=r(94813),o=r(47986),s=r(87763),l=r(52200),c=r(31913),d=r(91931),u=r(52246),h=r(91631),g=r(20115),p=r(8639),m=r(33535),f=r(22849),y=r(19912),v=r(82471),b=r(33442),Z=r(79857),_=r(63300),k=r(91377),L=r(33990);const R=(0,d.zo)("div",{display:"flex",flexDirection:"column",alignItems:"center"}),C=(0,d.zo)("div",(e=>{let{$size:t}=e;return{position:"relative",marginBottom:"small"===t?"2px":"4px"}})),T=(0,d.zo)("div",(e=>{let{$isSelected:t,$theme:r,$background:n}=e;return{position:"absolute",borderRadius:"50%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",transitionDuration:r.animation.timing300,transitionTimingFunction:r.animation.easeInOutQuinticCurve,height:"100%",width:"100%",...n&&t?{background:r.colors[n]}:{}}})),x=(0,d.zo)("div",(e=>{let{$theme:t,$isSelected:r}=e;return{display:"block",width:"100%",aspectRatio:"1",objectFit:"contain",transitionDuration:t.animation.timing300,transitionTimingFunction:t.animation.easeInOutQuinticCurve,...r?{transform:"rotate(20deg)"}:{}}})),A=(0,d.zo)(u.rU,{display:"flex",flexDirection:"column",alignItems:"center",minWidth:"72px",maxWidth:"fit-content",position:"relative"}),F=n.forwardRef((e=>{const t=(0,y.Z)({eventName:"eats:home_feed_refresh_cuisine_shortcut_impression",intersectionObserverProps:{threshold:1},eventPayload:{value:e.item.value||"",uuid:e.item.uuid||"",hasSelectedTitle:Boolean(e.item.selectedTitle)}}),r=(0,i.ip)({...v.k.enable_sort_and_filters_deeplink_action_support,defaultValue:!1}),d=n.useRef(null),u=(0,a.TH)(),F=(0,h.k6)(),I=e.item.value,P=e.item.uuid;let w;const O=(0,m.ZP)(),B=(0,g.Z)("feed_refresh_grocery_category_page_details"),$=(0,g.Z)("feed_refresh_alcohol_category_page_details"),D=(0,g.Z)("feed_refresh_boxed_catering_category_page_details"),U=B.grocery_uuid||"150c831c-0e4c-4442-8139-7a9abba53f64",S=B.grocery_value||"Grocery",q=$.alcohol_uuid||"ca349645-926b-4520-afc7-7939dee4ccf7",z=$.alcohol_value||"Alcohol",Q="deepLinkAction"===e.item.action?.type?e.item.action?.deepLinkAction.deepLinkURL??"":"",E=(0,b.A)(Q),V=E.pathname+E.search,N=(0,Z.Z)();let M=!1;r&&V.length>0?w=V:I===S||P===U?w=(0,o.Z8w)(u,{verticalType:"Shop"}):I===z||P===q?w=(0,o.Z8w)(u,{verticalType:f.Cf.ALCOHOL}):I===D?.value||P===D?.uuid?w=(0,o.Xqq)(u,{userQuery:I??"",keyName:D?.keyName,searchSource:D?.searchSource}):(M=N,w=(0,o.BFt)(u,{searchCategoryQuery:I||""}));const{searchCategoryQuery:H}=(0,o.RAN)(u,["searchCategoryQuery"]),K=H===I,W=(0,o.CiO)(u,["searchCategoryQuery"]);let X="primitiveBackgroundColor"===e.item.selectedBackgroundColor?.type?(0,p.D_)(e.item.selectedBackgroundColor?.primitiveBackgroundColor):null;"amber100"===X&&(X="yellow200");const j=X||"green100",G=K?W:w,{onClick:J,impressionRef:Y}=(0,_.v)({impressionEventName:"shortcut_filter_carousel_item_impression",tapEventName:"shortcut_filter_carousel_item_tap",payload:{value:e.item.value,position:e.position,feedContext:e.pageType,applied:K}});return(0,L.tZ)("li",{style:{position:"relative",maxWidth:"95px"},ref:(0,k.Z)(t,Y),children:(0,L.tZ)(A,{ref:d,"data-testid":"shortcut-refresh-button",onClick:async t=>{t.preventDefault(),J(),O("eats:home_feed_refresh_cuisine_impression",{value:e.item.value||"",uuid:e.item.uuid||"",selected:K,deepLinkAction:{isDeepLinkAction:"deepLinkAction"===e.item.action?.type,hasDeepLink:V.length>0},hasSelectedTitle:Boolean(e.item.selectedTitle)}),M?F.replace(G):F.push(G)},to:G,children:(0,L.BX)(R,{children:[(0,L.BX)(C,{$size:e.size,children:[(0,L.tZ)(T,{$background:j,$isSelected:K}),(0,L.tZ)(x,{$isSelected:K,children:(0,L.tZ)(l.SZ,{richIllustration:e.item.image,styleOverrides:{width:"max-content"},lazyload:e.lazyload})})]}),(0,L.tZ)(s.Z,{clamp:Number(1),wordBreak:"break-all",children:(0,L.tZ)(c.ZP,{text:e.item.selectedTitle})})]},e.item.uuid)})})}))},72758:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(47986),i=r(74622),a=r(2237),o=r(62459);var s=r(94813),l=r(12040),c=r(85218);const d=e=>{const t=(0,s.TH)(),r=(0,n.U8Z)(t.search,["searchCategoryQuery","date","startTime","endTime","carouselId","sortAndFilters"]),d={date:r.date,startTime:Number(r.startTime),endTime:Number(r.endTime),sortAndFilters:(0,l.nL)(r.sortAndFilters),surfaceName:e?.surfaceName,cacheKey:""},u=(0,c.Z)()&&Boolean(!r.searchCategoryQuery)&&Boolean(r.sortAndFilters);return{sortAndFilters:function(e){const t=(0,o.Z)("allStoresV1"),r=(0,a.H)("allStoresV1",e.getInitialRequestArguments());return(0,i.useInfiniteQuery)({queryKey:r,queryFn:e=>{let{pageParam:r,queryKey:n}=e;return t.request("allStoresV1",r||n[1])},enabled:e.enabled,getNextPageParam:e.getNextPageParam})}({enabled:u,getInitialRequestArguments:()=>d,getNextPageParam:e=>{if(e.meta.hasMore)return{...d,pageInfo:{offset:e.meta.offset,pageSize:null}}}}),shouldGetSortAndFilters:u}}},25174:(e,t,r)=>{"use strict";r.d(t,{O0:()=>k,Rf:()=>g,W4:()=>_,ZP:()=>L,i6:()=>b,k2:()=>Z,mQ:()=>m,y_:()=>v});var n=r(36151),i=r(91931),a=r(25750),o=r(36278),s=r(94579),l=r(11652),c=r(7646),d=r(85191),u=r(29194),h=r(33990);const g=1e3,p=16,m={FORWARD:"FORWARD",BACK:"BACK"},f=(0,i.zo)("div",{display:"flex",position:"relative"}),y=(0,i.zo)("div",(()=>({overflowX:"scroll",scrollBehavior:"smooth",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}}))),v=(0,i.zo)("div",(e=>{let{$theme:t,$hidden:r,$rtl:n}=e;return{height:"100%",display:"flex",alignItems:"center",background:`linear-gradient(to ${n?"left":"right"}, ${t.colors.backgroundPrimary} 10%, rgba(255, 255, 255, 0) 90%)`,cursor:"pointer",pointerEvents:"all",visibility:r?"hidden":"visible",...n?{paddingLeft:"24px"}:{paddingRight:"24px"}}})),b=(0,i.zo)("div",(e=>{let{$theme:t,$hidden:r,$rtl:n}=e;return{height:"100%",display:"flex",alignItems:"center",background:`linear-gradient(to ${n?"right":"left"}, ${t.colors.backgroundPrimary} 10%, rgba(255, 255, 255, 0) 90%)`,cursor:"pointer",pointerEvents:"all",visibility:r?"hidden":"visible",...n?{paddingRight:"24px"}:{paddingLeft:"24px"}}})),Z=(0,i.zo)("div",{position:"absolute",display:"flex",justifyContent:"space-between",zIndex:s.I_.surface,width:"100%",height:"100%",pointerEvents:"none"}),_=(0,i.w1)(c.ZP,(e=>{let{$theme:t}=e;return{background:t.colors.backgroundPrimary,display:"flex",justifyContent:"center",alignItems:"center",height:"40px",paddingRight:"12px",paddingLeft:"12px",boxShadow:t.shadows.floatingButton,transition:"all 300ms ease",":hover":{background:t.colors.backgroundTertiary}}})),k=e=>{let{direction:t,onButtonClick:r,component:n}=e;const i=(0,u.gm)();let a=t===m.FORWARD;"rtl"===i&&(a=!a);const o=n||_;return(0,h.tZ)(o,{onClick:r,children:(0,h.tZ)(l.Z,{rotate:a?180:0,size:16})})};function L(e){let{items:t,renderItem:r,renderForwardButton:i,renderBackButton:s,animate:l,arrowScrollAmount:c=g,spacerWidth:_=p,scrollRef:k}=e;const L="rtl"===(0,u.gm)(),R=(0,n.useRef)(null),C=(0,n.useRef)(null),[T,x]=(0,d.Z)({root:R?.current,threshold:.75}),[A,F]=(0,d.Z)({root:R?.current,threshold:.75}),I=(0,n.useCallback)((e=>{C.current=e,k&&(k.current=e)}),[k]),P=(0,n.useCallback)((e=>{if(!C.current)return;let t=e===m.FORWARD;L&&(t=!t),t?l?C.current.scrollTo({left:C.current.scrollLeft+c,behavior:"smooth"}):C.current.scrollLeft+=c:l?C.current.scrollTo({left:C.current.scrollLeft-c,behavior:"smooth"}):C.current.scrollLeft-=c}),[L,l,c]);return(0,h.BX)(f,{ref:R,children:[(0,h.BX)(Z,{children:[(0,h.tZ)(v,{$hidden:x?.isIntersecting??!0,$rtl:L,children:s((()=>P(m.BACK)))}),(0,h.tZ)(b,{$hidden:F?.isIntersecting??!0,$rtl:L,children:i((()=>P(m.FORWARD)))})]}),(0,h.tZ)(y,{ref:I,children:(0,h.tZ)(f,{children:(0,h.tZ)(a.Z,{separator:()=>(0,h.tZ)(o.KG,{$as:"div",$width:`${_}px`}),children:t.map(((e,n)=>0===n?(0,h.tZ)("div",{ref:T,children:r({item:e,index:n})},n):n===t.length-1?(0,h.tZ)("div",{ref:A,children:r({item:e,index:n})},n):(0,h.tZ)("div",{children:r({item:e,index:n})},n)))})})})]})}},70469:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(91931),i=r(46933),a=r(32857),o=r(94813),s=r(91631),l=r(47986),c=r(71389),d=r(33535),u=r(89400),h=r(33990);const g=(0,n.zo)("div",{display:"flex",overflowX:"auto",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"}),p=(0,n.zo)("h1",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium}})),m=e=>{let{title:t}=e;const r=(0,o.TH)(),n=(0,s.k6)(),m=(0,d.ZP)(),{searchCategoryQuery:f,sortAndFilters:y}=(0,l.RAN)(r,["searchCategoryQuery","sortAndFilters"]),v=(0,l.CiO)(r,["searchCategoryQuery","sortAndFilters"]);return(0,h.BX)(g,{children:[(()=>{if(!t)return"";const e=(0,c.W)(t);return e?(0,h.tZ)(p,{children:e}):"string"!=typeof t&&t.textFormat?(0,h.tZ)(p,{children:(0,h.tZ)(u.Z,{badge:t,baseFont:"LabelMedium"})}):""})(),f||y?(0,h.tZ)(a.Z,{kind:"secondary",size:"compact",shape:"pill",onClick:()=>{m("eats:home_feed_refresh_reset"),n.replace(v)},children:(0,h.tZ)(i.v,{id:"shared.reset"})}):null]})}},26610:(e,t,r)=>{"use strict";r.d(t,{Z:()=>A});var n=r(43193),i=r(91631),a=r(92300),o=r(20170),s=r(25484),l=r(41368),c=r(91931),d=r(94813),u=r(29194),h=r(85191),g=r(33535),p=r(47986),m=r(16183),f=r(91377),y=r(79857),v=r(31913),b=r(91044),Z=r(3934);const _=e=>{const t=(0,Z.Z)(),{tabs:r,analyticsLabel:i}=n.useMemo((()=>{const r={tabs:[],analyticsLabel:""};return t&&e.hasLoaded&&e.data?.feedHeader?(e=>{if(!e?.headerFeedItems)return{tabs:[],analyticsLabel:""};const t=e.headerFeedItems.find((e=>e.type===b.an.SORT_AND_FILTERS&&"multiVerticalTab"==e.payload?.sortAndFiltersPayload?.type));return{tabs:t?.payload?.sortAndFiltersPayload?.sortAndFilters?.find((e=>"multiverticaltabs"==e.tab))?.values?.[0]?.options||[],analyticsLabel:t?.analyticsLabel||""}})(e.data.feedHeader):r}),[e.data?.feedHeader,e.hasLoaded,t]);return{tabs:r,analyticsLabel:i}};var k=r(25174),L=r(33990);const R=(0,c.zo)("div",{display:"flex",position:"relative"}),C=(0,c.w1)(k.k2,(e=>{let{$theme:t}=e;return{height:t.sizing.scale1400}})),T=(0,c.w1)(k.W4,(e=>{let{$theme:t}=e;return{height:t.sizing.scale950,width:t.sizing.scale950}})),x=n.forwardRef((function(e,t){let{children:r,tabsContainerRef:i,tab:a,tabIndex:s,...l}=e;const c=(0,g.I0)(),[d,u]=(0,h.T)({root:i.current,threshold:1});return n.useEffect((()=>{u?.isIntersecting&&c("eats:mv_top_nav_item_impression",{value:a.value,position:String(s)},`eats:mv_top_nav_item_impression-${a.value}-${s}`)}),[c,a.value,s,u?.isIntersecting]),(0,L.tZ)(o.iC,{ref:(0,f.Z)(t,d),...l,children:n.Children.map(r,(e=>{if(e)return"string"==typeof e?(0,L.tZ)(v.ZP,{text:l.$isActive?a.selectedTitle:a.title,whiteSpace:"nowrap"}):e}))})})),A=e=>{let{feed:t,smoothScroll:r=!1,smoothScrollOffset:f=0,slideControlsEnabled:v=!1,overrides:b,children:Z}=e;const A=n.useRef(null),F=n.useRef({}),I=(0,d.TH)(),P=(0,i.k6)(),w=(0,y.Z)(),O=(0,u.gm)(),B=(0,g.ZP)(),{verticalTab:$}=(0,p.RAN)(I,["verticalTab"]),{tabs:D,analyticsLabel:U}=_(t),[,S]=(0,c.hQ)(),[q,z]=(0,h.T)({root:A.current,threshold:.1}),[Q,E]=(0,h.T)({root:A.current,threshold:.1}),V="rtl"===O,N=D[0]?.value||"";n.useEffect((()=>{if(!r)return;const e=F.current[$||N];if(A.current&&e){const t=V?"right":"left";(0,m.Z)(A.current,e,500,t,!1,v?60:f)}}),[N,V,v,r,f,$]);const M=n.useCallback((e=>{let{activeKey:t}=e;const r=t===N?(0,p.CiO)(I,["verticalTab"]):(0,p.E3T)(I,{verticalTab:t});w?P.replace(r):P.push(r),B("eats:mv_top_nav_item_click",{value:t,position:String(D.findIndex((e=>e.value===t)))})}),[N,B,P,w,I,D]),H=(e,t)=>r=>{F.current[e]=r,v&&r&&(0===t&&(q.current=r),t===D.length-1&&(Q.current=r))},K=e=>{if(!A.current)return;let t=e===k.mQ.FORWARD;V&&(t=!t),A.current.scrollTo({left:t?A.current.scrollLeft+k.Rf:A.current.scrollLeft-k.Rf,behavior:"smooth"})},W=(0,a.aO)(b,{TabList:{style:{paddingBottom:S.sizing.scale0,marginBottom:`-${S.sizing.scale0}`},props:{ref:A}},TabBorder:{style:{maxHeight:S.sizing.scale0}}}),[X,j]=(0,a.jb)(W?.TabBorder,o.as),[G,J]=(0,a.jb)(W?.TabList,o.vy);return(0,L.BX)(L.HY,{children:[D.length?(0,L.BX)(R,{children:[v?(0,L.BX)(C,{children:[(0,L.tZ)(k.y_,{$hidden:z?.isIntersecting??!0,$rtl:V,children:(0,L.tZ)(k.O0,{onButtonClick:()=>K(k.mQ.BACK),direction:k.mQ.BACK,component:T})}),(0,L.tZ)(k.i6,{$hidden:E?.isIntersecting??!0,$rtl:V,children:(0,L.tZ)(k.O0,{onButtonClick:()=>K(k.mQ.FORWARD),direction:k.mQ.FORWARD,component:T})})]}):null,(0,L.tZ)(s.m,{activeKey:$||N,onChange:M,activateOnFocus:!0,overrides:{Root:{style:{width:"100%"}},TabList:{style:J.$style,props:J,component:G},TabHighlight:{style:{height:S.sizing.scale0}},TabBorder:{style:j.$style,props:j,component:X}},children:D.map(((e,t)=>e.value?(0,L.tZ)(l.O,{tabRef:H(e.value,t),overrides:{Tab:{style:{":hover":{background:"none"}},props:{tabsContainerRef:A,tab:e,tabIndex:t},component:x},TabPanel:{style:{display:"none"}}}},e.value):null))})]}):null,Z?Z({tabs:D,analyticsLabel:U}):null]})}},9939:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(55758),i=r(92431),a=r(87696),o=r(60849),s=r(82471),l=r(33535);const c=()=>{const e=(0,n.d)(),t=(0,i.Z)(),r=(0,o.ip)({...s.k.feed_dining_mode_adjust,defaultValue:!1}),c=(0,l.ZP)();if(r&&"DINE_IN"===e){const r="DELIVERY";(0,a.GR)(t,r),c("eats:dining_mode_adjusted",{origin:e,adjusted:r})}}},3934:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(60849),i=r(82471);const a=()=>(0,n.ip)({...i.k.feed_multi_vertical_top_navigation,defaultValue:!1})},68256:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(36151),i=r(94813),a=r(74622),o=r(2237),s=r(62459);var l=r(95835),c=r(47986),d=r(98976),u=r(32504);const h=e=>{let{tabs:t,analyticsLabel:r}=e;const h=(0,i.TH)(),{cacheKey:g,feedArgs:p}=(0,u.Z)(),{verticalTab:m}=(0,c.RAN)(h,["verticalTab"]),f=(0,n.useMemo)((()=>{if(!m||!t.length)return;const e=t[0];return t.find((e=>e.value===m))||e}),[t,m]),y="getLegacyFeedAction"===f?.action?.type?f.action.getLegacyFeedAction:null,v="getFeedAction"===f?.action?.type?f.action.getFeedAction:null,b=(0,d.hn)(function(e,t){const r=(0,s.Z)("getFeedV1"),n=(0,o.H)("getFeedV1",e);return(0,a.useQuery)({queryKey:n,queryFn:e=>{let{queryKey:t}=e;return r.request("getFeedV1",t[1])},...t?.queryObserverOptions})}({cacheKey:g,...p,...y?.navigationVertical?{verticalTab:y.navigationVertical}:{}},{queryObserverOptions:{enabled:Boolean(y?.navigationVertical)}})),Z=(0,d.hn)((0,l.N)({feedID:v?.feedID||"",deliveryLocation:[{type:"USER"},{type:"GEOIP"}],feedmakerCtx:v?encodeURIComponent(JSON.stringify(v.serializedRequestContext)):""},{queryObserverOptions:{enabled:Boolean(v?.feedID)}}));return y?b:v?Z:null}},68350:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(36151),i=r(52246),a=r(91931),o=r(89400),s=r(47986),l=r(94813),c=r(33990);const d=(0,a.zo)("div",{display:"flex",flexDirection:"row",paddingTop:"24px"}),u=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentPrimary}})),h=e=>Boolean(s.V$W[g(e)||""]),g=e=>new URLSearchParams(e).get(s.FSm.modalName)||"",p=e=>{const{feed:t}=e,r=(0,l.TH)(),a=(0,n.useMemo)((()=>{if(0!==t.feedItems.length){const e=t.feedItems.findLast((e=>"MARKUP_TEXT"===e.type));if(e&&"MARKUP_TEXT"===e.type)return e}return null}),[t]);if(!a||!a.text)return null;const p=(0,c.tZ)(u,{children:(0,c.tZ)(o.Z,{badge:{textFormat:a.text},baseFont:"ParagraphSmall"})});return a.actionUrl&&(e=>e.startsWith("https://")||h(e))(a.actionUrl)?h(a.actionUrl)?(0,c.tZ)(d,{children:(0,c.tZ)(i.rU,{to:(0,s.vN_)(r,g(a.actionUrl)),children:p})}):(0,c.tZ)(d,{children:(0,c.tZ)("a",{href:a.actionUrl,children:p})}):(0,c.tZ)(d,{children:p})}},1705:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(91044);const i=e=>{if(null==e||null==e)return null;const t=e?.headerFeedItems;if(null==t||null==t)return null;let r=[];const i=t.filter((e=>e.type==n.an.SORT_AND_FILTERS)).find((e=>"cuisines"==e.payload?.sortAndFiltersPayload?.type));if(i){r=(i?.payload?.sortAndFiltersPayload?.sortAndFilters||[]).find((e=>"cuisines"==e.tab))?.values?.[0]?.options||[]}return{cuisineFilter:r}}},98219:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(35207),i=r(673),a=r(91931),o=r(83118),s=r(71110),l=r(8639),c=r("__fusion__1019"),d=r(33990);const u=(0,a.zo)("div",(e=>{let{$theme:t,$backgroundColor:r}=e;return{...r?{backgroundColor:t.colors[r]}:{},display:"flex",flexDirection:"row",alignItems:"center",width:"100%",height:"100%",justifyContent:"space-between",paddingLeft:"16px"}})),h=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer"}})),g=(0,a.zo)("div",(()=>({display:"flex",alignItems:"center",justifyContent:"center",height:"100%",cursor:"pointer"}))),p=(0,a.zo)("div",(()=>({width:"32px"}))),m={style:"LABEL_LARGE",weight:"NORMAL"},f=(e,t)=>({...e,backgroundColor:e.backgroundColor||t,text:{...e.text,text:e.text?.text||"",font:e.text?.font||m}}),y=()=>{const{banner:e,onBannerClick:t,closeBanner:a}=(0,i.Z)();if(!e)return null;const m=(e=>{if(!e)return"";const t=e.split("/"),n=t[t.length-1],i=(0,s.pZ)(r(25028));switch(n){case"uber_one_l.json":return i;default:return""}})(e.animatedIconURL),y={type:"spacingValue",spacingValue:"SPACING_UNIT_4X"},v={height:y,width:y};return(0,d.BX)(u,{$backgroundColor:(0,l.Lq)(e.backgroundColor),children:[(0,d.tZ)(p,{children:m?(0,d.tZ)(o.Z,{animationUrl:m}):null}),(0,d.BX)(h,{onClick:t,children:[e.title?(0,d.tZ)(n.ZP,{badge:f(e.title,e.backgroundColor)}):null,e.subtitle?(0,d.tZ)(n.ZP,{badge:f(e.subtitle,e.backgroundColor)}):null]}),(0,d.tZ)(g,{onClick:a,children:e.trailingIcon?(0,n.q7)({...e.trailingIcon,dimensions:e.trailingIcon.dimensions||v}):(0,d.tZ)(c.default,{color:"white",height:32,width:32})})]})}},673:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(36151),i=r(91631),a=r(94813),o=r(55811),s=r(33535),l=r(34626),c=r(47986);function d(){const[e,t]=(0,n.useState)(!0),r=(0,s.ZP)(),{user:d,getUser:u}=(0,l.Z)(),h=(0,a.TH)(),g=(0,i.k6)(),p=(0,o.Z)(),m=d.data?.subscriptionMeta?.banner;(0,n.useEffect)((()=>{m&&r("eats:membership_bottom_screen_banner_impression",{type:m.type||""})}),[m,u,r]);const f=(0,n.useCallback)((()=>{if(!m)return;const e="postmates"===p,t=m.actionURL,{entryPoint:n}=(0,c.ubZ)(t||"",["entryPoint"]),i=(0,c.DZj)({location:h,path:h.pathname,newQueryParams:{entryPoint:n,accessPoint:n}}),a=e?(0,c.YC_)(i):(0,c.sLe)(i),o=e?"purchaseUnlimited":"purchaseEatsPass",s=(0,c.vN_)(a,o,"",h);r("eats:membership_bottom_screen_banner_click",{membership:{bottomScreenBannerType:m.type||""}}),g.push(s)}),[m,g,h,r,p]),y=(0,n.useCallback)((()=>{t(!1)}),[t]);return{banner:e?m:void 0,onBannerClick:f,closeBanner:y}}},29265:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(36151),i=r(54669);function a(){const e=(0,i.Z)(),[t,r]=(0,n.useState)(null);return{updateFeedMapContextMeta:()=>{r(e)},shouldFeedIncludeMapContext:t?.reference===e?.reference}}},36899:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(75514);const i=(()=>{let e=Date.now();return t=>{const r=Date.now();r-e>16?(e=r,t(r)):setTimeout((()=>i(t)),0)}})(),a=n.Z?.requestAnimationFrame||n.Z?.webkitRequestAnimationFrame||n.Z?.mozRequestAnimationFrame||i},7139:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(36151),i=r(47986),a=r(91631),o=r(94813),s=r(2237),l=r(1920),c=r(44789),d=r(74622),u=r(40719);function h(){const{data:e}=(0,l.Z)(),t=e?.workflowUUID,{submitRating:r}=(0,c.Z)({invalidateLatestPendingRatingQuery:!1,invalidatePastOrdersQuery:!1}),h=(0,a.k6)(),g=(0,o.TH)(),p=(0,d.useQueryClient)(),m=(0,s.H)("getLatestPendingRatingV1",void 0),f=(0,u.Z)();return(0,n.useCallback)((function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];p.setQueryData(m,null),e&&(f?h.push((0,i.tLx)(g,"ORDER_COMPLETE_PUSH_BOTTOM_MODAL")):h.replace((0,i.C45)(g))),t&&r({workflowUUID:t})}),[p,m,h,g,t,r,f])}},1920:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(15070),i=r(74622),a=r(2237),o=r(62459);function s(e,t){const r=(0,o.Z)("getLatestPendingRatingV1"),n=(0,a.H)("getLatestPendingRatingV1",e);return(0,i.useQuery)({queryKey:n,queryFn:e=>{let{queryKey:t}=e;return r.request("getLatestPendingRatingV1",t[1])},...t?.queryObserverOptions})}const l=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,n.v)((e=>{let{user:t}=e;return t.data?.isLoggedIn}));return s(void 0,{queryObserverOptions:{enabled:t&&e}})}},40719:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(97763),i=r(60849),a=r(71041),o=r(32650);function s(){const{getEaterMessageInterstitialSessionCapper:e}=(0,a.Z)(),t=(0,i.ip)({...n.J.order_complete_interstitial_enable,defaultValue:!1}),r=(0,o.Q)("ORDER_COMPLETE_PUSH_BOTTOM_MODAL"),s=(function(e){return Array.isArray(e?.messages)}(r?.msg)&&r?.msg.messages?r?.msg.messages:[])[0]?.message?.payload,l=s&&"modalPayload"===s.type?s?.modalPayload.uuid??"":"";return t&&!e("ORDER_COMPLETE_PUSH_BOTTOM_MODAL",l||"")}},44789:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(74622),i=r(20568);const a=function(){let{invalidateLatestPendingRatingQuery:e=!0,invalidatePastOrdersQuery:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(0,n.useQueryClient)(),a=(0,i.Z)("submitRatingV1"),{mutate:o,isLoading:s,isSuccess:l,isError:c,data:d,error:u}=(0,n.useMutation)((e=>a(e)),{onSuccess:(n,i)=>{t&&r.invalidateQueries("getPastOrdersV1"),e&&r.invalidateQueries("getLatestPendingRatingV1"),i.workflowUUID&&r.invalidateQueries(["getPendingRatingV1",{orderUuid:i.workflowUUID}],{refetchActive:!1})}});return{submitRating:o,submitRatingLoadable:{error:u,data:d,isLoading:s,hasLoaded:c||l}}}},16183:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(36899);const i=(e,t,r,i,a,o)=>{const s=e.scrollLeft,l=e.clientWidth,c=t.clientWidth;let d;if("right"===i?(d=t.offsetLeft+c-l,o&&(d+=o)):(d=t.offsetLeft,o&&(d-=o)),a)return e.scrollLeft=d,Promise.resolve();const u=d-s;let h=null;return new Promise((t=>{const i=a=>{null===h&&(h=a);const o=a-h,l=((e,t,r,n)=>(e/=n/2)<1?r/2*e*e*e*e*e+t:r/2*((e-=2)*e*e*e*e+2)+t)(o,s,u,r);e.scrollLeft=l,o<r?(0,n.Z)(i):t()};(0,n.Z)(i)}))}},95835:(e,t,r)=>{"use strict";r.d(t,{L:()=>l,N:()=>s});var n=r(74622),i=r(2237),a=r(62459),o=r(81436);function s(e,t){const r=(0,a.Z)("getFeedByIdV1"),o=(0,i.H)("getFeedByIdV1",e);return(0,n.useQuery)({queryKey:o,queryFn:e=>{let{queryKey:t}=e;return r.request("getFeedByIdV1",t[1])},...t?.queryObserverOptions})}function l(e,t){const r=(0,a.Z)("getFeedByIdV1"),s=(0,n.useQueryClient)(),l=(0,i.H)("getFeedByIdV1",e),c=(0,n.useQuery)({queryKey:l,queryFn:e=>{let{queryKey:t}=e;return r.request("getFeedByIdV1",t[1])},...t?.queryObserverOptions}),d=Boolean(t.queryObserverOptions?.enabled??!0);return(0,o.Z)((()=>!c.isFetched&&d?s.prefetchQuery({queryKey:l,queryFn:e=>{let{queryKey:t}=e;return r.request("getFeedByIdV1",t[1])}}):null),[c,r,l,s,d],t.preparedId,(0,n.hashQueryKey)(l)),c}},30447:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(36151),i=r(15070),a=r(71576),o=r(34626),s=r(20924),l=r(87444);const c=()=>{const{user:e}=(0,o.Z)(),t=(0,i.v)((e=>e.eatsCommsControl)),r=(0,l.Z)("gratis"),c=(0,s.Z)(),d=r&&e.data?.isLoggedIn&&!c&&!t.isLoading&&!t.hasLoaded&&!t.error,u=(0,a.Z)("checkAndUpdateGratisV1"),h=(0,n.useCallback)((()=>{u()}),[u]);return(0,n.useEffect)((()=>{d&&h()}),[d,h]),{shouldCheckAndUpdateGratis:d,checkAndUpdateGratis:h}}},14055:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a,k:()=>o});var n=r(1257),i=r(87444);function a(e){const t=(0,n.Z)(e),r=(0,i.Z)("sort_and_filters")?t?.sortAndFilters:null,a=t?.diningModes;return{isLoading:!t||!t&&e.isLoading,hasLoaded:e.hasLoaded,error:e.error,data:t?{diningModes:a?.length?a:null,sortAndFilters:r?.length?r:null}:null}}const o=e=>Boolean((0,i.Z)("sort_and_filters")&&(e.isLoading||e.data?.sortAndFilters||e.data?.diningModes))},65126:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(36151),i=r(91631),a=r(74057),o=r(47986),s=r(78284),l=r(60849),c=r(4939),d=r(94813);function u(){const e=(0,d.TH)(),t=(0,i.k6)(),{deliveryLocation:r}=(0,a.Z)(),u=(0,l.ip)({...c.r.enable_param_location_sync,defaultValue:!1});(0,n.useEffect)((()=>{const n=r?.reference,i=(0,o.RAN)(e,["place"])?.place;if(!n||!i||!u)return;const a=(0,s.yz)(i)?.reference;if(a!==n){const n=(0,o.gOP)(e,r);t.replace(n)}}),[r,u,e,t])}},65706:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(94813),i=r(47986),a=r(68094),o=r(87444);const s=()=>{const e=(0,o.Z)("scheduled_feed_time_threshold"),t=(0,n.TH)(),r=(0,a.Z)();if(!e)return!1;const s=!!r&&Boolean("scheduled"in r),{date:l,startTime:c,endTime:d}=(0,i.U8Z)(t.search,["date","startTime","endTime"]);return l&&c&&d&&!s}},25028:(e,t,r)=>{e.exports=r.p+"9f6caef6d0932a82.json"}}]);